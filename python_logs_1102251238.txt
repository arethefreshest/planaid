python_service-1  | INFO:     Will watch for changes in these directories: ['/app']
python_service-1  | INFO:     Uvicorn running on http://0.0.0.0:8000 (Press CTRL+C to quit)
python_service-1  | INFO:     Started reloader process [1] using StatReload
python_service-1  | DEBUG:instructor:Patching `client.chat.completions.create` with mode=<Mode.MD_JSON: 'markdown_json_mode'>
python_service-1  | DEBUG:instructor:Patching `client.chat.completions.create` with mode=<Mode.MD_JSON: 'markdown_json_mode'>
python_service-1  | DEBUG:app.llm.extractor:Attempting to load codes from: /app/app/data/Reguleringsplan.csv
python_service-1  | DEBUG:app.llm.extractor:Loaded SOSI codes: {'2015', '5220', '1400', '1167', '3110', '6330', '2061', '1201', '6770', '1174', '2001', '2029', '1502', '2023', '6100', '1171', '3060', '1112', '1824', '1420', '6710', '6300', '1121', '1830', '5500', '2033', '2180', '1164', '2011', '1150', '1811', '6800', '1810', '1826', '1831', '2042', '2045', '6001', '1814', '1825', '6110', '2900', '(5000)', '5140', '2082', '1600', '2110', '1542', '2027', '(4000)', '6220', '1520', '1700', '1541', '1610', '1001', '1690', '2025', '2019', '5130', '5210', '1540', '5112', '1360', '1470', '3900', '6130', '4020', '2141', '1122', '3031', '5100', '6720', '3041', '1550', '2071', '5300', '3030', '2160', '2030', '2070', '1173', '3050', '1113', '1900', '5120', '6410', '1310', '2081', '1168', '5110', '2190', '6610', '1330', '6211', '1620', '1300', '2041', '2140', '(3000)', '5113', '1320', '5900', '6230', '5115', '2034', '4900', '2026', '2120', '6240', '1140', '1490', '(6000)', '4800', '5400', '1813', '2016', '3020', '3800', '1460', '2032', '1340', '5111', '6400', '6760', '(1000)', '1124', '1710', '2018', '2800', '1730', '6500', '1590', '1390', '2083', '1120', '2170', '1560', '3100', '1161', '3061', '1130', '2031', '1200', '2014', '6320', '5230', '6600', '1166', '2080', '1410', '4001', '2013', '1500', '6620', '1501', '2142', '1530', '(2000)', '2101', '1430', '2012', '5200', '1587', '1162', '6200', '2017', '2060', '2020', '6310', '1350', '4010', '2043', '1172', '1510', '1802', '1570', '2143', '1803', '3040', '2150', '2028', '3001', '1160', '6700', '6900', '2021', '6420', '6430', '1450', '1110', '1630', '1170', '1801', '4030', '1119', '2040', '2044', '2050', '5114', '6120', '2010', '1588', '1804', '2073', '5600', '1111', '1440', '1800', '2074', '1123', '2072', '1169', '1812', '2022', '2024', '1589'}
python_service-1  | DEBUG:app.llm.extractor:Loaded Benevnelseskoder: set()
python_service-1  | INFO:     Started server process [7]
python_service-1  | INFO:     Waiting for application startup.
python_service-1  | INFO:     Application startup complete.
python_service-1  | DEBUG:python_multipart.multipart:Calling on_part_begin with no data
python_service-1  | DEBUG:python_multipart.multipart:Calling on_header_field with data[40:52]
python_service-1  | DEBUG:python_multipart.multipart:Calling on_header_value with data[54:69]
python_service-1  | DEBUG:python_multipart.multipart:Calling on_header_end with no data
python_service-1  | DEBUG:python_multipart.multipart:Calling on_header_field with data[71:90]
python_service-1  | DEBUG:python_multipart.multipart:Calling on_header_value with data[92:226]
python_service-1  | DEBUG:python_multipart.multipart:Calling on_header_end with no data
python_service-1  | DEBUG:python_multipart.multipart:Calling on_headers_finished with no data
python_service-1  | DEBUG:python_multipart.multipart:Calling on_part_data with data[230:47259]
python_service-1  | DEBUG:python_multipart.multipart:Calling on_part_data with data[0:262144]
python_service-1  | DEBUG:python_multipart.multipart:Calling on_part_data with data[0:221858]
python_service-1  | DEBUG:python_multipart.multipart:Calling on_part_end with no data
python_service-1  | DEBUG:python_multipart.multipart:Calling on_part_begin with no data
python_service-1  | DEBUG:python_multipart.multipart:Calling on_header_field with data[221900:221912]
python_service-1  | DEBUG:python_multipart.multipart:Calling on_header_value with data[221914:221929]
python_service-1  | DEBUG:python_multipart.multipart:Calling on_header_end with no data
python_service-1  | DEBUG:python_multipart.multipart:Calling on_header_field with data[221931:221950]
python_service-1  | DEBUG:python_multipart.multipart:Calling on_header_value with data[221952:222090]
python_service-1  | DEBUG:python_multipart.multipart:Calling on_header_end with no data
python_service-1  | DEBUG:python_multipart.multipart:Calling on_headers_finished with no data
python_service-1  | DEBUG:python_multipart.multipart:Calling on_part_data with data[222094:262144]
python_service-1  | DEBUG:python_multipart.multipart:Calling on_part_data with data[0:142947]
python_service-1  | DEBUG:python_multipart.multipart:Calling on_part_end with no data
python_service-1  | DEBUG:python_multipart.multipart:Calling on_end with no data
python_service-1  | INFO:app.main:Received files: plankart=68439b63-02ea-41f0-8333-353a9ba6ff37.pdf, bestemmelser=d0d682fc-b1ab-4c68-b0fc-0cc17dee0625.pdf
python_service-1  | DEBUG:app.llm.extractor:Raw text from PDF: [{'content': 'Alfred Uglands veg\nEvje aktivitetspark\n50/132\n50/40\nGudvangen\n49/70\n49/87\n42/12\n49/78\n49/8050/128\n50/139\n50/101\n50/89\n49/77\n49/83\n50/6650/127 50/151\n42/51\n49/10\n49/82\n49/86\n50/40\n50/40\n50/59\n50/71\n50/132\n50/148\n50/155\n50/158\n50/600\n42/25\n50/637\nBR\nBIA\no_SPA\no_GF3\no_GF1\no_GF2\no_GTD1\no_GTD2\nA=2889 m¬≤\n%-BYA=\n40%\nBKS\nA=3304 m¬≤\n%-BYA=45%\no_SV1\no_SV3\nf_BE\nH220\nH210\n#01 SN√ò\n#02 SN√ò\nPlanert terreng =c+182,0moh\nH320\nVegstenges\no_SF2\no_SF1\n√ò430350\n√ò430425\n√ò430500\n√ò430575\nN6494250\nN6494325 N6494400\nN6494475\nN\n01937.5m\nTegnforklaring\nReguleringsplan PBL 2008\n¬ß12-5. Nr. 1 - Bebyggelse og anlegg\nBoligbebyggelse-konsentrert\nsm√•husbebyggelseBKS\nForsamlingslokale for\nreligionsut√∏velseBR\nIdrettsanleggBIA\nEnergianleggBE\n¬ß12-5. Nr. 2 - Samferdselsanlegg og\nteknisk infrastruktur\nVeg SV\nFortau SF\nParkering SPA\n¬ß12-5. Nr. 3 - Gr√∏nnstruktur\nTurdrag GTD\nFriomr√•deGF\n¬ß12-6 - Hensynssoner\nR√∏d sone iht. T-1442H210\nGul sone iht. T-1442H220\nFlomfare H320\n¬ß12-7 - Bestemmelseomr√•der\nVilk√•r for bruk av arealer, bygninger\nog anlegg #0 SN√ò\nLinjesymbol\nGrense for st√∏ysone\nGrense for faresone\nPlanens begrensning\nForm√•lgrense\nBestemmelsegrense\nByggegrense\nFrisiktlinje\nPunktsymboler\nStenging av avkj√∏rsel\nAvkj√∏rsel - b√•de inn og utkj√∏ring\nKartopplysninger\nKilde for basiskart:\nDato for basiskart:\nKoordinatsystem:\nH√∏ydegrunnlag:\nEkvidistanse:\nKartm√•lestokk:\n1m1:750\nKartverket 05.11.2019\nETRS89.UTM-32N\nNN2000\nDato\nArealplan-ID:\nForslagsstiller:\nSAKS-\nNR\nDATO SIGN\nTEGNNR. DATO SIGN.\nMed tilh√∏rende reguleringsbestemmelser\nSAKSBEHANDLING ETTER PLAN- OG BYGNINGSLOVEN\nPLANEN ER UTARBEIDET AV:\nDato\nDato\nDato\nRevisjon\nRevisjonRevisjon\nKommunestyret sitt vedtak\nDet bekreftes at planen er i samsvar med kommunestyrets vedtak av 16.06.202223.06.2022Siv Therese Kile Lie\nPlansjef\n4219_202102\nDeep Capital Investments AS\n11.05.2022 S√ÖF\n2021/215 \n10.02.22\n18.03.21 \n 04.03.21\nEvje og Hornnes\nkommune\nDetaljregulering\nSt√∏peritomta\nPLANKONSULENT\n2. gangs behandling\nOffentlig ettersyn fra 17.03.2022  til 28.04.2022\n1. gangs behandling i Planutvalget\nKunngj√∏ring av oppstart av planarbeid\nOppstartsm√∏te 04.03.21\n4/22 \n42/22 19.05.22\n16.06.22 59/22 STL\nSTL\nSTL'}]...
python_service-1  | [92m11:19:53 - LiteLLM:DEBUG[0m: utils.py:298 - 
python_service-1  | 
python_service-1  | DEBUG:LiteLLM:
python_service-1  | 
python_service-1  | [92m11:19:53 - LiteLLM:DEBUG[0m: utils.py:298 - [92mRequest to litellm:[0m
python_service-1  | DEBUG:LiteLLM:[92mRequest to litellm:[0m
python_service-1  | [92m11:19:53 - LiteLLM:DEBUG[0m: utils.py:298 - [92mlitellm.completion(messages=[{'role': 'system', 'content': 'You are a server API that receives document information and returns specific fields in JSON format.\n\n\n        As a genius expert, your task is to understand the content and provide\n        the parsed objects in json that match the following json_schema:\n\n\n        {\n  "description": "Contract for field extraction from regulatory documents.\\n\\nDefines the structure and prompt for extracting regulation codes from\\nNorwegian planning documents (plankart and bestemmelser).\\n\\nAttributes:\\n    fields (Set[str]): Set of extracted regulation codes",\n  "properties": {\n    "fields": {\n      "items": {\n        "type": "string"\n      },\n      "title": "Fields",\n      "type": "array",\n      "uniqueItems": true\n    }\n  },\n  "required": [\n    "fields"\n  ],\n  "title": "FieldExtractContract",\n  "type": "object"\n}\n\n        Make sure to return an instance of the JSON, not the schema itself\n'}, {'role': 'user', 'content': '##Content\n\n{content: "Alfred Uglands veg\\nEvje aktivitetspark\\n50/132\\n50/40\\nGudvangen\\n49/70\\n\\\n    49/87\\n42/12\\n49/78\\n49/8050/128\\n50/139\\n50/101\\n50/89\\n49/77\\n49/83\\n50/6650/127\\\n    \\ 50/151\\n42/51\\n49/10\\n49/82\\n49/86\\n50/40\\n50/40\\n50/59\\n50/71\\n50/132\\n50/148\\n\\\n    50/155\\n50/158\\n50/600\\n42/25\\n50/637\\nBR\\nBIA\\no_SPA\\no_GF3\\no_GF1\\no_GF2\\no_GTD1\\n\\\n    o_GTD2\\nA=2889 m\\xB2\\n%-BYA=\\n40%\\nBKS\\nA=3304 m\\xB2\\n%-BYA=45%\\no_SV1\\no_SV3\\n\\\n    f_BE\\nH220\\nH210\\n#01 SN\\xD8\\n#02 SN\\xD8\\nPlanert terreng =c+182,0moh\\nH320\\n\\\n    Vegstenges\\no_SF2\\no_SF1\\n\\xD8430350\\n\\xD8430425\\n\\xD8430500\\n\\xD8430575\\nN6494250\\n\\\n    N6494325 N6494400\\nN6494475\\nN\\n01937.5m\\nTegnforklaring\\nReguleringsplan PBL\\\n    \\ 2008\\n\\xA712-5. Nr. 1 - Bebyggelse og anlegg\\nBoligbebyggelse-konsentrert\\n\\\n    sm\\xE5husbebyggelseBKS\\nForsamlingslokale for\\nreligionsut\\xF8velseBR\\nIdrettsanleggBIA\\n\\\n    EnergianleggBE\\n\\xA712-5. Nr. 2 - Samferdselsanlegg og\\nteknisk infrastruktur\\n\\\n    Veg SV\\nFortau SF\\nParkering SPA\\n\\xA712-5. Nr. 3 - Gr\\xF8nnstruktur\\nTurdrag\\\n    \\ GTD\\nFriomr\\xE5deGF\\n\\xA712-6 - Hensynssoner\\nR\\xF8d sone iht. T-1442H210\\n\\\n    Gul sone iht. T-1442H220\\nFlomfare H320\\n\\xA712-7 - Bestemmelseomr\\xE5der\\nVilk\\xE5\\\n    r for bruk av arealer, bygninger\\nog anlegg #0 SN\\xD8\\nLinjesymbol\\nGrense for\\\n    \\ st\\xF8ysone\\nGrense for faresone\\nPlanens begrensning\\nForm\\xE5lgrense\\nBestemmelsegrense\\n\\\n    Byggegrense\\nFrisiktlinje\\nPunktsymboler\\nStenging av avkj\\xF8rsel\\nAvkj\\xF8rsel\\\n    \\ - b\\xE5de inn og utkj\\xF8ring\\nKartopplysninger\\nKilde for basiskart:\\nDato\\\n    \\ for basiskart:\\nKoordinatsystem:\\nH\\xF8ydegrunnlag:\\nEkvidistanse:\\nKartm\\xE5\\\n    lestokk:\\n1m1:750\\nKartverket 05.11.2019\\nETRS89.UTM-32N\\nNN2000\\nDato\\nArealplan-ID:\\n\\\n    Forslagsstiller:\\nSAKS-\\nNR\\nDATO SIGN\\nTEGNNR. DATO SIGN.\\nMed tilh\\xF8rende\\\n    \\ reguleringsbestemmelser\\nSAKSBEHANDLING ETTER PLAN- OG BYGNINGSLOVEN\\nPLANEN\\\n    \\ ER UTARBEIDET AV:\\nDato\\nDato\\nDato\\nRevisjon\\nRevisjonRevisjon\\nKommunestyret\\\n    \\ sitt vedtak\\nDet bekreftes at planen er i samsvar med kommunestyrets vedtak\\\n    \\ av 16.06.202223.06.2022Siv Therese Kile Lie\\nPlansjef\\n4219_202102\\nDeep Capital\\\n    \\ Investments AS\\n11.05.2022 S\\xC5F\\n2021/215 \\n10.02.22\\n18.03.21 \\n 04.03.21\\n\\\n    Evje og Hornnes\\nkommune\\nDetaljregulering\\nSt\\xF8peritomta\\nPLANKONSULENT\\n2.\\\n    \\ gangs behandling\\nOffentlig ettersyn fra 17.03.2022  til 28.04.2022\\n1. gangs\\\n    \\ behandling i Planutvalget\\nKunngj\\xF8ring av oppstart av planarbeid\\nOppstartsm\\xF8\\\n    te 04.03.21\\n4/22 \\n42/22 19.05.22\\n16.06.22 59/22 STL\\nSTL\\nSTL", images: [],\n  metadata: {num_pages: 1}}\n\n\nReturn the correct JSON response within a ```json codeblock. not the JSON_SCHEMA'}], model='azure/gpt-4o-mini', temperature=0, max_tokens=4000, timeout=3000)[0m
python_service-1  | DEBUG:LiteLLM:[92mlitellm.completion(messages=[{'role': 'system', 'content': 'You are a server API that receives document information and returns specific fields in JSON format.\n\n\n        As a genius expert, your task is to understand the content and provide\n        the parsed objects in json that match the following json_schema:\n\n\n        {\n  "description": "Contract for field extraction from regulatory documents.\\n\\nDefines the structure and prompt for extracting regulation codes from\\nNorwegian planning documents (plankart and bestemmelser).\\n\\nAttributes:\\n    fields (Set[str]): Set of extracted regulation codes",\n  "properties": {\n    "fields": {\n      "items": {\n        "type": "string"\n      },\n      "title": "Fields",\n      "type": "array",\n      "uniqueItems": true\n    }\n  },\n  "required": [\n    "fields"\n  ],\n  "title": "FieldExtractContract",\n  "type": "object"\n}\n\n        Make sure to return an instance of the JSON, not the schema itself\n'}, {'role': 'user', 'content': '##Content\n\n{content: "Alfred Uglands veg\\nEvje aktivitetspark\\n50/132\\n50/40\\nGudvangen\\n49/70\\n\\\n    49/87\\n42/12\\n49/78\\n49/8050/128\\n50/139\\n50/101\\n50/89\\n49/77\\n49/83\\n50/6650/127\\\n    \\ 50/151\\n42/51\\n49/10\\n49/82\\n49/86\\n50/40\\n50/40\\n50/59\\n50/71\\n50/132\\n50/148\\n\\\n    50/155\\n50/158\\n50/600\\n42/25\\n50/637\\nBR\\nBIA\\no_SPA\\no_GF3\\no_GF1\\no_GF2\\no_GTD1\\n\\\n    o_GTD2\\nA=2889 m\\xB2\\n%-BYA=\\n40%\\nBKS\\nA=3304 m\\xB2\\n%-BYA=45%\\no_SV1\\no_SV3\\n\\\n    f_BE\\nH220\\nH210\\n#01 SN\\xD8\\n#02 SN\\xD8\\nPlanert terreng =c+182,0moh\\nH320\\n\\\n    Vegstenges\\no_SF2\\no_SF1\\n\\xD8430350\\n\\xD8430425\\n\\xD8430500\\n\\xD8430575\\nN6494250\\n\\\n    N6494325 N6494400\\nN6494475\\nN\\n01937.5m\\nTegnforklaring\\nReguleringsplan PBL\\\n    \\ 2008\\n\\xA712-5. Nr. 1 - Bebyggelse og anlegg\\nBoligbebyggelse-konsentrert\\n\\\n    sm\\xE5husbebyggelseBKS\\nForsamlingslokale for\\nreligionsut\\xF8velseBR\\nIdrettsanleggBIA\\n\\\n    EnergianleggBE\\n\\xA712-5. Nr. 2 - Samferdselsanlegg og\\nteknisk infrastruktur\\n\\\n    Veg SV\\nFortau SF\\nParkering SPA\\n\\xA712-5. Nr. 3 - Gr\\xF8nnstruktur\\nTurdrag\\\n    \\ GTD\\nFriomr\\xE5deGF\\n\\xA712-6 - Hensynssoner\\nR\\xF8d sone iht. T-1442H210\\n\\\n    Gul sone iht. T-1442H220\\nFlomfare H320\\n\\xA712-7 - Bestemmelseomr\\xE5der\\nVilk\\xE5\\\n    r for bruk av arealer, bygninger\\nog anlegg #0 SN\\xD8\\nLinjesymbol\\nGrense for\\\n    \\ st\\xF8ysone\\nGrense for faresone\\nPlanens begrensning\\nForm\\xE5lgrense\\nBestemmelsegrense\\n\\\n    Byggegrense\\nFrisiktlinje\\nPunktsymboler\\nStenging av avkj\\xF8rsel\\nAvkj\\xF8rsel\\\n    \\ - b\\xE5de inn og utkj\\xF8ring\\nKartopplysninger\\nKilde for basiskart:\\nDato\\\n    \\ for basiskart:\\nKoordinatsystem:\\nH\\xF8ydegrunnlag:\\nEkvidistanse:\\nKartm\\xE5\\\n    lestokk:\\n1m1:750\\nKartverket 05.11.2019\\nETRS89.UTM-32N\\nNN2000\\nDato\\nArealplan-ID:\\n\\\n    Forslagsstiller:\\nSAKS-\\nNR\\nDATO SIGN\\nTEGNNR. DATO SIGN.\\nMed tilh\\xF8rende\\\n    \\ reguleringsbestemmelser\\nSAKSBEHANDLING ETTER PLAN- OG BYGNINGSLOVEN\\nPLANEN\\\n    \\ ER UTARBEIDET AV:\\nDato\\nDato\\nDato\\nRevisjon\\nRevisjonRevisjon\\nKommunestyret\\\n    \\ sitt vedtak\\nDet bekreftes at planen er i samsvar med kommunestyrets vedtak\\\n    \\ av 16.06.202223.06.2022Siv Therese Kile Lie\\nPlansjef\\n4219_202102\\nDeep Capital\\\n    \\ Investments AS\\n11.05.2022 S\\xC5F\\n2021/215 \\n10.02.22\\n18.03.21 \\n 04.03.21\\n\\\n    Evje og Hornnes\\nkommune\\nDetaljregulering\\nSt\\xF8peritomta\\nPLANKONSULENT\\n2.\\\n    \\ gangs behandling\\nOffentlig ettersyn fra 17.03.2022  til 28.04.2022\\n1. gangs\\\n    \\ behandling i Planutvalget\\nKunngj\\xF8ring av oppstart av planarbeid\\nOppstartsm\\xF8\\\n    te 04.03.21\\n4/22 \\n42/22 19.05.22\\n16.06.22 59/22 STL\\nSTL\\nSTL", images: [],\n  metadata: {num_pages: 1}}\n\n\nReturn the correct JSON response within a ```json codeblock. not the JSON_SCHEMA'}], model='azure/gpt-4o-mini', temperature=0, max_tokens=4000, timeout=3000)[0m
python_service-1  | [92m11:19:53 - LiteLLM:DEBUG[0m: utils.py:298 - 
python_service-1  | 
python_service-1  | DEBUG:LiteLLM:
python_service-1  | 
python_service-1  | [92m11:19:53 - LiteLLM:DEBUG[0m: litellm_logging.py:377 - self.optional_params: {}
python_service-1  | DEBUG:LiteLLM:self.optional_params: {}
python_service-1  | [92m11:19:53 - LiteLLM:DEBUG[0m: utils.py:298 - SYNC kwargs[caching]: False; litellm.cache: None; kwargs.get('cache')['no-cache']: False
python_service-1  | DEBUG:LiteLLM:SYNC kwargs[caching]: False; litellm.cache: None; kwargs.get('cache')['no-cache']: False
python_service-1  | [92m11:19:53 - LiteLLM:DEBUG[0m: transformation.py:126 - Translating developer role to system role for non-OpenAI providers.
python_service-1  | DEBUG:LiteLLM:Translating developer role to system role for non-OpenAI providers.
python_service-1  | [92m11:19:53 - LiteLLM:INFO[0m: utils.py:2905 - 
python_service-1  | LiteLLM completion() model= gpt-4o-mini; provider = azure
python_service-1  | INFO:LiteLLM:
python_service-1  | LiteLLM completion() model= gpt-4o-mini; provider = azure
python_service-1  | [92m11:19:53 - LiteLLM:DEBUG[0m: utils.py:2908 - 
python_service-1  | LiteLLM: Params passed to completion() {'model': 'gpt-4o-mini', 'functions': None, 'function_call': None, 'temperature': 0, 'top_p': None, 'n': None, 'stream': None, 'stream_options': None, 'stop': None, 'max_tokens': 4000, 'max_completion_tokens': None, 'modalities': None, 'prediction': None, 'audio': None, 'presence_penalty': None, 'frequency_penalty': None, 'logit_bias': None, 'user': None, 'custom_llm_provider': 'azure', 'response_format': None, 'seed': None, 'tools': None, 'tool_choice': None, 'max_retries': None, 'logprobs': None, 'top_logprobs': None, 'extra_headers': None, 'api_version': None, 'parallel_tool_calls': None, 'drop_params': None, 'reasoning_effort': None, 'additional_drop_params': None, 'messages': [{'role': 'system', 'content': 'You are a server API that receives document information and returns specific fields in JSON format.\n\n\n        As a genius expert, your task is to understand the content and provide\n        the parsed objects in json that match the following json_schema:\n\n\n        {\n  "description": "Contract for field extraction from regulatory documents.\\n\\nDefines the structure and prompt for extracting regulation codes from\\nNorwegian planning documents (plankart and bestemmelser).\\n\\nAttributes:\\n    fields (Set[str]): Set of extracted regulation codes",\n  "properties": {\n    "fields": {\n      "items": {\n        "type": "string"\n      },\n      "title": "Fields",\n      "type": "array",\n      "uniqueItems": true\n    }\n  },\n  "required": [\n    "fields"\n  ],\n  "title": "FieldExtractContract",\n  "type": "object"\n}\n\n        Make sure to return an instance of the JSON, not the schema itself\n'}, {'role': 'user', 'content': '##Content\n\n{content: "Alfred Uglands veg\\nEvje aktivitetspark\\n50/132\\n50/40\\nGudvangen\\n49/70\\n\\\n    49/87\\n42/12\\n49/78\\n49/8050/128\\n50/139\\n50/101\\n50/89\\n49/77\\n49/83\\n50/6650/127\\\n    \\ 50/151\\n42/51\\n49/10\\n49/82\\n49/86\\n50/40\\n50/40\\n50/59\\n50/71\\n50/132\\n50/148\\n\\\n    50/155\\n50/158\\n50/600\\n42/25\\n50/637\\nBR\\nBIA\\no_SPA\\no_GF3\\no_GF1\\no_GF2\\no_GTD1\\n\\\n    o_GTD2\\nA=2889 m\\xB2\\n%-BYA=\\n40%\\nBKS\\nA=3304 m\\xB2\\n%-BYA=45%\\no_SV1\\no_SV3\\n\\\n    f_BE\\nH220\\nH210\\n#01 SN\\xD8\\n#02 SN\\xD8\\nPlanert terreng =c+182,0moh\\nH320\\n\\\n    Vegstenges\\no_SF2\\no_SF1\\n\\xD8430350\\n\\xD8430425\\n\\xD8430500\\n\\xD8430575\\nN6494250\\n\\\n    N6494325 N6494400\\nN6494475\\nN\\n01937.5m\\nTegnforklaring\\nReguleringsplan PBL\\\n    \\ 2008\\n\\xA712-5. Nr. 1 - Bebyggelse og anlegg\\nBoligbebyggelse-konsentrert\\n\\\n    sm\\xE5husbebyggelseBKS\\nForsamlingslokale for\\nreligionsut\\xF8velseBR\\nIdrettsanleggBIA\\n\\\n    EnergianleggBE\\n\\xA712-5. Nr. 2 - Samferdselsanlegg og\\nteknisk infrastruktur\\n\\\n    Veg SV\\nFortau SF\\nParkering SPA\\n\\xA712-5. Nr. 3 - Gr\\xF8nnstruktur\\nTurdrag\\\n    \\ GTD\\nFriomr\\xE5deGF\\n\\xA712-6 - Hensynssoner\\nR\\xF8d sone iht. T-1442H210\\n\\\n    Gul sone iht. T-1442H220\\nFlomfare H320\\n\\xA712-7 - Bestemmelseomr\\xE5der\\nVilk\\xE5\\\n    r for bruk av arealer, bygninger\\nog anlegg #0 SN\\xD8\\nLinjesymbol\\nGrense for\\\n    \\ st\\xF8ysone\\nGrense for faresone\\nPlanens begrensning\\nForm\\xE5lgrense\\nBestemmelsegrense\\n\\\n    Byggegrense\\nFrisiktlinje\\nPunktsymboler\\nStenging av avkj\\xF8rsel\\nAvkj\\xF8rsel\\\n    \\ - b\\xE5de inn og utkj\\xF8ring\\nKartopplysninger\\nKilde for basiskart:\\nDato\\\n    \\ for basiskart:\\nKoordinatsystem:\\nH\\xF8ydegrunnlag:\\nEkvidistanse:\\nKartm\\xE5\\\n    lestokk:\\n1m1:750\\nKartverket 05.11.2019\\nETRS89.UTM-32N\\nNN2000\\nDato\\nArealplan-ID:\\n\\\n    Forslagsstiller:\\nSAKS-\\nNR\\nDATO SIGN\\nTEGNNR. DATO SIGN.\\nMed tilh\\xF8rende\\\n    \\ reguleringsbestemmelser\\nSAKSBEHANDLING ETTER PLAN- OG BYGNINGSLOVEN\\nPLANEN\\\n    \\ ER UTARBEIDET AV:\\nDato\\nDato\\nDato\\nRevisjon\\nRevisjonRevisjon\\nKommunestyret\\\n    \\ sitt vedtak\\nDet bekreftes at planen er i samsvar med kommunestyrets vedtak\\\n    \\ av 16.06.202223.06.2022Siv Therese Kile Lie\\nPlansjef\\n4219_202102\\nDeep Capital\\\n    \\ Investments AS\\n11.05.2022 S\\xC5F\\n2021/215 \\n10.02.22\\n18.03.21 \\n 04.03.21\\n\\\n    Evje og Hornnes\\nkommune\\nDetaljregulering\\nSt\\xF8peritomta\\nPLANKONSULENT\\n2.\\\n    \\ gangs behandling\\nOffentlig ettersyn fra 17.03.2022  til 28.04.2022\\n1. gangs\\\n    \\ behandling i Planutvalget\\nKunngj\\xF8ring av oppstart av planarbeid\\nOppstartsm\\xF8\\\n    te 04.03.21\\n4/22 \\n42/22 19.05.22\\n16.06.22 59/22 STL\\nSTL\\nSTL", images: [],\n  metadata: {num_pages: 1}}\n\n\nReturn the correct JSON response within a ```json codeblock. not the JSON_SCHEMA'}]}
python_service-1  | DEBUG:LiteLLM:
python_service-1  | LiteLLM: Params passed to completion() {'model': 'gpt-4o-mini', 'functions': None, 'function_call': None, 'temperature': 0, 'top_p': None, 'n': None, 'stream': None, 'stream_options': None, 'stop': None, 'max_tokens': 4000, 'max_completion_tokens': None, 'modalities': None, 'prediction': None, 'audio': None, 'presence_penalty': None, 'frequency_penalty': None, 'logit_bias': None, 'user': None, 'custom_llm_provider': 'azure', 'response_format': None, 'seed': None, 'tools': None, 'tool_choice': None, 'max_retries': None, 'logprobs': None, 'top_logprobs': None, 'extra_headers': None, 'api_version': None, 'parallel_tool_calls': None, 'drop_params': None, 'reasoning_effort': None, 'additional_drop_params': None, 'messages': [{'role': 'system', 'content': 'You are a server API that receives document information and returns specific fields in JSON format.\n\n\n        As a genius expert, your task is to understand the content and provide\n        the parsed objects in json that match the following json_schema:\n\n\n        {\n  "description": "Contract for field extraction from regulatory documents.\\n\\nDefines the structure and prompt for extracting regulation codes from\\nNorwegian planning documents (plankart and bestemmelser).\\n\\nAttributes:\\n    fields (Set[str]): Set of extracted regulation codes",\n  "properties": {\n    "fields": {\n      "items": {\n        "type": "string"\n      },\n      "title": "Fields",\n      "type": "array",\n      "uniqueItems": true\n    }\n  },\n  "required": [\n    "fields"\n  ],\n  "title": "FieldExtractContract",\n  "type": "object"\n}\n\n        Make sure to return an instance of the JSON, not the schema itself\n'}, {'role': 'user', 'content': '##Content\n\n{content: "Alfred Uglands veg\\nEvje aktivitetspark\\n50/132\\n50/40\\nGudvangen\\n49/70\\n\\\n    49/87\\n42/12\\n49/78\\n49/8050/128\\n50/139\\n50/101\\n50/89\\n49/77\\n49/83\\n50/6650/127\\\n    \\ 50/151\\n42/51\\n49/10\\n49/82\\n49/86\\n50/40\\n50/40\\n50/59\\n50/71\\n50/132\\n50/148\\n\\\n    50/155\\n50/158\\n50/600\\n42/25\\n50/637\\nBR\\nBIA\\no_SPA\\no_GF3\\no_GF1\\no_GF2\\no_GTD1\\n\\\n    o_GTD2\\nA=2889 m\\xB2\\n%-BYA=\\n40%\\nBKS\\nA=3304 m\\xB2\\n%-BYA=45%\\no_SV1\\no_SV3\\n\\\n    f_BE\\nH220\\nH210\\n#01 SN\\xD8\\n#02 SN\\xD8\\nPlanert terreng =c+182,0moh\\nH320\\n\\\n    Vegstenges\\no_SF2\\no_SF1\\n\\xD8430350\\n\\xD8430425\\n\\xD8430500\\n\\xD8430575\\nN6494250\\n\\\n    N6494325 N6494400\\nN6494475\\nN\\n01937.5m\\nTegnforklaring\\nReguleringsplan PBL\\\n    \\ 2008\\n\\xA712-5. Nr. 1 - Bebyggelse og anlegg\\nBoligbebyggelse-konsentrert\\n\\\n    sm\\xE5husbebyggelseBKS\\nForsamlingslokale for\\nreligionsut\\xF8velseBR\\nIdrettsanleggBIA\\n\\\n    EnergianleggBE\\n\\xA712-5. Nr. 2 - Samferdselsanlegg og\\nteknisk infrastruktur\\n\\\n    Veg SV\\nFortau SF\\nParkering SPA\\n\\xA712-5. Nr. 3 - Gr\\xF8nnstruktur\\nTurdrag\\\n    \\ GTD\\nFriomr\\xE5deGF\\n\\xA712-6 - Hensynssoner\\nR\\xF8d sone iht. T-1442H210\\n\\\n    Gul sone iht. T-1442H220\\nFlomfare H320\\n\\xA712-7 - Bestemmelseomr\\xE5der\\nVilk\\xE5\\\n    r for bruk av arealer, bygninger\\nog anlegg #0 SN\\xD8\\nLinjesymbol\\nGrense for\\\n    \\ st\\xF8ysone\\nGrense for faresone\\nPlanens begrensning\\nForm\\xE5lgrense\\nBestemmelsegrense\\n\\\n    Byggegrense\\nFrisiktlinje\\nPunktsymboler\\nStenging av avkj\\xF8rsel\\nAvkj\\xF8rsel\\\n    \\ - b\\xE5de inn og utkj\\xF8ring\\nKartopplysninger\\nKilde for basiskart:\\nDato\\\n    \\ for basiskart:\\nKoordinatsystem:\\nH\\xF8ydegrunnlag:\\nEkvidistanse:\\nKartm\\xE5\\\n    lestokk:\\n1m1:750\\nKartverket 05.11.2019\\nETRS89.UTM-32N\\nNN2000\\nDato\\nArealplan-ID:\\n\\\n    Forslagsstiller:\\nSAKS-\\nNR\\nDATO SIGN\\nTEGNNR. DATO SIGN.\\nMed tilh\\xF8rende\\\n    \\ reguleringsbestemmelser\\nSAKSBEHANDLING ETTER PLAN- OG BYGNINGSLOVEN\\nPLANEN\\\n    \\ ER UTARBEIDET AV:\\nDato\\nDato\\nDato\\nRevisjon\\nRevisjonRevisjon\\nKommunestyret\\\n    \\ sitt vedtak\\nDet bekreftes at planen er i samsvar med kommunestyrets vedtak\\\n    \\ av 16.06.202223.06.2022Siv Therese Kile Lie\\nPlansjef\\n4219_202102\\nDeep Capital\\\n    \\ Investments AS\\n11.05.2022 S\\xC5F\\n2021/215 \\n10.02.22\\n18.03.21 \\n 04.03.21\\n\\\n    Evje og Hornnes\\nkommune\\nDetaljregulering\\nSt\\xF8peritomta\\nPLANKONSULENT\\n2.\\\n    \\ gangs behandling\\nOffentlig ettersyn fra 17.03.2022  til 28.04.2022\\n1. gangs\\\n    \\ behandling i Planutvalget\\nKunngj\\xF8ring av oppstart av planarbeid\\nOppstartsm\\xF8\\\n    te 04.03.21\\n4/22 \\n42/22 19.05.22\\n16.06.22 59/22 STL\\nSTL\\nSTL", images: [],\n  metadata: {num_pages: 1}}\n\n\nReturn the correct JSON response within a ```json codeblock. not the JSON_SCHEMA'}]}
python_service-1  | [92m11:19:53 - LiteLLM:DEBUG[0m: utils.py:2911 - 
python_service-1  | LiteLLM: Non-Default params passed to completion() {'temperature': 0, 'max_tokens': 4000}
python_service-1  | DEBUG:LiteLLM:
python_service-1  | LiteLLM: Non-Default params passed to completion() {'temperature': 0, 'max_tokens': 4000}
python_service-1  | [92m11:19:53 - LiteLLM:DEBUG[0m: utils.py:3511 - Azure optional params - api_version: api_version=None, litellm.api_version=2024-08-01-preview, os.environ['AZURE_API_VERSION']=None
python_service-1  | DEBUG:LiteLLM:Azure optional params - api_version: api_version=None, litellm.api_version=2024-08-01-preview, os.environ['AZURE_API_VERSION']=None
python_service-1  | [92m11:19:53 - LiteLLM:DEBUG[0m: utils.py:298 - Final returned optional params: {'temperature': 0, 'max_tokens': 4000, 'extra_body': {}}
python_service-1  | DEBUG:LiteLLM:Final returned optional params: {'temperature': 0, 'max_tokens': 4000, 'extra_body': {}}
python_service-1  | [92m11:19:53 - LiteLLM:DEBUG[0m: litellm_logging.py:377 - self.optional_params: {'temperature': 0, 'max_tokens': 4000, 'extra_body': {}}
python_service-1  | DEBUG:LiteLLM:self.optional_params: {'temperature': 0, 'max_tokens': 4000, 'extra_body': {}}
python_service-1  | [92m11:19:53 - LiteLLM:DEBUG[0m: litellm_logging.py:634 - [92m
python_service-1  | 
python_service-1  | POST Request Sent from LiteLLM:
python_service-1  | curl -X POST \
python_service-1  | https://kartai-openai.openai.azure.com \
python_service-1  | -H 'api_key: Dm20Qg2RomLirlz8icux5Y3XavqI2BfAwmuOdjuI********************************************' -H 'azure_ad_token: *****' \
python_service-1  | -d '{'model': 'gpt-4o-mini', 'messages': [{'role': 'system', 'content': 'You are a server API that receives document information and returns specific fields in JSON format.\n\n\n        As a genius expert, your task is to understand the content and provide\n        the parsed objects in json that match the following json_schema:\n\n\n        {\n  "description": "Contract for field extraction from regulatory documents.\\n\\nDefines the structure and prompt for extracting regulation codes from\\nNorwegian planning documents (plankart and bestemmelser).\\n\\nAttributes:\\n    fields (Set[str]): Set of extracted regulation codes",\n  "properties": {\n    "fields": {\n      "items": {\n        "type": "string"\n      },\n      "title": "Fields",\n      "type": "array",\n      "uniqueItems": true\n    }\n  },\n  "required": [\n    "fields"\n  ],\n  "title": "FieldExtractContract",\n  "type": "object"\n}\n\n        Make sure to return an instance of the JSON, not the schema itself\n'}, {'role': 'user', 'content': '##Content\n\n{content: "Alfred Uglands veg\\nEvje aktivitetspark\\n50/132\\n50/40\\nGudvangen\\n49/70\\n\\\n    49/87\\n42/12\\n49/78\\n49/8050/128\\n50/139\\n50/101\\n50/89\\n49/77\\n49/83\\n50/6650/127\\\n    \\ 50/151\\n42/51\\n49/10\\n49/82\\n49/86\\n50/40\\n50/40\\n50/59\\n50/71\\n50/132\\n50/148\\n\\\n    50/155\\n50/158\\n50/600\\n42/25\\n50/637\\nBR\\nBIA\\no_SPA\\no_GF3\\no_GF1\\no_GF2\\no_GTD1\\n\\\n    o_GTD2\\nA=2889 m\\xB2\\n%-BYA=\\n40%\\nBKS\\nA=3304 m\\xB2\\n%-BYA=45%\\no_SV1\\no_SV3\\n\\\n    f_BE\\nH220\\nH210\\n#01 SN\\xD8\\n#02 SN\\xD8\\nPlanert terreng =c+182,0moh\\nH320\\n\\\n    Vegstenges\\no_SF2\\no_SF1\\n\\xD8430350\\n\\xD8430425\\n\\xD8430500\\n\\xD8430575\\nN6494250\\n\\\n    N6494325 N6494400\\nN6494475\\nN\\n01937.5m\\nTegnforklaring\\nReguleringsplan PBL\\\n    \\ 2008\\n\\xA712-5. Nr. 1 - Bebyggelse og anlegg\\nBoligbebyggelse-konsentrert\\n\\\n    sm\\xE5husbebyggelseBKS\\nForsamlingslokale for\\nreligionsut\\xF8velseBR\\nIdrettsanleggBIA\\n\\\n    EnergianleggBE\\n\\xA712-5. Nr. 2 - Samferdselsanlegg og\\nteknisk infrastruktur\\n\\\n    Veg SV\\nFortau SF\\nParkering SPA\\n\\xA712-5. Nr. 3 - Gr\\xF8nnstruktur\\nTurdrag\\\n    \\ GTD\\nFriomr\\xE5deGF\\n\\xA712-6 - Hensynssoner\\nR\\xF8d sone iht. T-1442H210\\n\\\n    Gul sone iht. T-1442H220\\nFlomfare H320\\n\\xA712-7 - Bestemmelseomr\\xE5der\\nVilk\\xE5\\\n    r for bruk av arealer, bygninger\\nog anlegg #0 SN\\xD8\\nLinjesymbol\\nGrense for\\\n    \\ st\\xF8ysone\\nGrense for faresone\\nPlanens begrensning\\nForm\\xE5lgrense\\nBestemmelsegrense\\n\\\n    Byggegrense\\nFrisiktlinje\\nPunktsymboler\\nStenging av avkj\\xF8rsel\\nAvkj\\xF8rsel\\\n    \\ - b\\xE5de inn og utkj\\xF8ring\\nKartopplysninger\\nKilde for basiskart:\\nDato\\\n    \\ for basiskart:\\nKoordinatsystem:\\nH\\xF8ydegrunnlag:\\nEkvidistanse:\\nKartm\\xE5\\\n    lestokk:\\n1m1:750\\nKartverket 05.11.2019\\nETRS89.UTM-32N\\nNN2000\\nDato\\nArealplan-ID:\\n\\\n    Forslagsstiller:\\nSAKS-\\nNR\\nDATO SIGN\\nTEGNNR. DATO SIGN.\\nMed tilh\\xF8rende\\\n    \\ reguleringsbestemmelser\\nSAKSBEHANDLING ETTER PLAN- OG BYGNINGSLOVEN\\nPLANEN\\\n    \\ ER UTARBEIDET AV:\\nDato\\nDato\\nDato\\nRevisjon\\nRevisjonRevisjon\\nKommunestyret\\\n    \\ sitt vedtak\\nDet bekreftes at planen er i samsvar med kommunestyrets vedtak\\\n    \\ av 16.06.202223.06.2022Siv Therese Kile Lie\\nPlansjef\\n4219_202102\\nDeep Capital\\\n    \\ Investments AS\\n11.05.2022 S\\xC5F\\n2021/215 \\n10.02.22\\n18.03.21 \\n 04.03.21\\n\\\n    Evje og Hornnes\\nkommune\\nDetaljregulering\\nSt\\xF8peritomta\\nPLANKONSULENT\\n2.\\\n    \\ gangs behandling\\nOffentlig ettersyn fra 17.03.2022  til 28.04.2022\\n1. gangs\\\n    \\ behandling i Planutvalget\\nKunngj\\xF8ring av oppstart av planarbeid\\nOppstartsm\\xF8\\\n    te 04.03.21\\n4/22 \\n42/22 19.05.22\\n16.06.22 59/22 STL\\nSTL\\nSTL", images: [],\n  metadata: {num_pages: 1}}\n\n\nReturn the correct JSON response within a ```json codeblock. not the JSON_SCHEMA'}], 'temperature': 0, 'max_tokens': 4000, 'extra_body': {}}'
python_service-1  | [0m
python_service-1  | 
python_service-1  | DEBUG:LiteLLM:[92m
python_service-1  | 
python_service-1  | POST Request Sent from LiteLLM:
python_service-1  | curl -X POST \
python_service-1  | https://kartai-openai.openai.azure.com \
python_service-1  | -H 'api_key: Dm20Qg2RomLirlz8icux5Y3XavqI2BfAwmuOdjuI********************************************' -H 'azure_ad_token: *****' \
python_service-1  | -d '{'model': 'gpt-4o-mini', 'messages': [{'role': 'system', 'content': 'You are a server API that receives document information and returns specific fields in JSON format.\n\n\n        As a genius expert, your task is to understand the content and provide\n        the parsed objects in json that match the following json_schema:\n\n\n        {\n  "description": "Contract for field extraction from regulatory documents.\\n\\nDefines the structure and prompt for extracting regulation codes from\\nNorwegian planning documents (plankart and bestemmelser).\\n\\nAttributes:\\n    fields (Set[str]): Set of extracted regulation codes",\n  "properties": {\n    "fields": {\n      "items": {\n        "type": "string"\n      },\n      "title": "Fields",\n      "type": "array",\n      "uniqueItems": true\n    }\n  },\n  "required": [\n    "fields"\n  ],\n  "title": "FieldExtractContract",\n  "type": "object"\n}\n\n        Make sure to return an instance of the JSON, not the schema itself\n'}, {'role': 'user', 'content': '##Content\n\n{content: "Alfred Uglands veg\\nEvje aktivitetspark\\n50/132\\n50/40\\nGudvangen\\n49/70\\n\\\n    49/87\\n42/12\\n49/78\\n49/8050/128\\n50/139\\n50/101\\n50/89\\n49/77\\n49/83\\n50/6650/127\\\n    \\ 50/151\\n42/51\\n49/10\\n49/82\\n49/86\\n50/40\\n50/40\\n50/59\\n50/71\\n50/132\\n50/148\\n\\\n    50/155\\n50/158\\n50/600\\n42/25\\n50/637\\nBR\\nBIA\\no_SPA\\no_GF3\\no_GF1\\no_GF2\\no_GTD1\\n\\\n    o_GTD2\\nA=2889 m\\xB2\\n%-BYA=\\n40%\\nBKS\\nA=3304 m\\xB2\\n%-BYA=45%\\no_SV1\\no_SV3\\n\\\n    f_BE\\nH220\\nH210\\n#01 SN\\xD8\\n#02 SN\\xD8\\nPlanert terreng =c+182,0moh\\nH320\\n\\\n    Vegstenges\\no_SF2\\no_SF1\\n\\xD8430350\\n\\xD8430425\\n\\xD8430500\\n\\xD8430575\\nN6494250\\n\\\n    N6494325 N6494400\\nN6494475\\nN\\n01937.5m\\nTegnforklaring\\nReguleringsplan PBL\\\n    \\ 2008\\n\\xA712-5. Nr. 1 - Bebyggelse og anlegg\\nBoligbebyggelse-konsentrert\\n\\\n    sm\\xE5husbebyggelseBKS\\nForsamlingslokale for\\nreligionsut\\xF8velseBR\\nIdrettsanleggBIA\\n\\\n    EnergianleggBE\\n\\xA712-5. Nr. 2 - Samferdselsanlegg og\\nteknisk infrastruktur\\n\\\n    Veg SV\\nFortau SF\\nParkering SPA\\n\\xA712-5. Nr. 3 - Gr\\xF8nnstruktur\\nTurdrag\\\n    \\ GTD\\nFriomr\\xE5deGF\\n\\xA712-6 - Hensynssoner\\nR\\xF8d sone iht. T-1442H210\\n\\\n    Gul sone iht. T-1442H220\\nFlomfare H320\\n\\xA712-7 - Bestemmelseomr\\xE5der\\nVilk\\xE5\\\n    r for bruk av arealer, bygninger\\nog anlegg #0 SN\\xD8\\nLinjesymbol\\nGrense for\\\n    \\ st\\xF8ysone\\nGrense for faresone\\nPlanens begrensning\\nForm\\xE5lgrense\\nBestemmelsegrense\\n\\\n    Byggegrense\\nFrisiktlinje\\nPunktsymboler\\nStenging av avkj\\xF8rsel\\nAvkj\\xF8rsel\\\n    \\ - b\\xE5de inn og utkj\\xF8ring\\nKartopplysninger\\nKilde for basiskart:\\nDato\\\n    \\ for basiskart:\\nKoordinatsystem:\\nH\\xF8ydegrunnlag:\\nEkvidistanse:\\nKartm\\xE5\\\n    lestokk:\\n1m1:750\\nKartverket 05.11.2019\\nETRS89.UTM-32N\\nNN2000\\nDato\\nArealplan-ID:\\n\\\n    Forslagsstiller:\\nSAKS-\\nNR\\nDATO SIGN\\nTEGNNR. DATO SIGN.\\nMed tilh\\xF8rende\\\n    \\ reguleringsbestemmelser\\nSAKSBEHANDLING ETTER PLAN- OG BYGNINGSLOVEN\\nPLANEN\\\n    \\ ER UTARBEIDET AV:\\nDato\\nDato\\nDato\\nRevisjon\\nRevisjonRevisjon\\nKommunestyret\\\n    \\ sitt vedtak\\nDet bekreftes at planen er i samsvar med kommunestyrets vedtak\\\n    \\ av 16.06.202223.06.2022Siv Therese Kile Lie\\nPlansjef\\n4219_202102\\nDeep Capital\\\n    \\ Investments AS\\n11.05.2022 S\\xC5F\\n2021/215 \\n10.02.22\\n18.03.21 \\n 04.03.21\\n\\\n    Evje og Hornnes\\nkommune\\nDetaljregulering\\nSt\\xF8peritomta\\nPLANKONSULENT\\n2.\\\n    \\ gangs behandling\\nOffentlig ettersyn fra 17.03.2022  til 28.04.2022\\n1. gangs\\\n    \\ behandling i Planutvalget\\nKunngj\\xF8ring av oppstart av planarbeid\\nOppstartsm\\xF8\\\n    te 04.03.21\\n4/22 \\n42/22 19.05.22\\n16.06.22 59/22 STL\\nSTL\\nSTL", images: [],\n  metadata: {num_pages: 1}}\n\n\nReturn the correct JSON response within a ```json codeblock. not the JSON_SCHEMA'}], 'temperature': 0, 'max_tokens': 4000, 'extra_body': {}}'
python_service-1  | [0m
python_service-1  | 
python_service-1  | [92m11:19:56 - LiteLLM:DEBUG[0m: utils.py:298 - RAW RESPONSE:
python_service-1  | {"id": "chatcmpl-Aziawu3MO5AMxyNv7jFWx792cWqg8", "choices": [{"finish_reason": "stop", "index": 0, "logprobs": null, "message": {"content": "```json\n{\n  \"fields\": [\n    \"50/132\",\n    \"50/40\",\n    \"49/70\",\n    \"49/87\",\n    \"42/12\",\n    \"49/78\",\n    \"49/80\",\n    \"50/128\",\n    \"50/139\",\n    \"50/101\",\n    \"50/89\",\n    \"49/77\",\n    \"49/83\",\n    \"50/66\",\n    \"50/127\",\n    \"50/151\",\n    \"42/51\",\n    \"49/10\",\n    \"49/82\",\n    \"49/86\",\n    \"50/40\",\n    \"50/40\",\n    \"50/59\",\n    \"50/71\",\n    \"50/132\",\n    \"50/148\",\n    \"50/155\",\n    \"50/158\",\n    \"50/600\",\n    \"42/25\",\n    \"50/637\",\n    \"BR\",\n    \"BIA\",\n    \"o_SPA\",\n    \"o_GF3\",\n    \"o_GF1\",\n    \"o_GF2\",\n    \"o_GTD1\",\n    \"o_GTD2\",\n    \"H220\",\n    \"H210\",\n    \"#01 SN\u00d8\",\n    \"#02 SN\u00d8\",\n    \"H320\",\n    \"o_SF2\",\n    \"o_SF1\",\n    \"N6494250\",\n    \"N6494325\",\n    \"N6494400\",\n    \"N6494475\",\n    \"SN\u00d8\",\n    \"GT\",\n    \"GF\",\n    \"H210\",\n    \"H220\",\n    \"H320\",\n    \"SN\u00d8\"\n  ]\n}\n```", "refusal": null, "role": "assistant", "audio": null, "function_call": null, "tool_calls": null}, "content_filter_results": {"hate": {"filtered": false, "severity": "safe"}, "protected_material_code": {"filtered": false, "detected": false}, "protected_material_text": {"filtered": false, "detected": false}, "self_harm": {"filtered": false, "severity": "safe"}, "sexual": {"filtered": false, "severity": "safe"}, "violence": {"filtered": false, "severity": "safe"}}}], "created": 1739272794, "model": "gpt-4o-mini-2024-07-18", "object": "chat.completion", "service_tier": null, "system_fingerprint": "fp_f3927aa00d", "usage": {"completion_tokens": 348, "prompt_tokens": 1367, "total_tokens": 1715, "completion_tokens_details": {"accepted_prediction_tokens": 0, "audio_tokens": 0, "reasoning_tokens": 0, "rejected_prediction_tokens": 0}, "prompt_tokens_details": {"audio_tokens": 0, "cached_tokens": 0}}, "prompt_filter_results": [{"prompt_index": 0, "content_filter_results": {"hate": {"filtered": false, "severity": "safe"}, "jailbreak": {"filtered": false, "detected": false}, "self_harm": {"filtered": false, "severity": "safe"}, "sexual": {"filtered": false, "severity": "safe"}, "violence": {"filtered": false, "severity": "safe"}}}]}
python_service-1  | 
python_service-1  | 
python_service-1  | DEBUG:LiteLLM:RAW RESPONSE:
python_service-1  | {"id": "chatcmpl-Aziawu3MO5AMxyNv7jFWx792cWqg8", "choices": [{"finish_reason": "stop", "index": 0, "logprobs": null, "message": {"content": "```json\n{\n  \"fields\": [\n    \"50/132\",\n    \"50/40\",\n    \"49/70\",\n    \"49/87\",\n    \"42/12\",\n    \"49/78\",\n    \"49/80\",\n    \"50/128\",\n    \"50/139\",\n    \"50/101\",\n    \"50/89\",\n    \"49/77\",\n    \"49/83\",\n    \"50/66\",\n    \"50/127\",\n    \"50/151\",\n    \"42/51\",\n    \"49/10\",\n    \"49/82\",\n    \"49/86\",\n    \"50/40\",\n    \"50/40\",\n    \"50/59\",\n    \"50/71\",\n    \"50/132\",\n    \"50/148\",\n    \"50/155\",\n    \"50/158\",\n    \"50/600\",\n    \"42/25\",\n    \"50/637\",\n    \"BR\",\n    \"BIA\",\n    \"o_SPA\",\n    \"o_GF3\",\n    \"o_GF1\",\n    \"o_GF2\",\n    \"o_GTD1\",\n    \"o_GTD2\",\n    \"H220\",\n    \"H210\",\n    \"#01 SN\u00d8\",\n    \"#02 SN\u00d8\",\n    \"H320\",\n    \"o_SF2\",\n    \"o_SF1\",\n    \"N6494250\",\n    \"N6494325\",\n    \"N6494400\",\n    \"N6494475\",\n    \"SN\u00d8\",\n    \"GT\",\n    \"GF\",\n    \"H210\",\n    \"H220\",\n    \"H320\",\n    \"SN\u00d8\"\n  ]\n}\n```", "refusal": null, "role": "assistant", "audio": null, "function_call": null, "tool_calls": null}, "content_filter_results": {"hate": {"filtered": false, "severity": "safe"}, "protected_material_code": {"filtered": false, "detected": false}, "protected_material_text": {"filtered": false, "detected": false}, "self_harm": {"filtered": false, "severity": "safe"}, "sexual": {"filtered": false, "severity": "safe"}, "violence": {"filtered": false, "severity": "safe"}}}], "created": 1739272794, "model": "gpt-4o-mini-2024-07-18", "object": "chat.completion", "service_tier": null, "system_fingerprint": "fp_f3927aa00d", "usage": {"completion_tokens": 348, "prompt_tokens": 1367, "total_tokens": 1715, "completion_tokens_details": {"accepted_prediction_tokens": 0, "audio_tokens": 0, "reasoning_tokens": 0, "rejected_prediction_tokens": 0}, "prompt_tokens_details": {"audio_tokens": 0, "cached_tokens": 0}}, "prompt_filter_results": [{"prompt_index": 0, "content_filter_results": {"hate": {"filtered": false, "severity": "safe"}, "jailbreak": {"filtered": false, "detected": false}, "self_harm": {"filtered": false, "severity": "safe"}, "sexual": {"filtered": false, "severity": "safe"}, "violence": {"filtered": false, "severity": "safe"}}}]}
python_service-1  | 
python_service-1  | 
python_service-1  | [92m11:19:56 - LiteLLM:INFO[0m: utils.py:1084 - Wrapper: Completed Call, calling success_handler
python_service-1  | INFO:LiteLLM:Wrapper: Completed Call, calling success_handler
python_service-1  | [92m11:19:56 - LiteLLM:DEBUG[0m: litellm_logging.py:1014 - Logging Details LiteLLM-Success Call: Cache_hit=None
python_service-1  | DEBUG:LiteLLM:Logging Details LiteLLM-Success Call: Cache_hit=None
python_service-1  | [92m11:19:56 - LiteLLM:DEBUG[0m: cost_calculator.py:563 - completion_response _select_model_name_for_cost_calc: azure/gpt-4o-mini-2024-07-18
python_service-1  | [92m11:19:56 - LiteLLM:DEBUG[0m: cost_calculator.py:563 - completion_response _select_model_name_for_cost_calc: azure/gpt-4o-mini-2024-07-18
python_service-1  | DEBUG:LiteLLM:completion_response _select_model_name_for_cost_calc: azure/gpt-4o-mini-2024-07-18
python_service-1  | [92m11:19:56 - LiteLLM:DEBUG[0m: utils.py:4175 - checking potential_model_names in litellm.model_cost: {'split_model': 'gpt-4o-mini-2024-07-18', 'combined_model_name': 'azure/gpt-4o-mini-2024-07-18', 'stripped_model_name': 'gpt-4o-mini-2024-07-18', 'combined_stripped_model_name': 'azure/gpt-4o-mini-2024-07-18', 'custom_llm_provider': 'azure'}
python_service-1  | DEBUG:LiteLLM:completion_response _select_model_name_for_cost_calc: azure/gpt-4o-mini-2024-07-18
python_service-1  | [92m11:19:56 - LiteLLM:DEBUG[0m: utils.py:4175 - checking potential_model_names in litellm.model_cost: {'split_model': 'gpt-4o-mini-2024-07-18', 'combined_model_name': 'azure/gpt-4o-mini-2024-07-18', 'stripped_model_name': 'gpt-4o-mini-2024-07-18', 'combined_stripped_model_name': 'azure/gpt-4o-mini-2024-07-18', 'custom_llm_provider': 'azure'}
python_service-1  | DEBUG:LiteLLM:checking potential_model_names in litellm.model_cost: {'split_model': 'gpt-4o-mini-2024-07-18', 'combined_model_name': 'azure/gpt-4o-mini-2024-07-18', 'stripped_model_name': 'gpt-4o-mini-2024-07-18', 'combined_stripped_model_name': 'azure/gpt-4o-mini-2024-07-18', 'custom_llm_provider': 'azure'}
python_service-1  | [92m11:19:56 - LiteLLM:DEBUG[0m: utils.py:4453 - model_info: {'key': 'azure/gpt-4o-mini-2024-07-18', 'max_tokens': 16384, 'max_input_tokens': 128000, 'max_output_tokens': 16384, 'input_cost_per_token': 1.65e-07, 'cache_creation_input_token_cost': None, 'cache_read_input_token_cost': 7.5e-08, 'input_cost_per_character': None, 'input_cost_per_token_above_128k_tokens': None, 'input_cost_per_query': None, 'input_cost_per_second': None, 'input_cost_per_audio_token': None, 'output_cost_per_token': 6.6e-07, 'output_cost_per_audio_token': None, 'output_cost_per_character': None, 'output_cost_per_token_above_128k_tokens': None, 'output_cost_per_character_above_128k_tokens': None, 'output_cost_per_second': None, 'output_cost_per_image': None, 'output_vector_size': None, 'litellm_provider': 'azure', 'mode': 'chat', 'supports_system_messages': None, 'supports_response_schema': True, 'supports_vision': True, 'supports_function_calling': True, 'supports_tool_choice': True, 'supports_assistant_prefill': False, 'supports_prompt_caching': True, 'supports_audio_input': False, 'supports_audio_output': False, 'supports_pdf_input': False, 'supports_embedding_image_input': False, 'supports_native_streaming': None, 'tpm': None, 'rpm': None}
python_service-1  | DEBUG:LiteLLM:checking potential_model_names in litellm.model_cost: {'split_model': 'gpt-4o-mini-2024-07-18', 'combined_model_name': 'azure/gpt-4o-mini-2024-07-18', 'stripped_model_name': 'gpt-4o-mini-2024-07-18', 'combined_stripped_model_name': 'azure/gpt-4o-mini-2024-07-18', 'custom_llm_provider': 'azure'}
python_service-1  | DEBUG:LiteLLM:model_info: {'key': 'azure/gpt-4o-mini-2024-07-18', 'max_tokens': 16384, 'max_input_tokens': 128000, 'max_output_tokens': 16384, 'input_cost_per_token': 1.65e-07, 'cache_creation_input_token_cost': None, 'cache_read_input_token_cost': 7.5e-08, 'input_cost_per_character': None, 'input_cost_per_token_above_128k_tokens': None, 'input_cost_per_query': None, 'input_cost_per_second': None, 'input_cost_per_audio_token': None, 'output_cost_per_token': 6.6e-07, 'output_cost_per_audio_token': None, 'output_cost_per_character': None, 'output_cost_per_token_above_128k_tokens': None, 'output_cost_per_character_above_128k_tokens': None, 'output_cost_per_second': None, 'output_cost_per_image': None, 'output_vector_size': None, 'litellm_provider': 'azure', 'mode': 'chat', 'supports_system_messages': None, 'supports_response_schema': True, 'supports_vision': True, 'supports_function_calling': True, 'supports_tool_choice': True, 'supports_assistant_prefill': False, 'supports_prompt_caching': True, 'supports_audio_input': False, 'supports_audio_output': False, 'supports_pdf_input': False, 'supports_embedding_image_input': False, 'supports_native_streaming': None, 'tpm': None, 'rpm': None}
python_service-1  | [92m11:19:56 - LiteLLM:DEBUG[0m: utils.py:4453 - model_info: {'key': 'azure/gpt-4o-mini-2024-07-18', 'max_tokens': 16384, 'max_input_tokens': 128000, 'max_output_tokens': 16384, 'input_cost_per_token': 1.65e-07, 'cache_creation_input_token_cost': None, 'cache_read_input_token_cost': 7.5e-08, 'input_cost_per_character': None, 'input_cost_per_token_above_128k_tokens': None, 'input_cost_per_query': None, 'input_cost_per_second': None, 'input_cost_per_audio_token': None, 'output_cost_per_token': 6.6e-07, 'output_cost_per_audio_token': None, 'output_cost_per_character': None, 'output_cost_per_token_above_128k_tokens': None, 'output_cost_per_character_above_128k_tokens': None, 'output_cost_per_second': None, 'output_cost_per_image': None, 'output_vector_size': None, 'litellm_provider': 'azure', 'mode': 'chat', 'supports_system_messages': None, 'supports_response_schema': True, 'supports_vision': True, 'supports_function_calling': True, 'supports_tool_choice': True, 'supports_assistant_prefill': False, 'supports_prompt_caching': True, 'supports_audio_input': False, 'supports_audio_output': False, 'supports_pdf_input': False, 'supports_embedding_image_input': False, 'supports_native_streaming': None, 'tpm': None, 'rpm': None}
python_service-1  | [92m11:19:56 - LiteLLM:DEBUG[0m: litellm_logging.py:846 - response_cost: 0.000455235
python_service-1  | DEBUG:LiteLLM:model_info: {'key': 'azure/gpt-4o-mini-2024-07-18', 'max_tokens': 16384, 'max_input_tokens': 128000, 'max_output_tokens': 16384, 'input_cost_per_token': 1.65e-07, 'cache_creation_input_token_cost': None, 'cache_read_input_token_cost': 7.5e-08, 'input_cost_per_character': None, 'input_cost_per_token_above_128k_tokens': None, 'input_cost_per_query': None, 'input_cost_per_second': None, 'input_cost_per_audio_token': None, 'output_cost_per_token': 6.6e-07, 'output_cost_per_audio_token': None, 'output_cost_per_character': None, 'output_cost_per_token_above_128k_tokens': None, 'output_cost_per_character_above_128k_tokens': None, 'output_cost_per_second': None, 'output_cost_per_image': None, 'output_vector_size': None, 'litellm_provider': 'azure', 'mode': 'chat', 'supports_system_messages': None, 'supports_response_schema': True, 'supports_vision': True, 'supports_function_calling': True, 'supports_tool_choice': True, 'supports_assistant_prefill': False, 'supports_prompt_caching': True, 'supports_audio_input': False, 'supports_audio_output': False, 'supports_pdf_input': False, 'supports_embedding_image_input': False, 'supports_native_streaming': None, 'tpm': None, 'rpm': None}
python_service-1  | [92m11:19:56 - LiteLLM:DEBUG[0m: litellm_logging.py:846 - response_cost: 0.000455235
python_service-1  | DEBUG:LiteLLM:response_cost: 0.000455235
python_service-1  | DEBUG:app.llm.extractor:Available base codes: set()
python_service-1  | DEBUG:app.llm.extractor:Checking field: 42/25
python_service-1  | WARNING:app.llm.extractor:No base codes available, using pattern matching
python_service-1  | DEBUG:app.llm.extractor:Checking field: 50/139
python_service-1  | WARNING:app.llm.extractor:No base codes available, using pattern matching
python_service-1  | DEBUG:app.llm.extractor:Checking field: o_GF2
python_service-1  | WARNING:app.llm.extractor:No base codes available, using pattern matching
python_service-1  | DEBUG:app.llm.extractor:Added valid code: o_GF2
python_service-1  | DEBUG:app.llm.extractor:Checking field: 49/80
python_service-1  | WARNING:app.llm.extractor:No base codes available, using pattern matching
python_service-1  | DEBUG:LiteLLM:response_cost: 0.000455235
python_service-1  | [92m11:19:56 - LiteLLM:DEBUG[0m: utils.py:4175 - checking potential_model_names in litellm.model_cost: {'split_model': 'gpt-4o-mini-2024-07-18', 'combined_model_name': 'azure/gpt-4o-mini-2024-07-18', 'stripped_model_name': 'gpt-4o-mini-2024-07-18', 'combined_stripped_model_name': 'azure/gpt-4o-mini-2024-07-18', 'custom_llm_provider': 'azure'}
python_service-1  | DEBUG:app.llm.extractor:Checking field: o_GTD2
python_service-1  | WARNING:app.llm.extractor:No base codes available, using pattern matching
python_service-1  | DEBUG:app.llm.extractor:Added valid code: o_GTD2
python_service-1  | DEBUG:app.llm.extractor:Checking field: 49/83
python_service-1  | DEBUG:LiteLLM:checking potential_model_names in litellm.model_cost: {'split_model': 'gpt-4o-mini-2024-07-18', 'combined_model_name': 'azure/gpt-4o-mini-2024-07-18', 'stripped_model_name': 'gpt-4o-mini-2024-07-18', 'combined_stripped_model_name': 'azure/gpt-4o-mini-2024-07-18', 'custom_llm_provider': 'azure'}
python_service-1  | [92m11:19:56 - LiteLLM:DEBUG[0m: utils.py:4453 - model_info: {'key': 'azure/gpt-4o-mini-2024-07-18', 'max_tokens': 16384, 'max_input_tokens': 128000, 'max_output_tokens': 16384, 'input_cost_per_token': 1.65e-07, 'cache_creation_input_token_cost': None, 'cache_read_input_token_cost': 7.5e-08, 'input_cost_per_character': None, 'input_cost_per_token_above_128k_tokens': None, 'input_cost_per_query': None, 'input_cost_per_second': None, 'input_cost_per_audio_token': None, 'output_cost_per_token': 6.6e-07, 'output_cost_per_audio_token': None, 'output_cost_per_character': None, 'output_cost_per_token_above_128k_tokens': None, 'output_cost_per_character_above_128k_tokens': None, 'output_cost_per_second': None, 'output_cost_per_image': None, 'output_vector_size': None, 'litellm_provider': 'azure', 'mode': 'chat', 'supports_system_messages': None, 'supports_response_schema': True, 'supports_vision': True, 'supports_function_calling': True, 'supports_tool_choice': True, 'supports_assistant_prefill': False, 'supports_prompt_caching': True, 'supports_audio_input': False, 'supports_audio_output': False, 'supports_pdf_input': False, 'supports_embedding_image_input': False, 'supports_native_streaming': None, 'tpm': None, 'rpm': None}
python_service-1  | DEBUG:LiteLLM:model_info: {'key': 'azure/gpt-4o-mini-2024-07-18', 'max_tokens': 16384, 'max_input_tokens': 128000, 'max_output_tokens': 16384, 'input_cost_per_token': 1.65e-07, 'cache_creation_input_token_cost': None, 'cache_read_input_token_cost': 7.5e-08, 'input_cost_per_character': None, 'input_cost_per_token_above_128k_tokens': None, 'input_cost_per_query': None, 'input_cost_per_second': None, 'input_cost_per_audio_token': None, 'output_cost_per_token': 6.6e-07, 'output_cost_per_audio_token': None, 'output_cost_per_character': None, 'output_cost_per_token_above_128k_tokens': None, 'output_cost_per_character_above_128k_tokens': None, 'output_cost_per_second': None, 'output_cost_per_image': None, 'output_vector_size': None, 'litellm_provider': 'azure', 'mode': 'chat', 'supports_system_messages': None, 'supports_response_schema': True, 'supports_vision': True, 'supports_function_calling': True, 'supports_tool_choice': True, 'supports_assistant_prefill': False, 'supports_prompt_caching': True, 'supports_audio_input': False, 'supports_audio_output': False, 'supports_pdf_input': False, 'supports_embedding_image_input': False, 'supports_native_streaming': None, 'tpm': None, 'rpm': None}
python_service-1  | [92m11:19:56 - LiteLLM:DEBUG[0m: litellm_logging.py:1040 - Logging Details LiteLLM-Success Call streaming complete
python_service-1  | WARNING:app.llm.extractor:No base codes available, using pattern matching
python_service-1  | DEBUG:app.llm.extractor:Checking field: 49/78
python_service-1  | WARNING:app.llm.extractor:No base codes available, using pattern matching
python_service-1  | DEBUG:app.llm.extractor:Checking field: N6494475
python_service-1  | WARNING:app.llm.extractor:No base codes available, using pattern matching
python_service-1  | DEBUG:LiteLLM:Logging Details LiteLLM-Success Call streaming complete
python_service-1  | [92m11:19:56 - LiteLLM:DEBUG[0m: cost_calculator.py:563 - completion_response _select_model_name_for_cost_calc: azure/gpt-4o-mini-2024-07-18
python_service-1  | DEBUG:app.llm.extractor:Checking field: 50/600
python_service-1  | DEBUG:LiteLLM:completion_response _select_model_name_for_cost_calc: azure/gpt-4o-mini-2024-07-18
python_service-1  | [92m11:19:56 - LiteLLM:DEBUG[0m: utils.py:4175 - checking potential_model_names in litellm.model_cost: {'split_model': 'gpt-4o-mini-2024-07-18', 'combined_model_name': 'azure/gpt-4o-mini-2024-07-18', 'stripped_model_name': 'gpt-4o-mini-2024-07-18', 'combined_stripped_model_name': 'azure/gpt-4o-mini-2024-07-18', 'custom_llm_provider': 'azure'}
python_service-1  | WARNING:app.llm.extractor:No base codes available, using pattern matching
python_service-1  | DEBUG:LiteLLM:checking potential_model_names in litellm.model_cost: {'split_model': 'gpt-4o-mini-2024-07-18', 'combined_model_name': 'azure/gpt-4o-mini-2024-07-18', 'stripped_model_name': 'gpt-4o-mini-2024-07-18', 'combined_stripped_model_name': 'azure/gpt-4o-mini-2024-07-18', 'custom_llm_provider': 'azure'}
python_service-1  | [92m11:19:56 - LiteLLM:DEBUG[0m: utils.py:4453 - model_info: {'key': 'azure/gpt-4o-mini-2024-07-18', 'max_tokens': 16384, 'max_input_tokens': 128000, 'max_output_tokens': 16384, 'input_cost_per_token': 1.65e-07, 'cache_creation_input_token_cost': None, 'cache_read_input_token_cost': 7.5e-08, 'input_cost_per_character': None, 'input_cost_per_token_above_128k_tokens': None, 'input_cost_per_query': None, 'input_cost_per_second': None, 'input_cost_per_audio_token': None, 'output_cost_per_token': 6.6e-07, 'output_cost_per_audio_token': None, 'output_cost_per_character': None, 'output_cost_per_token_above_128k_tokens': None, 'output_cost_per_character_above_128k_tokens': None, 'output_cost_per_second': None, 'output_cost_per_image': None, 'output_vector_size': None, 'litellm_provider': 'azure', 'mode': 'chat', 'supports_system_messages': None, 'supports_response_schema': True, 'supports_vision': True, 'supports_function_calling': True, 'supports_tool_choice': True, 'supports_assistant_prefill': False, 'supports_prompt_caching': True, 'supports_audio_input': False, 'supports_audio_output': False, 'supports_pdf_input': False, 'supports_embedding_image_input': False, 'supports_native_streaming': None, 'tpm': None, 'rpm': None}
python_service-1  | DEBUG:app.llm.extractor:Checking field: H210
python_service-1  | WARNING:app.llm.extractor:No base codes available, using pattern matching
python_service-1  | DEBUG:LiteLLM:model_info: {'key': 'azure/gpt-4o-mini-2024-07-18', 'max_tokens': 16384, 'max_input_tokens': 128000, 'max_output_tokens': 16384, 'input_cost_per_token': 1.65e-07, 'cache_creation_input_token_cost': None, 'cache_read_input_token_cost': 7.5e-08, 'input_cost_per_character': None, 'input_cost_per_token_above_128k_tokens': None, 'input_cost_per_query': None, 'input_cost_per_second': None, 'input_cost_per_audio_token': None, 'output_cost_per_token': 6.6e-07, 'output_cost_per_audio_token': None, 'output_cost_per_character': None, 'output_cost_per_token_above_128k_tokens': None, 'output_cost_per_character_above_128k_tokens': None, 'output_cost_per_second': None, 'output_cost_per_image': None, 'output_vector_size': None, 'litellm_provider': 'azure', 'mode': 'chat', 'supports_system_messages': None, 'supports_response_schema': True, 'supports_vision': True, 'supports_function_calling': True, 'supports_tool_choice': True, 'supports_assistant_prefill': False, 'supports_prompt_caching': True, 'supports_audio_input': False, 'supports_audio_output': False, 'supports_pdf_input': False, 'supports_embedding_image_input': False, 'supports_native_streaming': None, 'tpm': None, 'rpm': None}
python_service-1  | DEBUG:app.llm.extractor:Checking field: 50/127
python_service-1  | WARNING:app.llm.extractor:No base codes available, using pattern matching
python_service-1  | DEBUG:app.llm.extractor:Checking field: 50/148
python_service-1  | WARNING:app.llm.extractor:No base codes available, using pattern matching
python_service-1  | DEBUG:app.llm.extractor:Checking field: o_GF1
python_service-1  | WARNING:app.llm.extractor:No base codes available, using pattern matching
python_service-1  | DEBUG:app.llm.extractor:Added valid code: o_GF1
python_service-1  | DEBUG:app.llm.extractor:Checking field: 50/59
python_service-1  | WARNING:app.llm.extractor:No base codes available, using pattern matching
python_service-1  | DEBUG:app.llm.extractor:Checking field: 50/155
python_service-1  | WARNING:app.llm.extractor:No base codes available, using pattern matching
python_service-1  | DEBUG:app.llm.extractor:Checking field: 50/151
python_service-1  | WARNING:app.llm.extractor:No base codes available, using pattern matching
python_service-1  | DEBUG:app.llm.extractor:Checking field: 50/101
python_service-1  | WARNING:app.llm.extractor:No base codes available, using pattern matching
python_service-1  | DEBUG:app.llm.extractor:Checking field: #02 SN√ò
python_service-1  | WARNING:app.llm.extractor:No base codes available, using pattern matching
python_service-1  | DEBUG:app.llm.extractor:Checking field: N6494250
python_service-1  | WARNING:app.llm.extractor:No base codes available, using pattern matching
python_service-1  | DEBUG:app.llm.extractor:Checking field: 42/12
python_service-1  | WARNING:app.llm.extractor:No base codes available, using pattern matching
python_service-1  | DEBUG:app.llm.extractor:Checking field: 49/87
python_service-1  | WARNING:app.llm.extractor:No base codes available, using pattern matching
python_service-1  | DEBUG:app.llm.extractor:Checking field: 49/70
python_service-1  | WARNING:app.llm.extractor:No base codes available, using pattern matching
python_service-1  | DEBUG:app.llm.extractor:Checking field: o_SPA
python_service-1  | WARNING:app.llm.extractor:No base codes available, using pattern matching
python_service-1  | DEBUG:app.llm.extractor:Added valid code: o_SPA
python_service-1  | DEBUG:app.llm.extractor:Checking field: 50/89
python_service-1  | WARNING:app.llm.extractor:No base codes available, using pattern matching
python_service-1  | DEBUG:app.llm.extractor:Checking field: N6494400
python_service-1  | WARNING:app.llm.extractor:No base codes available, using pattern matching
python_service-1  | DEBUG:app.llm.extractor:Checking field: o_GTD1
python_service-1  | WARNING:app.llm.extractor:No base codes available, using pattern matching
python_service-1  | DEBUG:app.llm.extractor:Added valid code: o_GTD1
python_service-1  | DEBUG:app.llm.extractor:Checking field: H220
python_service-1  | WARNING:app.llm.extractor:No base codes available, using pattern matching
python_service-1  | DEBUG:app.llm.extractor:Checking field: o_SF1
python_service-1  | WARNING:app.llm.extractor:No base codes available, using pattern matching
python_service-1  | DEBUG:app.llm.extractor:Added valid code: o_SF1
python_service-1  | DEBUG:app.llm.extractor:Checking field: o_GF3
python_service-1  | WARNING:app.llm.extractor:No base codes available, using pattern matching
python_service-1  | DEBUG:app.llm.extractor:Added valid code: o_GF3
python_service-1  | DEBUG:app.llm.extractor:Checking field: 50/66
python_service-1  | WARNING:app.llm.extractor:No base codes available, using pattern matching
python_service-1  | DEBUG:app.llm.extractor:Checking field: #01 SN√ò
python_service-1  | WARNING:app.llm.extractor:No base codes available, using pattern matching
python_service-1  | DEBUG:app.llm.extractor:Checking field: H320
python_service-1  | WARNING:app.llm.extractor:No base codes available, using pattern matching
python_service-1  | DEBUG:app.llm.extractor:Checking field: GT
python_service-1  | [92m11:19:56 - LiteLLM:DEBUG[0m: litellm_logging.py:861 - response_cost_failure_debug_information: {'error_str': "'CompletionUsage' object is not subscriptable", 'traceback_str': 'Traceback (most recent call last):\n  File "/usr/local/lib/python3.12/site-packages/litellm/litellm_core_utils/litellm_logging.py", line 843, in _response_cost_calculator\n    response_cost = litellm.response_cost_calculator(\n                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "/usr/local/lib/python3.12/site-packages/litellm/cost_calculator.py", line 833, in response_cost_calculator\n    raise e\n  File "/usr/local/lib/python3.12/site-packages/litellm/cost_calculator.py", line 821, in response_cost_calculator\n    response_cost = completion_cost(\n                    ^^^^^^^^^^^^^^^^\n  File "/usr/local/lib/python3.12/site-packages/litellm/cost_calculator.py", line 771, in completion_cost\n    raise e\n  File "/usr/local/lib/python3.12/site-packages/litellm/cost_calculator.py", line 750, in completion_cost\n    ) = cost_per_token(\n        ^^^^^^^^^^^^^^^\n  File "/usr/local/lib/python3.12/site-packages/litellm/cost_calculator.py", line 279, in cost_per_token\n    return azure_openai_cost_per_token(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "/usr/local/lib/python3.12/site-packages/litellm/llms/azure/cost_calculation.py", line 38, in cost_per_token\n    usage["completion_tokens"] * model_info["output_cost_per_token"]\n    ~~~~~^^^^^^^^^^^^^^^^^^^^^\nTypeError: \'CompletionUsage\' object is not subscriptable\n', 'model': 'gpt-4o-mini', 'cache_hit': None, 'custom_llm_provider': 'azure', 'base_model': None, 'call_type': 'completion', 'custom_pricing': False}
python_service-1  | WARNING:app.llm.extractor:No base codes available, using pattern matching
python_service-1  | DEBUG:app.llm.extractor:Checking field: 50/71
python_service-1  | WARNING:app.llm.extractor:No base codes available, using pattern matching
python_service-1  | DEBUG:app.llm.extractor:Checking field: 50/158
python_service-1  | WARNING:app.llm.extractor:No base codes available, using pattern matching
python_service-1  | DEBUG:LiteLLM:response_cost_failure_debug_information: {'error_str': "'CompletionUsage' object is not subscriptable", 'traceback_str': 'Traceback (most recent call last):\n  File "/usr/local/lib/python3.12/site-packages/litellm/litellm_core_utils/litellm_logging.py", line 843, in _response_cost_calculator\n    response_cost = litellm.response_cost_calculator(\n                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "/usr/local/lib/python3.12/site-packages/litellm/cost_calculator.py", line 833, in response_cost_calculator\n    raise e\n  File "/usr/local/lib/python3.12/site-packages/litellm/cost_calculator.py", line 821, in response_cost_calculator\n    response_cost = completion_cost(\n                    ^^^^^^^^^^^^^^^^\n  File "/usr/local/lib/python3.12/site-packages/litellm/cost_calculator.py", line 771, in completion_cost\n    raise e\n  File "/usr/local/lib/python3.12/site-packages/litellm/cost_calculator.py", line 750, in completion_cost\n    ) = cost_per_token(\n        ^^^^^^^^^^^^^^^\n  File "/usr/local/lib/python3.12/site-packages/litellm/cost_calculator.py", line 279, in cost_per_token\n    return azure_openai_cost_per_token(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "/usr/local/lib/python3.12/site-packages/litellm/llms/azure/cost_calculation.py", line 38, in cost_per_token\n    usage["completion_tokens"] * model_info["output_cost_per_token"]\n    ~~~~~^^^^^^^^^^^^^^^^^^^^^\nTypeError: \'CompletionUsage\' object is not subscriptable\n', 'model': 'gpt-4o-mini', 'cache_hit': None, 'custom_llm_provider': 'azure', 'base_model': None, 'call_type': 'completion', 'custom_pricing': False}
python_service-1  | [92m11:19:56 - LiteLLM:DEBUG[0m: utils.py:4175 - checking potential_model_names in litellm.model_cost: {'split_model': 'gpt-4o-mini-2024-07-18', 'combined_model_name': 'azure/gpt-4o-mini-2024-07-18', 'stripped_model_name': 'gpt-4o-mini-2024-07-18', 'combined_stripped_model_name': 'azure/gpt-4o-mini-2024-07-18', 'custom_llm_provider': 'azure'}
python_service-1  | DEBUG:app.llm.extractor:Checking field: 49/82
python_service-1  | WARNING:app.llm.extractor:No base codes available, using pattern matching
python_service-1  | DEBUG:app.llm.extractor:Checking field: o_SF2
python_service-1  | WARNING:app.llm.extractor:No base codes available, using pattern matching
python_service-1  | DEBUG:app.llm.extractor:Added valid code: o_SF2
python_service-1  | DEBUG:app.llm.extractor:Checking field: SN√ò
python_service-1  | WARNING:app.llm.extractor:No base codes available, using pattern matching
python_service-1  | DEBUG:LiteLLM:checking potential_model_names in litellm.model_cost: {'split_model': 'gpt-4o-mini-2024-07-18', 'combined_model_name': 'azure/gpt-4o-mini-2024-07-18', 'stripped_model_name': 'gpt-4o-mini-2024-07-18', 'combined_stripped_model_name': 'azure/gpt-4o-mini-2024-07-18', 'custom_llm_provider': 'azure'}
python_service-1  | [92m11:19:56 - LiteLLM:DEBUG[0m: utils.py:4453 - model_info: {'key': 'azure/gpt-4o-mini-2024-07-18', 'max_tokens': 16384, 'max_input_tokens': 128000, 'max_output_tokens': 16384, 'input_cost_per_token': 1.65e-07, 'cache_creation_input_token_cost': None, 'cache_read_input_token_cost': 7.5e-08, 'input_cost_per_character': None, 'input_cost_per_token_above_128k_tokens': None, 'input_cost_per_query': None, 'input_cost_per_second': None, 'input_cost_per_audio_token': None, 'output_cost_per_token': 6.6e-07, 'output_cost_per_audio_token': None, 'output_cost_per_character': None, 'output_cost_per_token_above_128k_tokens': None, 'output_cost_per_character_above_128k_tokens': None, 'output_cost_per_second': None, 'output_cost_per_image': None, 'output_vector_size': None, 'litellm_provider': 'azure', 'mode': 'chat', 'supports_system_messages': None, 'supports_response_schema': True, 'supports_vision': True, 'supports_function_calling': True, 'supports_tool_choice': True, 'supports_assistant_prefill': False, 'supports_prompt_caching': True, 'supports_audio_input': False, 'supports_audio_output': False, 'supports_pdf_input': False, 'supports_embedding_image_input': False, 'supports_native_streaming': None, 'tpm': None, 'rpm': None}
python_service-1  | DEBUG:app.llm.extractor:Checking field: 50/40
python_service-1  | WARNING:app.llm.extractor:No base codes available, using pattern matching
python_service-1  | DEBUG:LiteLLM:model_info: {'key': 'azure/gpt-4o-mini-2024-07-18', 'max_tokens': 16384, 'max_input_tokens': 128000, 'max_output_tokens': 16384, 'input_cost_per_token': 1.65e-07, 'cache_creation_input_token_cost': None, 'cache_read_input_token_cost': 7.5e-08, 'input_cost_per_character': None, 'input_cost_per_token_above_128k_tokens': None, 'input_cost_per_query': None, 'input_cost_per_second': None, 'input_cost_per_audio_token': None, 'output_cost_per_token': 6.6e-07, 'output_cost_per_audio_token': None, 'output_cost_per_character': None, 'output_cost_per_token_above_128k_tokens': None, 'output_cost_per_character_above_128k_tokens': None, 'output_cost_per_second': None, 'output_cost_per_image': None, 'output_vector_size': None, 'litellm_provider': 'azure', 'mode': 'chat', 'supports_system_messages': None, 'supports_response_schema': True, 'supports_vision': True, 'supports_function_calling': True, 'supports_tool_choice': True, 'supports_assistant_prefill': False, 'supports_prompt_caching': True, 'supports_audio_input': False, 'supports_audio_output': False, 'supports_pdf_input': False, 'supports_embedding_image_input': False, 'supports_native_streaming': None, 'tpm': None, 'rpm': None}
python_service-1  | DEBUG:app.llm.extractor:Checking field: 50/637
python_service-1  | WARNING:app.llm.extractor:No base codes available, using pattern matching
python_service-1  | DEBUG:app.llm.extractor:Checking field: 49/10
python_service-1  | WARNING:app.llm.extractor:No base codes available, using pattern matching
python_service-1  | DEBUG:app.llm.extractor:Checking field: BR
python_service-1  | WARNING:app.llm.extractor:No base codes available, using pattern matching
python_service-1  | DEBUG:app.llm.extractor:Checking field: 49/77
python_service-1  | WARNING:app.llm.extractor:No base codes available, using pattern matching
python_service-1  | DEBUG:app.llm.extractor:Checking field: 49/86
python_service-1  | WARNING:app.llm.extractor:No base codes available, using pattern matching
python_service-1  | DEBUG:app.llm.extractor:Checking field: BIA
python_service-1  | WARNING:app.llm.extractor:No base codes available, using pattern matching
python_service-1  | DEBUG:app.llm.extractor:Checking field: N6494325
python_service-1  | WARNING:app.llm.extractor:No base codes available, using pattern matching
python_service-1  | DEBUG:app.llm.extractor:Checking field: GF
python_service-1  | WARNING:app.llm.extractor:No base codes available, using pattern matching
python_service-1  | DEBUG:app.llm.extractor:Added valid code: GF
python_service-1  | DEBUG:app.llm.extractor:Checking field: 50/132
python_service-1  | WARNING:app.llm.extractor:No base codes available, using pattern matching
python_service-1  | DEBUG:app.llm.extractor:Checking field: 50/128
python_service-1  | WARNING:app.llm.extractor:No base codes available, using pattern matching
python_service-1  | DEBUG:app.llm.extractor:Checking field: 42/51
python_service-1  | WARNING:app.llm.extractor:No base codes available, using pattern matching
python_service-1  | INFO:app.llm.extractor:Extracted fields: {'O_SF1', 'O_GF1', 'O_GTD2', 'O_GF2', 'O_SPA', 'O_GF3', 'GF', 'O_SF2', 'O_GTD1'}
python_service-1  | DEBUG:app.llm.extractor:Raw text from PDF: [{'content': '  1 \n  \n \n \nReguleringsbestemmelser  \nfor \nSt√∏peritomta \n \nPlan ID: 202102 \nPlankart dato: 11.05.2022 \nReguleringsbestemmelser dato: 11.05.2022 \nVedtatt PS 59/22: 16.06.2022 \n  \n \n¬ß1. Planform√•l \nForm√•let med planen er √• tilrettelegge for konsentrert bebyggelse med tilh√∏rende anlegg. \nPlanen omfatter ogs√• kirke/annen religionsut√∏velse, parkeringsanlegg og idrett/park.  \n \nPlanen inneholder f√∏lgende form√•l (Pbl. ¬ß 12-5): \n \n¬ß1.1 Bebyggelse og anlegg (pbl ¬ß12-5,nr 1) \nBoligbebyggelse- Konsentrert sm√•husbebyggelse (BKS) \nForsamlingslokale for religionsut√∏velse (BR) \nIdrettsanlegg (BIA) \nEnergianlegg (BE) \n \n¬ß1.2 Samferdselsanlegg og teknisk infrastruktur (pbl ¬ß12-5, nr 2) \nVeg (o_SV1 og 3) \nFortau (o_SF) \nParkering(o_SPA) \n \n¬ß1.3 Gr√∏nnstruktur (pbl ¬ß12-5,2. ledd nr 3) \nFriomr√•de (o_GF1-3) \nTurdrag (o_GTD1-2) \n \n \n  \n'}, {'content': '  2 \n¬ß2. Rekkef√∏lgebestemmelser (pbl ¬ß 12-7 nr. 10) \n \n¬ß2.1 F√∏r midlertidig brukstillatelse for BKS skal o_SV3 v√¶re ferdig opparbeidet.  \n¬ß2.2 F√∏r midlertidig brukstillatelse for 1. boenhet p√• BKS skal lekeplass innenfor GF1 v√¶re ferdig \nopparbeidet. \n¬ß2.3 F√∏r midlertidig brukstillatelse p√• 5. boenhet p√• BKS skal o_GTD1-2 v√¶re ferdig opparbeidet.  \n¬ß2.4 F√∏r midlertidig brukstillatelse for BKS skal o_SF v√¶re ferdig opparbeidet. \n¬ß2.5 F√∏r ferdigattest p√• BR, skal o_SF og o_SPA v√¶re ferdig opparbeidet. \n \n \n \n \n \n¬ß3. Fellesbestemmelser \n¬ß3.1 Bygge- og anleggsst√∏y skal ikke overskride st√∏ygrensen i tabell 4 i retningslinje for behandling \nav st√∏y i arealplanlegging (T-1442/2021). St√∏yende aktivitet skal foregaÃä p√• dagtid. \n¬ß4. Bebyggelse og anlegg (pbl 12-5 nr. 1) \nBoligbebyggelse-konsentrert sm√•husbebyggelse - BKS \n \n¬ß4.1 Bebyggelse: Det tillates fire tomannsboliger p√• tomten. Totalt 8 boenheter.   \n¬ß4.2 Byggegrenser: Plassering av nye tiltak skal skje innenfor byggegrensene. For \ngarasje/carport/bod mindre enn 50 m2 BYA gjelder byggegrense p√• 1 meter fra tomtegrense. \nTerrenginngrep og grunnarbeider i forbindelse med opparbeidelse av tomtene tillattes \nutenfor byggegrense. Avkj√∏rsel og parkering tillates utenfor byggegrense. \n¬ß4.3 Garasje/Carport: Alle boenheter skal ha minst en parkering under tak til disposisjon.  \n¬ß4.4 Bestemmelsesomr√•de #01 SN√ò: Innenfor omr√•det kan det anlegges opplag for sn√∏. \n \nGrad av utnytting \n¬ß4.5 Utnyttelsesgrad: BYA for omr√•det BKS skal v√¶re maksimalt %-BYA= 40%. Overbygg til \nrenovasjon eller dunker medregnes ikke i %-BYA. \n¬ß4.6 Parkering: Det skal avsettes 2 parkeringsplasser for hver boenhet, hvor en av disse skal v√¶re i \ngarasje/carport. BYA for parkering er 3x6=18m2 per plass. \n \nH√∏yder ‚Äì Utforming av bebyggelse \n¬ß4.7 Planeringsh√∏yder: Maksimal planeringsh√∏yde er angitt i plankart. Maks planeringsh√∏yde er \nK+182. \n¬ß4.8 Takform: Bebyggelse skal ha saltak med en takvinkel mellom 30 - 40 grader.  \n¬ß4.9 Takh√∏yder: Tillate takh√∏yder er angitt i tabellen under. H√∏yder regnes fra planert terreng. \n \n Saltak \nM√∏ne 6,0 m \nGesimsh√∏yde 3,5 m \nTakvinkel 30-40 grader \n \nSt√∏yf√∏lsom bebyggelse \nF√∏r det tillates tiltak innenfor omr√•det skal det gj√∏res st√∏yskjermede tiltak.   \n¬ß4.10 Alle boenheter skal ha uteplass p√• b√•de √∏stsiden og vestsiden av bebyggelsen.  '}, {'content': '  3 \n¬ß4.11 Alle boenheter skal v√¶re gjennomg√•ende og ha minst ett soverom plassert p√• vestsiden og \n√∏stsiden. Eventuelt √∏kt lydisolasjon i fasade i minst ett soverom i hver boenhet. \n \nTeknisk plan \n¬ß4.12 Det stilles teknisk plan for VA, overvannsh√•ndtering og str√∏mforsyning f√∏r \nigangsettingstillatelse kan gis innenfor omr√•det BKS. Det b√∏r legge til rette for √•pne \nvannveier for overvannsh√•ndtering. Dersom andre l√∏sninger velges skal det begrunnes \nhvorfor naturbaserte l√∏sninger velges bort. \n¬ß4.13 V/A- anlegg samt vei skal dimensjoneres og opparbeides i samsvar med til enhver tids \ngjeldende ¬´Retningslinjer for vei, vann og avl√∏p¬ª for Evje og Hornnes kommune. Det skal \nsikres teknisk godkjenning av offentlig samferdselsanlegg. \n¬ß4.14 Det skal f√∏r utbygging avklares hvordan det nye utbyggingsomr√•det i planomr√•det skal \nforsynes med elektrisk str√∏m. Det m√• avklares i hvilken grad eksisterende ledninger/kabler \neventuelt kan benyttes og om nye ledninger/kabler m√• legges om og om det er behov for \nny(e) nettstasjon(er). \n \nUtforming av tomt \n¬ß4.15 Situasjonsplan: Ved s√∏knad om tillatelse til tiltak skal situasjonsplan vedlegges i tilpasset \nm√•lestokk som viser plassering av bebyggelse og h√∏yde. Situasjonsplan skal ogs√• vise \nplassering av parkering, avkj√∏rsel og evt. st√∏ttemurer.  \n¬ß4.16 Renovasjon: Areal for renovasjon skal vises p√• situasjonsplan. Situasjonsplanen skal vise at \nrenovasjonsbil har tilstrekkelig snuareal innenfor planomr√•det.  \n¬ß4.17 Forst√∏tningsmur: Det tillattes forst√∏tningsmurer for √• tilpasse terrenget. Forst√∏tningsmurer \ntillates oppf√∏rt utenfor byggegrense. Maks tillatt h√∏yde p√• forst√∏tningsmurer er 2,5 meter.  \n¬ß4.18 Det stilles estetisk krav til utforming av fylling / naturstein plastret skr√•ning mot bekk. \nSkr√•ning skal jord klees, tils√•es og sikres mot erosjon. \n \nForsamlingslokale for religionsut√∏velse - BR \n \n¬ß4.19 Omr√•det skal benyttes til nytt sentrumsn√¶rt bedehus i n√∏dvendig grad og utstrekning \n¬ß4.20 Bygninger kan oppf√∏res med gesimsh√∏yde 8,0 meter og m√∏neh√∏yde 10,5 meter. \n¬ß4.21 BYA for arealform√•let skal v√¶re maksimalt %-BYA= 50. Areal for parkering medregnes ikke i \n%BYA \n¬ß4.22 Det skal avsettes tilstrekkelig med parkeringsareal til gjeldende aktivitet innenfor regulert \nomr√•de. Parkeringsbehovet for bedehuset kan l√∏ses b√•de innenfor BR og SPA. \n¬ß4.23 Arealutnyttelse utover dette skal opparbeides parkmessig og v√¶re tilgjengelig for \nallmennheten. \n¬ß4.24 Oppgitt gesimsh√∏yde og m√∏neh√∏yde skal regnes ut fra gjennomsnittlig h√∏yde p√• tomta/ \nomr√•det f√∏r opparbeidelse begynner. \n¬ß4.25 Innenfor omr√•det BR tillates det internveier og parkeringsplasser. \n \nIdrettsanlegg - BIA \n¬ß4.26 Innenfor omr√•det er det tillatt med tiltak som fremmer idrettsaktiviteter.  \n \nEnergianlegg - BE \n¬ß4.27 Innenfor omr√•det er det tillatt plassering av trafo og infrastruktur i sammenheng med dette. \n \n  '}, {'content': '  4 \n¬ß5. Samferdselsanlegg og teknisk infrastruktur (pbl 12-5 nr. 2) \nVeg (o_SV1) \n¬ß5.1 Veien o_SV1 er adkomst for alle tilgrensende eiendommer. \nDet skal opparbeides et fysisk skille mellom o_SV1 og omkringliggende arealform√•l SPA, GF \nog SGS. Adkomst til SPA og BR skal ikke v√¶re rett ovenfor hverandre. \n \n \n \nVeg (o_SV3) \n¬ß5.2 Veien o_SV3-er adkomst for boligomr√•de BKS og BR samt atkomst til o_SPA. Plasseringer av \navkj√∏rsler langs o_SV3 er ikke endelige og tillates justert i samr√•d med veieier. \n \nFortau (o_SF1-2) \n¬ß5.3 o_SF1-2 er regulert til offentlig fortau med en bredde p√• 3 meter. \n \nParkering (o_SPA) \n¬ß5.4 o_SPA er offentlig parkeringsplass. \n¬ß5.5 Parkeringsbehov for bedehuset kan l√∏ses innenfor o_SPA. \n¬ß5.6 Det tillates etablert ladestasjoner innenfor omr√•det.  \n¬ß5.7 Atkomst til SPA og SGS skal ikke anlegges vertikalt rett overfor hverandre. \n \n \n¬ß6. Gr√∏nnstruktur (pbl 12-5 nr. 3) \n \nFriomr√•de (o_GF1-3) \n¬ß6.1 Omr√•de for friomr√•de/gr√∏ntstruktur GF1-GF3 er til fri ferdsel for allmenheten. \n¬ß6.2 I omr√•dene er det tillat oppf√∏rt bebyggelse og andre tekniske installasjoner som typisk \nberiker bruken av omr√•de. \n¬ß6.3 Innenfor omr√•det GF1 skal det opparbeides et felles leke- og uteoppholdsareal for hele \nplanomr√•det. Lekeplassen skal utstyres med sand, benk og min. 3 ulike lekeapparater. \n¬ß6.4 Det tillates avkj√∏rsel for BR over o_GF3 \n¬ß6.5 Bestemmelsesomr√•de #02 SN√ò: Innenfor omr√•det kan det anlegges opplag for sn√∏. \n¬ß6.6 Det tillates √• legge kabler i bakken innenfor omr√•de avsatt til friomr√•de. \n¬ß6.7 Adkomst til lekearealer skal v√¶re universelt utformet. \n \nTurdrag (GTD1-2) \n¬ß6.8 Omr√•dene skal benyttes til turveier. \n \n \n \nDato 11.05.2022 '}]...
python_service-1  | [92m11:19:57 - LiteLLM:DEBUG[0m: utils.py:298 - 
python_service-1  | 
python_service-1  | DEBUG:LiteLLM:
python_service-1  | 
python_service-1  | [92m11:19:57 - LiteLLM:DEBUG[0m: utils.py:298 - [92mRequest to litellm:[0m
python_service-1  | DEBUG:LiteLLM:[92mRequest to litellm:[0m
python_service-1  | [92m11:19:57 - LiteLLM:DEBUG[0m: utils.py:298 - [92mlitellm.completion(messages=[{'role': 'system', 'content': 'You are a server API that receives document information and returns specific fields in JSON format.\n\n\n        As a genius expert, your task is to understand the content and provide\n        the parsed objects in json that match the following json_schema:\n\n\n        {\n  "description": "Contract for field extraction from regulatory documents.\\n\\nDefines the structure and prompt for extracting regulation codes from\\nNorwegian planning documents (plankart and bestemmelser).\\n\\nAttributes:\\n    fields (Set[str]): Set of extracted regulation codes",\n  "properties": {\n    "fields": {\n      "items": {\n        "type": "string"\n      },\n      "title": "Fields",\n      "type": "array",\n      "uniqueItems": true\n    }\n  },\n  "required": [\n    "fields"\n  ],\n  "title": "FieldExtractContract",\n  "type": "object"\n}\n\n        Make sure to return an instance of the JSON, not the schema itself\n'}, {'role': 'user', 'content': '##Content\n\n{content: "  1 \\n  \\n \\n \\nReguleringsbestemmelser  \\nfor \\nSt\\xF8peritomta \\n \\n\\\n    Plan ID: 202102 \\nPlankart dato: 11.05.2022 \\nReguleringsbestemmelser dato: 11.05.2022\\\n    \\ \\nVedtatt PS 59/22: 16.06.2022 \\n  \\n \\n\\xA71. Planform\\xE5l \\nForm\\xE5let med\\\n    \\ planen er \\xE5 tilrettelegge for konsentrert bebyggelse med tilh\\xF8rende anlegg.\\\n    \\ \\nPlanen omfatter ogs\\xE5 kirke/annen religionsut\\xF8velse, parkeringsanlegg\\\n    \\ og idrett/park.  \\n \\nPlanen inneholder f\\xF8lgende form\\xE5l (Pbl. \\xA7 12-5):\\\n    \\ \\n \\n\\xA71.1 Bebyggelse og anlegg (pbl \\xA712-5,nr 1) \\nBoligbebyggelse- Konsentrert\\\n    \\ sm\\xE5husbebyggelse (BKS) \\nForsamlingslokale for religionsut\\xF8velse (BR)\\\n    \\ \\nIdrettsanlegg (BIA) \\nEnergianlegg (BE) \\n \\n\\xA71.2 Samferdselsanlegg og\\\n    \\ teknisk infrastruktur (pbl \\xA712-5, nr 2) \\nVeg (o_SV1 og 3) \\nFortau (o_SF)\\\n    \\ \\nParkering(o_SPA) \\n \\n\\xA71.3 Gr\\xF8nnstruktur (pbl \\xA712-5,2. ledd nr 3)\\\n    \\ \\nFriomr\\xE5de (o_GF1-3) \\nTurdrag (o_GTD1-2) \\n \\n \\n  \\n\\n\\n  2 \\n\\xA72. Rekkef\\xF8\\\n    lgebestemmelser (pbl \\xA7 12-7 nr. 10) \\n \\n\\xA72.1 F\\xF8r midlertidig brukstillatelse\\\n    \\ for BKS skal o_SV3 v\\xE6re ferdig opparbeidet.  \\n\\xA72.2 F\\xF8r midlertidig\\\n    \\ brukstillatelse for 1. boenhet p\\xE5 BKS skal lekeplass innenfor GF1 v\\xE6re\\\n    \\ ferdig \\nopparbeidet. \\n\\xA72.3 F\\xF8r midlertidig brukstillatelse p\\xE5 5.\\\n    \\ boenhet p\\xE5 BKS skal o_GTD1-2 v\\xE6re ferdig opparbeidet.  \\n\\xA72.4 F\\xF8\\\n    r midlertidig brukstillatelse for BKS skal o_SF v\\xE6re ferdig opparbeidet. \\n\\\n    \\xA72.5 F\\xF8r ferdigattest p\\xE5 BR, skal o_SF og o_SPA v\\xE6re ferdig opparbeidet.\\\n    \\ \\n \\n \\n \\n \\n \\n\\xA73. Fellesbestemmelser \\n\\xA73.1 Bygge- og anleggsst\\xF8\\\n    y skal ikke overskride st\\xF8ygrensen i tabell 4 i retningslinje for behandling\\\n    \\ \\nav st\\xF8y i arealplanlegging (T-1442/2021). St\\xF8yende aktivitet skal forega\\u030A\\\n    \\ p\\xE5 dagtid. \\n\\xA74. Bebyggelse og anlegg (pbl 12-5 nr. 1) \\nBoligbebyggelse-konsentrert\\\n    \\ sm\\xE5husbebyggelse - BKS \\n \\n\\xA74.1 Bebyggelse: Det tillates fire tomannsboliger\\\n    \\ p\\xE5 tomten. Totalt 8 boenheter.   \\n\\xA74.2 Byggegrenser: Plassering av nye\\\n    \\ tiltak skal skje innenfor byggegrensene. For \\ngarasje/carport/bod mindre enn\\\n    \\ 50 m2 BYA gjelder byggegrense p\\xE5 1 meter fra tomtegrense. \\nTerrenginngrep\\\n    \\ og grunnarbeider i forbindelse med opparbeidelse av tomtene tillattes \\nutenfor\\\n    \\ byggegrense. Avkj\\xF8rsel og parkering tillates utenfor byggegrense. \\n\\xA7\\\n    4.3 Garasje/Carport: Alle boenheter skal ha minst en parkering under tak til disposisjon.\\\n    \\  \\n\\xA74.4 Bestemmelsesomr\\xE5de #01 SN\\xD8: Innenfor omr\\xE5det kan det anlegges\\\n    \\ opplag for sn\\xF8. \\n \\nGrad av utnytting \\n\\xA74.5 Utnyttelsesgrad: BYA for\\\n    \\ omr\\xE5det BKS skal v\\xE6re maksimalt %-BYA= 40%. Overbygg til \\nrenovasjon\\\n    \\ eller dunker medregnes ikke i %-BYA. \\n\\xA74.6 Parkering: Det skal avsettes\\\n    \\ 2 parkeringsplasser for hver boenhet, hvor en av disse skal v\\xE6re i \\ngarasje/carport.\\\n    \\ BYA for parkering er 3x6=18m2 per plass. \\n \\nH\\xF8yder \\u2013 Utforming av\\\n    \\ bebyggelse \\n\\xA74.7 Planeringsh\\xF8yder: Maksimal planeringsh\\xF8yde er angitt\\\n    \\ i plankart. Maks planeringsh\\xF8yde er \\nK+182. \\n\\xA74.8 Takform: Bebyggelse\\\n    \\ skal ha saltak med en takvinkel mellom 30 - 40 grader.  \\n\\xA74.9 Takh\\xF8yder:\\\n    \\ Tillate takh\\xF8yder er angitt i tabellen under. H\\xF8yder regnes fra planert\\\n    \\ terreng. \\n \\n Saltak \\nM\\xF8ne 6,0 m \\nGesimsh\\xF8yde 3,5 m \\nTakvinkel 30-40\\\n    \\ grader \\n \\nSt\\xF8yf\\xF8lsom bebyggelse \\nF\\xF8r det tillates tiltak innenfor\\\n    \\ omr\\xE5det skal det gj\\xF8res st\\xF8yskjermede tiltak.   \\n\\xA74.10 Alle boenheter\\\n    \\ skal ha uteplass p\\xE5 b\\xE5de \\xF8stsiden og vestsiden av bebyggelsen.  \\n\\n\\\n    \\  3 \\n\\xA74.11 Alle boenheter skal v\\xE6re gjennomg\\xE5ende og ha minst ett soverom\\\n    \\ plassert p\\xE5 vestsiden og \\n\\xF8stsiden. Eventuelt \\xF8kt lydisolasjon i fasade\\\n    \\ i minst ett soverom i hver boenhet. \\n \\nTeknisk plan \\n\\xA74.12 Det stilles\\\n    \\ teknisk plan for VA, overvannsh\\xE5ndtering og str\\xF8mforsyning f\\xF8r \\nigangsettingstillatelse\\\n    \\ kan gis innenfor omr\\xE5det BKS. Det b\\xF8r legge til rette for \\xE5pne \\nvannveier\\\n    \\ for overvannsh\\xE5ndtering. Dersom andre l\\xF8sninger velges skal det begrunnes\\\n    \\ \\nhvorfor naturbaserte l\\xF8sninger velges bort. \\n\\xA74.13 V/A- anlegg samt\\\n    \\ vei skal dimensjoneres og opparbeides i samsvar med til enhver tids \\ngjeldende\\\n    \\ \\xABRetningslinjer for vei, vann og avl\\xF8p\\xBB for Evje og Hornnes kommune.\\\n    \\ Det skal \\nsikres teknisk godkjenning av offentlig samferdselsanlegg. \\n\\xA7\\\n    4.14 Det skal f\\xF8r utbygging avklares hvordan det nye utbyggingsomr\\xE5det i\\\n    \\ planomr\\xE5det skal \\nforsynes med elektrisk str\\xF8m. Det m\\xE5 avklares i\\\n    \\ hvilken grad eksisterende ledninger/kabler \\neventuelt kan benyttes og om nye\\\n    \\ ledninger/kabler m\\xE5 legges om og om det er behov for \\nny(e) nettstasjon(er).\\\n    \\ \\n \\nUtforming av tomt \\n\\xA74.15 Situasjonsplan: Ved s\\xF8knad om tillatelse\\\n    \\ til tiltak skal situasjonsplan vedlegges i tilpasset \\nm\\xE5lestokk som viser\\\n    \\ plassering av bebyggelse og h\\xF8yde. Situasjonsplan skal ogs\\xE5 vise \\nplassering\\\n    \\ av parkering, avkj\\xF8rsel og evt. st\\xF8ttemurer.  \\n\\xA74.16 Renovasjon: Areal\\\n    \\ for renovasjon skal vises p\\xE5 situasjonsplan. Situasjonsplanen skal vise at\\\n    \\ \\nrenovasjonsbil har tilstrekkelig snuareal innenfor planomr\\xE5det.  \\n\\xA7\\\n    4.17 Forst\\xF8tningsmur: Det tillattes forst\\xF8tningsmurer for \\xE5 tilpasse\\\n    \\ terrenget. Forst\\xF8tningsmurer \\ntillates oppf\\xF8rt utenfor byggegrense. Maks\\\n    \\ tillatt h\\xF8yde p\\xE5 forst\\xF8tningsmurer er 2,5 meter.  \\n\\xA74.18 Det stilles\\\n    \\ estetisk krav til utforming av fylling / naturstein plastret skr\\xE5ning mot\\\n    \\ bekk. \\nSkr\\xE5ning skal jord klees, tils\\xE5es og sikres mot erosjon. \\n \\n\\\n    Forsamlingslokale for religionsut\\xF8velse - BR \\n \\n\\xA74.19 Omr\\xE5det skal\\\n    \\ benyttes til nytt sentrumsn\\xE6rt bedehus i n\\xF8dvendig grad og utstrekning\\\n    \\ \\n\\xA74.20 Bygninger kan oppf\\xF8res med gesimsh\\xF8yde 8,0 meter og m\\xF8neh\\xF8\\\n    yde 10,5 meter. \\n\\xA74.21 BYA for arealform\\xE5let skal v\\xE6re maksimalt %-BYA=\\\n    \\ 50. Areal for parkering medregnes ikke i \\n%BYA \\n\\xA74.22 Det skal avsettes\\\n    \\ tilstrekkelig med parkeringsareal til gjeldende aktivitet innenfor regulert\\\n    \\ \\nomr\\xE5de. Parkeringsbehovet for bedehuset kan l\\xF8ses b\\xE5de innenfor BR\\\n    \\ og SPA. \\n\\xA74.23 Arealutnyttelse utover dette skal opparbeides parkmessig\\\n    \\ og v\\xE6re tilgjengelig for \\nallmennheten. \\n\\xA74.24 Oppgitt gesimsh\\xF8yde\\\n    \\ og m\\xF8neh\\xF8yde skal regnes ut fra gjennomsnittlig h\\xF8yde p\\xE5 tomta/\\\n    \\ \\nomr\\xE5det f\\xF8r opparbeidelse begynner. \\n\\xA74.25 Innenfor omr\\xE5det BR\\\n    \\ tillates det internveier og parkeringsplasser. \\n \\nIdrettsanlegg - BIA \\n\\xA7\\\n    4.26 Innenfor omr\\xE5det er det tillatt med tiltak som fremmer idrettsaktiviteter.\\\n    \\  \\n \\nEnergianlegg - BE \\n\\xA74.27 Innenfor omr\\xE5det er det tillatt plassering\\\n    \\ av trafo og infrastruktur i sammenheng med dette. \\n \\n  \\n\\n  4 \\n\\xA75. Samferdselsanlegg\\\n    \\ og teknisk infrastruktur (pbl 12-5 nr. 2) \\nVeg (o_SV1) \\n\\xA75.1 Veien o_SV1\\\n    \\ er adkomst for alle tilgrensende eiendommer. \\nDet skal opparbeides et fysisk\\\n    \\ skille mellom o_SV1 og omkringliggende arealform\\xE5l SPA, GF \\nog SGS. Adkomst\\\n    \\ til SPA og BR skal ikke v\\xE6re rett ovenfor hverandre. \\n \\n \\n \\nVeg (o_SV3)\\\n    \\ \\n\\xA75.2 Veien o_SV3-er adkomst for boligomr\\xE5de BKS og BR samt atkomst til\\\n    \\ o_SPA. Plasseringer av \\navkj\\xF8rsler langs o_SV3 er ikke endelige og tillates\\\n    \\ justert i samr\\xE5d med veieier. \\n \\nFortau (o_SF1-2) \\n\\xA75.3 o_SF1-2 er\\\n    \\ regulert til offentlig fortau med en bredde p\\xE5 3 meter. \\n \\nParkering (o_SPA)\\\n    \\ \\n\\xA75.4 o_SPA er offentlig parkeringsplass. \\n\\xA75.5 Parkeringsbehov for\\\n    \\ bedehuset kan l\\xF8ses innenfor o_SPA. \\n\\xA75.6 Det tillates etablert ladestasjoner\\\n    \\ innenfor omr\\xE5det.  \\n\\xA75.7 Atkomst til SPA og SGS skal ikke anlegges vertikalt\\\n    \\ rett overfor hverandre. \\n \\n \\n\\xA76. Gr\\xF8nnstruktur (pbl 12-5 nr. 3) \\n\\\n    \\ \\nFriomr\\xE5de (o_GF1-3) \\n\\xA76.1 Omr\\xE5de for friomr\\xE5de/gr\\xF8ntstruktur\\\n    \\ GF1-GF3 er til fri ferdsel for allmenheten. \\n\\xA76.2 I omr\\xE5dene er det tillat\\\n    \\ oppf\\xF8rt bebyggelse og andre tekniske installasjoner som typisk \\nberiker\\\n    \\ bruken av omr\\xE5de. \\n\\xA76.3 Innenfor omr\\xE5det GF1 skal det opparbeides\\\n    \\ et felles leke- og uteoppholdsareal for hele \\nplanomr\\xE5det. Lekeplassen skal\\\n    \\ utstyres med sand, benk og min. 3 ulike lekeapparater. \\n\\xA76.4 Det tillates\\\n    \\ avkj\\xF8rsel for BR over o_GF3 \\n\\xA76.5 Bestemmelsesomr\\xE5de #02 SN\\xD8: Innenfor\\\n    \\ omr\\xE5det kan det anlegges opplag for sn\\xF8. \\n\\xA76.6 Det tillates \\xE5 legge\\\n    \\ kabler i bakken innenfor omr\\xE5de avsatt til friomr\\xE5de. \\n\\xA76.7 Adkomst\\\n    \\ til lekearealer skal v\\xE6re universelt utformet. \\n \\nTurdrag (GTD1-2) \\n\\xA7\\\n    6.8 Omr\\xE5dene skal benyttes til turveier. \\n \\n \\n \\nDato 11.05.2022 ", images: [],\n  metadata: {num_pages: 4}}\n\n\nReturn the correct JSON response within a ```json codeblock. not the JSON_SCHEMA'}], model='azure/gpt-4o-mini', temperature=0, max_tokens=4000, timeout=3000)[0m
python_service-1  | DEBUG:LiteLLM:[92mlitellm.completion(messages=[{'role': 'system', 'content': 'You are a server API that receives document information and returns specific fields in JSON format.\n\n\n        As a genius expert, your task is to understand the content and provide\n        the parsed objects in json that match the following json_schema:\n\n\n        {\n  "description": "Contract for field extraction from regulatory documents.\\n\\nDefines the structure and prompt for extracting regulation codes from\\nNorwegian planning documents (plankart and bestemmelser).\\n\\nAttributes:\\n    fields (Set[str]): Set of extracted regulation codes",\n  "properties": {\n    "fields": {\n      "items": {\n        "type": "string"\n      },\n      "title": "Fields",\n      "type": "array",\n      "uniqueItems": true\n    }\n  },\n  "required": [\n    "fields"\n  ],\n  "title": "FieldExtractContract",\n  "type": "object"\n}\n\n        Make sure to return an instance of the JSON, not the schema itself\n'}, {'role': 'user', 'content': '##Content\n\n{content: "  1 \\n  \\n \\n \\nReguleringsbestemmelser  \\nfor \\nSt\\xF8peritomta \\n \\n\\\n    Plan ID: 202102 \\nPlankart dato: 11.05.2022 \\nReguleringsbestemmelser dato: 11.05.2022\\\n    \\ \\nVedtatt PS 59/22: 16.06.2022 \\n  \\n \\n\\xA71. Planform\\xE5l \\nForm\\xE5let med\\\n    \\ planen er \\xE5 tilrettelegge for konsentrert bebyggelse med tilh\\xF8rende anlegg.\\\n    \\ \\nPlanen omfatter ogs\\xE5 kirke/annen religionsut\\xF8velse, parkeringsanlegg\\\n    \\ og idrett/park.  \\n \\nPlanen inneholder f\\xF8lgende form\\xE5l (Pbl. \\xA7 12-5):\\\n    \\ \\n \\n\\xA71.1 Bebyggelse og anlegg (pbl \\xA712-5,nr 1) \\nBoligbebyggelse- Konsentrert\\\n    \\ sm\\xE5husbebyggelse (BKS) \\nForsamlingslokale for religionsut\\xF8velse (BR)\\\n    \\ \\nIdrettsanlegg (BIA) \\nEnergianlegg (BE) \\n \\n\\xA71.2 Samferdselsanlegg og\\\n    \\ teknisk infrastruktur (pbl \\xA712-5, nr 2) \\nVeg (o_SV1 og 3) \\nFortau (o_SF)\\\n    \\ \\nParkering(o_SPA) \\n \\n\\xA71.3 Gr\\xF8nnstruktur (pbl \\xA712-5,2. ledd nr 3)\\\n    \\ \\nFriomr\\xE5de (o_GF1-3) \\nTurdrag (o_GTD1-2) \\n \\n \\n  \\n\\n\\n  2 \\n\\xA72. Rekkef\\xF8\\\n    lgebestemmelser (pbl \\xA7 12-7 nr. 10) \\n \\n\\xA72.1 F\\xF8r midlertidig brukstillatelse\\\n    \\ for BKS skal o_SV3 v\\xE6re ferdig opparbeidet.  \\n\\xA72.2 F\\xF8r midlertidig\\\n    \\ brukstillatelse for 1. boenhet p\\xE5 BKS skal lekeplass innenfor GF1 v\\xE6re\\\n    \\ ferdig \\nopparbeidet. \\n\\xA72.3 F\\xF8r midlertidig brukstillatelse p\\xE5 5.\\\n    \\ boenhet p\\xE5 BKS skal o_GTD1-2 v\\xE6re ferdig opparbeidet.  \\n\\xA72.4 F\\xF8\\\n    r midlertidig brukstillatelse for BKS skal o_SF v\\xE6re ferdig opparbeidet. \\n\\\n    \\xA72.5 F\\xF8r ferdigattest p\\xE5 BR, skal o_SF og o_SPA v\\xE6re ferdig opparbeidet.\\\n    \\ \\n \\n \\n \\n \\n \\n\\xA73. Fellesbestemmelser \\n\\xA73.1 Bygge- og anleggsst\\xF8\\\n    y skal ikke overskride st\\xF8ygrensen i tabell 4 i retningslinje for behandling\\\n    \\ \\nav st\\xF8y i arealplanlegging (T-1442/2021). St\\xF8yende aktivitet skal forega\\u030A\\\n    \\ p\\xE5 dagtid. \\n\\xA74. Bebyggelse og anlegg (pbl 12-5 nr. 1) \\nBoligbebyggelse-konsentrert\\\n    \\ sm\\xE5husbebyggelse - BKS \\n \\n\\xA74.1 Bebyggelse: Det tillates fire tomannsboliger\\\n    \\ p\\xE5 tomten. Totalt 8 boenheter.   \\n\\xA74.2 Byggegrenser: Plassering av nye\\\n    \\ tiltak skal skje innenfor byggegrensene. For \\ngarasje/carport/bod mindre enn\\\n    \\ 50 m2 BYA gjelder byggegrense p\\xE5 1 meter fra tomtegrense. \\nTerrenginngrep\\\n    \\ og grunnarbeider i forbindelse med opparbeidelse av tomtene tillattes \\nutenfor\\\n    \\ byggegrense. Avkj\\xF8rsel og parkering tillates utenfor byggegrense. \\n\\xA7\\\n    4.3 Garasje/Carport: Alle boenheter skal ha minst en parkering under tak til disposisjon.\\\n    \\  \\n\\xA74.4 Bestemmelsesomr\\xE5de #01 SN\\xD8: Innenfor omr\\xE5det kan det anlegges\\\n    \\ opplag for sn\\xF8. \\n \\nGrad av utnytting \\n\\xA74.5 Utnyttelsesgrad: BYA for\\\n    \\ omr\\xE5det BKS skal v\\xE6re maksimalt %-BYA= 40%. Overbygg til \\nrenovasjon\\\n    \\ eller dunker medregnes ikke i %-BYA. \\n\\xA74.6 Parkering: Det skal avsettes\\\n    \\ 2 parkeringsplasser for hver boenhet, hvor en av disse skal v\\xE6re i \\ngarasje/carport.\\\n    \\ BYA for parkering er 3x6=18m2 per plass. \\n \\nH\\xF8yder \\u2013 Utforming av\\\n    \\ bebyggelse \\n\\xA74.7 Planeringsh\\xF8yder: Maksimal planeringsh\\xF8yde er angitt\\\n    \\ i plankart. Maks planeringsh\\xF8yde er \\nK+182. \\n\\xA74.8 Takform: Bebyggelse\\\n    \\ skal ha saltak med en takvinkel mellom 30 - 40 grader.  \\n\\xA74.9 Takh\\xF8yder:\\\n    \\ Tillate takh\\xF8yder er angitt i tabellen under. H\\xF8yder regnes fra planert\\\n    \\ terreng. \\n \\n Saltak \\nM\\xF8ne 6,0 m \\nGesimsh\\xF8yde 3,5 m \\nTakvinkel 30-40\\\n    \\ grader \\n \\nSt\\xF8yf\\xF8lsom bebyggelse \\nF\\xF8r det tillates tiltak innenfor\\\n    \\ omr\\xE5det skal det gj\\xF8res st\\xF8yskjermede tiltak.   \\n\\xA74.10 Alle boenheter\\\n    \\ skal ha uteplass p\\xE5 b\\xE5de \\xF8stsiden og vestsiden av bebyggelsen.  \\n\\n\\\n    \\  3 \\n\\xA74.11 Alle boenheter skal v\\xE6re gjennomg\\xE5ende og ha minst ett soverom\\\n    \\ plassert p\\xE5 vestsiden og \\n\\xF8stsiden. Eventuelt \\xF8kt lydisolasjon i fasade\\\n    \\ i minst ett soverom i hver boenhet. \\n \\nTeknisk plan \\n\\xA74.12 Det stilles\\\n    \\ teknisk plan for VA, overvannsh\\xE5ndtering og str\\xF8mforsyning f\\xF8r \\nigangsettingstillatelse\\\n    \\ kan gis innenfor omr\\xE5det BKS. Det b\\xF8r legge til rette for \\xE5pne \\nvannveier\\\n    \\ for overvannsh\\xE5ndtering. Dersom andre l\\xF8sninger velges skal det begrunnes\\\n    \\ \\nhvorfor naturbaserte l\\xF8sninger velges bort. \\n\\xA74.13 V/A- anlegg samt\\\n    \\ vei skal dimensjoneres og opparbeides i samsvar med til enhver tids \\ngjeldende\\\n    \\ \\xABRetningslinjer for vei, vann og avl\\xF8p\\xBB for Evje og Hornnes kommune.\\\n    \\ Det skal \\nsikres teknisk godkjenning av offentlig samferdselsanlegg. \\n\\xA7\\\n    4.14 Det skal f\\xF8r utbygging avklares hvordan det nye utbyggingsomr\\xE5det i\\\n    \\ planomr\\xE5det skal \\nforsynes med elektrisk str\\xF8m. Det m\\xE5 avklares i\\\n    \\ hvilken grad eksisterende ledninger/kabler \\neventuelt kan benyttes og om nye\\\n    \\ ledninger/kabler m\\xE5 legges om og om det er behov for \\nny(e) nettstasjon(er).\\\n    \\ \\n \\nUtforming av tomt \\n\\xA74.15 Situasjonsplan: Ved s\\xF8knad om tillatelse\\\n    \\ til tiltak skal situasjonsplan vedlegges i tilpasset \\nm\\xE5lestokk som viser\\\n    \\ plassering av bebyggelse og h\\xF8yde. Situasjonsplan skal ogs\\xE5 vise \\nplassering\\\n    \\ av parkering, avkj\\xF8rsel og evt. st\\xF8ttemurer.  \\n\\xA74.16 Renovasjon: Areal\\\n    \\ for renovasjon skal vises p\\xE5 situasjonsplan. Situasjonsplanen skal vise at\\\n    \\ \\nrenovasjonsbil har tilstrekkelig snuareal innenfor planomr\\xE5det.  \\n\\xA7\\\n    4.17 Forst\\xF8tningsmur: Det tillattes forst\\xF8tningsmurer for \\xE5 tilpasse\\\n    \\ terrenget. Forst\\xF8tningsmurer \\ntillates oppf\\xF8rt utenfor byggegrense. Maks\\\n    \\ tillatt h\\xF8yde p\\xE5 forst\\xF8tningsmurer er 2,5 meter.  \\n\\xA74.18 Det stilles\\\n    \\ estetisk krav til utforming av fylling / naturstein plastret skr\\xE5ning mot\\\n    \\ bekk. \\nSkr\\xE5ning skal jord klees, tils\\xE5es og sikres mot erosjon. \\n \\n\\\n    Forsamlingslokale for religionsut\\xF8velse - BR \\n \\n\\xA74.19 Omr\\xE5det skal\\\n    \\ benyttes til nytt sentrumsn\\xE6rt bedehus i n\\xF8dvendig grad og utstrekning\\\n    \\ \\n\\xA74.20 Bygninger kan oppf\\xF8res med gesimsh\\xF8yde 8,0 meter og m\\xF8neh\\xF8\\\n    yde 10,5 meter. \\n\\xA74.21 BYA for arealform\\xE5let skal v\\xE6re maksimalt %-BYA=\\\n    \\ 50. Areal for parkering medregnes ikke i \\n%BYA \\n\\xA74.22 Det skal avsettes\\\n    \\ tilstrekkelig med parkeringsareal til gjeldende aktivitet innenfor regulert\\\n    \\ \\nomr\\xE5de. Parkeringsbehovet for bedehuset kan l\\xF8ses b\\xE5de innenfor BR\\\n    \\ og SPA. \\n\\xA74.23 Arealutnyttelse utover dette skal opparbeides parkmessig\\\n    \\ og v\\xE6re tilgjengelig for \\nallmennheten. \\n\\xA74.24 Oppgitt gesimsh\\xF8yde\\\n    \\ og m\\xF8neh\\xF8yde skal regnes ut fra gjennomsnittlig h\\xF8yde p\\xE5 tomta/\\\n    \\ \\nomr\\xE5det f\\xF8r opparbeidelse begynner. \\n\\xA74.25 Innenfor omr\\xE5det BR\\\n    \\ tillates det internveier og parkeringsplasser. \\n \\nIdrettsanlegg - BIA \\n\\xA7\\\n    4.26 Innenfor omr\\xE5det er det tillatt med tiltak som fremmer idrettsaktiviteter.\\\n    \\  \\n \\nEnergianlegg - BE \\n\\xA74.27 Innenfor omr\\xE5det er det tillatt plassering\\\n    \\ av trafo og infrastruktur i sammenheng med dette. \\n \\n  \\n\\n  4 \\n\\xA75. Samferdselsanlegg\\\n    \\ og teknisk infrastruktur (pbl 12-5 nr. 2) \\nVeg (o_SV1) \\n\\xA75.1 Veien o_SV1\\\n    \\ er adkomst for alle tilgrensende eiendommer. \\nDet skal opparbeides et fysisk\\\n    \\ skille mellom o_SV1 og omkringliggende arealform\\xE5l SPA, GF \\nog SGS. Adkomst\\\n    \\ til SPA og BR skal ikke v\\xE6re rett ovenfor hverandre. \\n \\n \\n \\nVeg (o_SV3)\\\n    \\ \\n\\xA75.2 Veien o_SV3-er adkomst for boligomr\\xE5de BKS og BR samt atkomst til\\\n    \\ o_SPA. Plasseringer av \\navkj\\xF8rsler langs o_SV3 er ikke endelige og tillates\\\n    \\ justert i samr\\xE5d med veieier. \\n \\nFortau (o_SF1-2) \\n\\xA75.3 o_SF1-2 er\\\n    \\ regulert til offentlig fortau med en bredde p\\xE5 3 meter. \\n \\nParkering (o_SPA)\\\n    \\ \\n\\xA75.4 o_SPA er offentlig parkeringsplass. \\n\\xA75.5 Parkeringsbehov for\\\n    \\ bedehuset kan l\\xF8ses innenfor o_SPA. \\n\\xA75.6 Det tillates etablert ladestasjoner\\\n    \\ innenfor omr\\xE5det.  \\n\\xA75.7 Atkomst til SPA og SGS skal ikke anlegges vertikalt\\\n    \\ rett overfor hverandre. \\n \\n \\n\\xA76. Gr\\xF8nnstruktur (pbl 12-5 nr. 3) \\n\\\n    \\ \\nFriomr\\xE5de (o_GF1-3) \\n\\xA76.1 Omr\\xE5de for friomr\\xE5de/gr\\xF8ntstruktur\\\n    \\ GF1-GF3 er til fri ferdsel for allmenheten. \\n\\xA76.2 I omr\\xE5dene er det tillat\\\n    \\ oppf\\xF8rt bebyggelse og andre tekniske installasjoner som typisk \\nberiker\\\n    \\ bruken av omr\\xE5de. \\n\\xA76.3 Innenfor omr\\xE5det GF1 skal det opparbeides\\\n    \\ et felles leke- og uteoppholdsareal for hele \\nplanomr\\xE5det. Lekeplassen skal\\\n    \\ utstyres med sand, benk og min. 3 ulike lekeapparater. \\n\\xA76.4 Det tillates\\\n    \\ avkj\\xF8rsel for BR over o_GF3 \\n\\xA76.5 Bestemmelsesomr\\xE5de #02 SN\\xD8: Innenfor\\\n    \\ omr\\xE5det kan det anlegges opplag for sn\\xF8. \\n\\xA76.6 Det tillates \\xE5 legge\\\n    \\ kabler i bakken innenfor omr\\xE5de avsatt til friomr\\xE5de. \\n\\xA76.7 Adkomst\\\n    \\ til lekearealer skal v\\xE6re universelt utformet. \\n \\nTurdrag (GTD1-2) \\n\\xA7\\\n    6.8 Omr\\xE5dene skal benyttes til turveier. \\n \\n \\n \\nDato 11.05.2022 ", images: [],\n  metadata: {num_pages: 4}}\n\n\nReturn the correct JSON response within a ```json codeblock. not the JSON_SCHEMA'}], model='azure/gpt-4o-mini', temperature=0, max_tokens=4000, timeout=3000)[0m
python_service-1  | [92m11:19:57 - LiteLLM:DEBUG[0m: utils.py:298 - 
python_service-1  | 
python_service-1  | DEBUG:LiteLLM:
python_service-1  | 
python_service-1  | [92m11:19:57 - LiteLLM:DEBUG[0m: litellm_logging.py:377 - self.optional_params: {}
python_service-1  | DEBUG:LiteLLM:self.optional_params: {}
python_service-1  | [92m11:19:57 - LiteLLM:DEBUG[0m: utils.py:298 - SYNC kwargs[caching]: False; litellm.cache: None; kwargs.get('cache')['no-cache']: False
python_service-1  | DEBUG:LiteLLM:SYNC kwargs[caching]: False; litellm.cache: None; kwargs.get('cache')['no-cache']: False
python_service-1  | [92m11:19:57 - LiteLLM:DEBUG[0m: transformation.py:126 - Translating developer role to system role for non-OpenAI providers.
python_service-1  | DEBUG:LiteLLM:Translating developer role to system role for non-OpenAI providers.
python_service-1  | [92m11:19:57 - LiteLLM:INFO[0m: utils.py:2905 - 
python_service-1  | LiteLLM completion() model= gpt-4o-mini; provider = azure
python_service-1  | INFO:LiteLLM:
python_service-1  | LiteLLM completion() model= gpt-4o-mini; provider = azure
python_service-1  | [92m11:19:57 - LiteLLM:DEBUG[0m: utils.py:2908 - 
python_service-1  | LiteLLM: Params passed to completion() {'model': 'gpt-4o-mini', 'functions': None, 'function_call': None, 'temperature': 0, 'top_p': None, 'n': None, 'stream': None, 'stream_options': None, 'stop': None, 'max_tokens': 4000, 'max_completion_tokens': None, 'modalities': None, 'prediction': None, 'audio': None, 'presence_penalty': None, 'frequency_penalty': None, 'logit_bias': None, 'user': None, 'custom_llm_provider': 'azure', 'response_format': None, 'seed': None, 'tools': None, 'tool_choice': None, 'max_retries': None, 'logprobs': None, 'top_logprobs': None, 'extra_headers': None, 'api_version': None, 'parallel_tool_calls': None, 'drop_params': None, 'reasoning_effort': None, 'additional_drop_params': None, 'messages': [{'role': 'system', 'content': 'You are a server API that receives document information and returns specific fields in JSON format.\n\n\n        As a genius expert, your task is to understand the content and provide\n        the parsed objects in json that match the following json_schema:\n\n\n        {\n  "description": "Contract for field extraction from regulatory documents.\\n\\nDefines the structure and prompt for extracting regulation codes from\\nNorwegian planning documents (plankart and bestemmelser).\\n\\nAttributes:\\n    fields (Set[str]): Set of extracted regulation codes",\n  "properties": {\n    "fields": {\n      "items": {\n        "type": "string"\n      },\n      "title": "Fields",\n      "type": "array",\n      "uniqueItems": true\n    }\n  },\n  "required": [\n    "fields"\n  ],\n  "title": "FieldExtractContract",\n  "type": "object"\n}\n\n        Make sure to return an instance of the JSON, not the schema itself\n'}, {'role': 'user', 'content': '##Content\n\n{content: "  1 \\n  \\n \\n \\nReguleringsbestemmelser  \\nfor \\nSt\\xF8peritomta \\n \\n\\\n    Plan ID: 202102 \\nPlankart dato: 11.05.2022 \\nReguleringsbestemmelser dato: 11.05.2022\\\n    \\ \\nVedtatt PS 59/22: 16.06.2022 \\n  \\n \\n\\xA71. Planform\\xE5l \\nForm\\xE5let med\\\n    \\ planen er \\xE5 tilrettelegge for konsentrert bebyggelse med tilh\\xF8rende anlegg.\\\n    \\ \\nPlanen omfatter ogs\\xE5 kirke/annen religionsut\\xF8velse, parkeringsanlegg\\\n    \\ og idrett/park.  \\n \\nPlanen inneholder f\\xF8lgende form\\xE5l (Pbl. \\xA7 12-5):\\\n    \\ \\n \\n\\xA71.1 Bebyggelse og anlegg (pbl \\xA712-5,nr 1) \\nBoligbebyggelse- Konsentrert\\\n    \\ sm\\xE5husbebyggelse (BKS) \\nForsamlingslokale for religionsut\\xF8velse (BR)\\\n    \\ \\nIdrettsanlegg (BIA) \\nEnergianlegg (BE) \\n \\n\\xA71.2 Samferdselsanlegg og\\\n    \\ teknisk infrastruktur (pbl \\xA712-5, nr 2) \\nVeg (o_SV1 og 3) \\nFortau (o_SF)\\\n    \\ \\nParkering(o_SPA) \\n \\n\\xA71.3 Gr\\xF8nnstruktur (pbl \\xA712-5,2. ledd nr 3)\\\n    \\ \\nFriomr\\xE5de (o_GF1-3) \\nTurdrag (o_GTD1-2) \\n \\n \\n  \\n\\n\\n  2 \\n\\xA72. Rekkef\\xF8\\\n    lgebestemmelser (pbl \\xA7 12-7 nr. 10) \\n \\n\\xA72.1 F\\xF8r midlertidig brukstillatelse\\\n    \\ for BKS skal o_SV3 v\\xE6re ferdig opparbeidet.  \\n\\xA72.2 F\\xF8r midlertidig\\\n    \\ brukstillatelse for 1. boenhet p\\xE5 BKS skal lekeplass innenfor GF1 v\\xE6re\\\n    \\ ferdig \\nopparbeidet. \\n\\xA72.3 F\\xF8r midlertidig brukstillatelse p\\xE5 5.\\\n    \\ boenhet p\\xE5 BKS skal o_GTD1-2 v\\xE6re ferdig opparbeidet.  \\n\\xA72.4 F\\xF8\\\n    r midlertidig brukstillatelse for BKS skal o_SF v\\xE6re ferdig opparbeidet. \\n\\\n    \\xA72.5 F\\xF8r ferdigattest p\\xE5 BR, skal o_SF og o_SPA v\\xE6re ferdig opparbeidet.\\\n    \\ \\n \\n \\n \\n \\n \\n\\xA73. Fellesbestemmelser \\n\\xA73.1 Bygge- og anleggsst\\xF8\\\n    y skal ikke overskride st\\xF8ygrensen i tabell 4 i retningslinje for behandling\\\n    \\ \\nav st\\xF8y i arealplanlegging (T-1442/2021). St\\xF8yende aktivitet skal forega\\u030A\\\n    \\ p\\xE5 dagtid. \\n\\xA74. Bebyggelse og anlegg (pbl 12-5 nr. 1) \\nBoligbebyggelse-konsentrert\\\n    \\ sm\\xE5husbebyggelse - BKS \\n \\n\\xA74.1 Bebyggelse: Det tillates fire tomannsboliger\\\n    \\ p\\xE5 tomten. Totalt 8 boenheter.   \\n\\xA74.2 Byggegrenser: Plassering av nye\\\n    \\ tiltak skal skje innenfor byggegrensene. For \\ngarasje/carport/bod mindre enn\\\n    \\ 50 m2 BYA gjelder byggegrense p\\xE5 1 meter fra tomtegrense. \\nTerrenginngrep\\\n    \\ og grunnarbeider i forbindelse med opparbeidelse av tomtene tillattes \\nutenfor\\\n    \\ byggegrense. Avkj\\xF8rsel og parkering tillates utenfor byggegrense. \\n\\xA7\\\n    4.3 Garasje/Carport: Alle boenheter skal ha minst en parkering under tak til disposisjon.\\\n    \\  \\n\\xA74.4 Bestemmelsesomr\\xE5de #01 SN\\xD8: Innenfor omr\\xE5det kan det anlegges\\\n    \\ opplag for sn\\xF8. \\n \\nGrad av utnytting \\n\\xA74.5 Utnyttelsesgrad: BYA for\\\n    \\ omr\\xE5det BKS skal v\\xE6re maksimalt %-BYA= 40%. Overbygg til \\nrenovasjon\\\n    \\ eller dunker medregnes ikke i %-BYA. \\n\\xA74.6 Parkering: Det skal avsettes\\\n    \\ 2 parkeringsplasser for hver boenhet, hvor en av disse skal v\\xE6re i \\ngarasje/carport.\\\n    \\ BYA for parkering er 3x6=18m2 per plass. \\n \\nH\\xF8yder \\u2013 Utforming av\\\n    \\ bebyggelse \\n\\xA74.7 Planeringsh\\xF8yder: Maksimal planeringsh\\xF8yde er angitt\\\n    \\ i plankart. Maks planeringsh\\xF8yde er \\nK+182. \\n\\xA74.8 Takform: Bebyggelse\\\n    \\ skal ha saltak med en takvinkel mellom 30 - 40 grader.  \\n\\xA74.9 Takh\\xF8yder:\\\n    \\ Tillate takh\\xF8yder er angitt i tabellen under. H\\xF8yder regnes fra planert\\\n    \\ terreng. \\n \\n Saltak \\nM\\xF8ne 6,0 m \\nGesimsh\\xF8yde 3,5 m \\nTakvinkel 30-40\\\n    \\ grader \\n \\nSt\\xF8yf\\xF8lsom bebyggelse \\nF\\xF8r det tillates tiltak innenfor\\\n    \\ omr\\xE5det skal det gj\\xF8res st\\xF8yskjermede tiltak.   \\n\\xA74.10 Alle boenheter\\\n    \\ skal ha uteplass p\\xE5 b\\xE5de \\xF8stsiden og vestsiden av bebyggelsen.  \\n\\n\\\n    \\  3 \\n\\xA74.11 Alle boenheter skal v\\xE6re gjennomg\\xE5ende og ha minst ett soverom\\\n    \\ plassert p\\xE5 vestsiden og \\n\\xF8stsiden. Eventuelt \\xF8kt lydisolasjon i fasade\\\n    \\ i minst ett soverom i hver boenhet. \\n \\nTeknisk plan \\n\\xA74.12 Det stilles\\\n    \\ teknisk plan for VA, overvannsh\\xE5ndtering og str\\xF8mforsyning f\\xF8r \\nigangsettingstillatelse\\\n    \\ kan gis innenfor omr\\xE5det BKS. Det b\\xF8r legge til rette for \\xE5pne \\nvannveier\\\n    \\ for overvannsh\\xE5ndtering. Dersom andre l\\xF8sninger velges skal det begrunnes\\\n    \\ \\nhvorfor naturbaserte l\\xF8sninger velges bort. \\n\\xA74.13 V/A- anlegg samt\\\n    \\ vei skal dimensjoneres og opparbeides i samsvar med til enhver tids \\ngjeldende\\\n    \\ \\xABRetningslinjer for vei, vann og avl\\xF8p\\xBB for Evje og Hornnes kommune.\\\n    \\ Det skal \\nsikres teknisk godkjenning av offentlig samferdselsanlegg. \\n\\xA7\\\n    4.14 Det skal f\\xF8r utbygging avklares hvordan det nye utbyggingsomr\\xE5det i\\\n    \\ planomr\\xE5det skal \\nforsynes med elektrisk str\\xF8m. Det m\\xE5 avklares i\\\n    \\ hvilken grad eksisterende ledninger/kabler \\neventuelt kan benyttes og om nye\\\n    \\ ledninger/kabler m\\xE5 legges om og om det er behov for \\nny(e) nettstasjon(er).\\\n    \\ \\n \\nUtforming av tomt \\n\\xA74.15 Situasjonsplan: Ved s\\xF8knad om tillatelse\\\n    \\ til tiltak skal situasjonsplan vedlegges i tilpasset \\nm\\xE5lestokk som viser\\\n    \\ plassering av bebyggelse og h\\xF8yde. Situasjonsplan skal ogs\\xE5 vise \\nplassering\\\n    \\ av parkering, avkj\\xF8rsel og evt. st\\xF8ttemurer.  \\n\\xA74.16 Renovasjon: Areal\\\n    \\ for renovasjon skal vises p\\xE5 situasjonsplan. Situasjonsplanen skal vise at\\\n    \\ \\nrenovasjonsbil har tilstrekkelig snuareal innenfor planomr\\xE5det.  \\n\\xA7\\\n    4.17 Forst\\xF8tningsmur: Det tillattes forst\\xF8tningsmurer for \\xE5 tilpasse\\\n    \\ terrenget. Forst\\xF8tningsmurer \\ntillates oppf\\xF8rt utenfor byggegrense. Maks\\\n    \\ tillatt h\\xF8yde p\\xE5 forst\\xF8tningsmurer er 2,5 meter.  \\n\\xA74.18 Det stilles\\\n    \\ estetisk krav til utforming av fylling / naturstein plastret skr\\xE5ning mot\\\n    \\ bekk. \\nSkr\\xE5ning skal jord klees, tils\\xE5es og sikres mot erosjon. \\n \\n\\\n    Forsamlingslokale for religionsut\\xF8velse - BR \\n \\n\\xA74.19 Omr\\xE5det skal\\\n    \\ benyttes til nytt sentrumsn\\xE6rt bedehus i n\\xF8dvendig grad og utstrekning\\\n    \\ \\n\\xA74.20 Bygninger kan oppf\\xF8res med gesimsh\\xF8yde 8,0 meter og m\\xF8neh\\xF8\\\n    yde 10,5 meter. \\n\\xA74.21 BYA for arealform\\xE5let skal v\\xE6re maksimalt %-BYA=\\\n    \\ 50. Areal for parkering medregnes ikke i \\n%BYA \\n\\xA74.22 Det skal avsettes\\\n    \\ tilstrekkelig med parkeringsareal til gjeldende aktivitet innenfor regulert\\\n    \\ \\nomr\\xE5de. Parkeringsbehovet for bedehuset kan l\\xF8ses b\\xE5de innenfor BR\\\n    \\ og SPA. \\n\\xA74.23 Arealutnyttelse utover dette skal opparbeides parkmessig\\\n    \\ og v\\xE6re tilgjengelig for \\nallmennheten. \\n\\xA74.24 Oppgitt gesimsh\\xF8yde\\\n    \\ og m\\xF8neh\\xF8yde skal regnes ut fra gjennomsnittlig h\\xF8yde p\\xE5 tomta/\\\n    \\ \\nomr\\xE5det f\\xF8r opparbeidelse begynner. \\n\\xA74.25 Innenfor omr\\xE5det BR\\\n    \\ tillates det internveier og parkeringsplasser. \\n \\nIdrettsanlegg - BIA \\n\\xA7\\\n    4.26 Innenfor omr\\xE5det er det tillatt med tiltak som fremmer idrettsaktiviteter.\\\n    \\  \\n \\nEnergianlegg - BE \\n\\xA74.27 Innenfor omr\\xE5det er det tillatt plassering\\\n    \\ av trafo og infrastruktur i sammenheng med dette. \\n \\n  \\n\\n  4 \\n\\xA75. Samferdselsanlegg\\\n    \\ og teknisk infrastruktur (pbl 12-5 nr. 2) \\nVeg (o_SV1) \\n\\xA75.1 Veien o_SV1\\\n    \\ er adkomst for alle tilgrensende eiendommer. \\nDet skal opparbeides et fysisk\\\n    \\ skille mellom o_SV1 og omkringliggende arealform\\xE5l SPA, GF \\nog SGS. Adkomst\\\n    \\ til SPA og BR skal ikke v\\xE6re rett ovenfor hverandre. \\n \\n \\n \\nVeg (o_SV3)\\\n    \\ \\n\\xA75.2 Veien o_SV3-er adkomst for boligomr\\xE5de BKS og BR samt atkomst til\\\n    \\ o_SPA. Plasseringer av \\navkj\\xF8rsler langs o_SV3 er ikke endelige og tillates\\\n    \\ justert i samr\\xE5d med veieier. \\n \\nFortau (o_SF1-2) \\n\\xA75.3 o_SF1-2 er\\\n    \\ regulert til offentlig fortau med en bredde p\\xE5 3 meter. \\n \\nParkering (o_SPA)\\\n    \\ \\n\\xA75.4 o_SPA er offentlig parkeringsplass. \\n\\xA75.5 Parkeringsbehov for\\\n    \\ bedehuset kan l\\xF8ses innenfor o_SPA. \\n\\xA75.6 Det tillates etablert ladestasjoner\\\n    \\ innenfor omr\\xE5det.  \\n\\xA75.7 Atkomst til SPA og SGS skal ikke anlegges vertikalt\\\n    \\ rett overfor hverandre. \\n \\n \\n\\xA76. Gr\\xF8nnstruktur (pbl 12-5 nr. 3) \\n\\\n    \\ \\nFriomr\\xE5de (o_GF1-3) \\n\\xA76.1 Omr\\xE5de for friomr\\xE5de/gr\\xF8ntstruktur\\\n    \\ GF1-GF3 er til fri ferdsel for allmenheten. \\n\\xA76.2 I omr\\xE5dene er det tillat\\\n    \\ oppf\\xF8rt bebyggelse og andre tekniske installasjoner som typisk \\nberiker\\\n    \\ bruken av omr\\xE5de. \\n\\xA76.3 Innenfor omr\\xE5det GF1 skal det opparbeides\\\n    \\ et felles leke- og uteoppholdsareal for hele \\nplanomr\\xE5det. Lekeplassen skal\\\n    \\ utstyres med sand, benk og min. 3 ulike lekeapparater. \\n\\xA76.4 Det tillates\\\n    \\ avkj\\xF8rsel for BR over o_GF3 \\n\\xA76.5 Bestemmelsesomr\\xE5de #02 SN\\xD8: Innenfor\\\n    \\ omr\\xE5det kan det anlegges opplag for sn\\xF8. \\n\\xA76.6 Det tillates \\xE5 legge\\\n    \\ kabler i bakken innenfor omr\\xE5de avsatt til friomr\\xE5de. \\n\\xA76.7 Adkomst\\\n    \\ til lekearealer skal v\\xE6re universelt utformet. \\n \\nTurdrag (GTD1-2) \\n\\xA7\\\n    6.8 Omr\\xE5dene skal benyttes til turveier. \\n \\n \\n \\nDato 11.05.2022 ", images: [],\n  metadata: {num_pages: 4}}\n\n\nReturn the correct JSON response within a ```json codeblock. not the JSON_SCHEMA'}]}
python_service-1  | DEBUG:LiteLLM:
python_service-1  | LiteLLM: Params passed to completion() {'model': 'gpt-4o-mini', 'functions': None, 'function_call': None, 'temperature': 0, 'top_p': None, 'n': None, 'stream': None, 'stream_options': None, 'stop': None, 'max_tokens': 4000, 'max_completion_tokens': None, 'modalities': None, 'prediction': None, 'audio': None, 'presence_penalty': None, 'frequency_penalty': None, 'logit_bias': None, 'user': None, 'custom_llm_provider': 'azure', 'response_format': None, 'seed': None, 'tools': None, 'tool_choice': None, 'max_retries': None, 'logprobs': None, 'top_logprobs': None, 'extra_headers': None, 'api_version': None, 'parallel_tool_calls': None, 'drop_params': None, 'reasoning_effort': None, 'additional_drop_params': None, 'messages': [{'role': 'system', 'content': 'You are a server API that receives document information and returns specific fields in JSON format.\n\n\n        As a genius expert, your task is to understand the content and provide\n        the parsed objects in json that match the following json_schema:\n\n\n        {\n  "description": "Contract for field extraction from regulatory documents.\\n\\nDefines the structure and prompt for extracting regulation codes from\\nNorwegian planning documents (plankart and bestemmelser).\\n\\nAttributes:\\n    fields (Set[str]): Set of extracted regulation codes",\n  "properties": {\n    "fields": {\n      "items": {\n        "type": "string"\n      },\n      "title": "Fields",\n      "type": "array",\n      "uniqueItems": true\n    }\n  },\n  "required": [\n    "fields"\n  ],\n  "title": "FieldExtractContract",\n  "type": "object"\n}\n\n        Make sure to return an instance of the JSON, not the schema itself\n'}, {'role': 'user', 'content': '##Content\n\n{content: "  1 \\n  \\n \\n \\nReguleringsbestemmelser  \\nfor \\nSt\\xF8peritomta \\n \\n\\\n    Plan ID: 202102 \\nPlankart dato: 11.05.2022 \\nReguleringsbestemmelser dato: 11.05.2022\\\n    \\ \\nVedtatt PS 59/22: 16.06.2022 \\n  \\n \\n\\xA71. Planform\\xE5l \\nForm\\xE5let med\\\n    \\ planen er \\xE5 tilrettelegge for konsentrert bebyggelse med tilh\\xF8rende anlegg.\\\n    \\ \\nPlanen omfatter ogs\\xE5 kirke/annen religionsut\\xF8velse, parkeringsanlegg\\\n    \\ og idrett/park.  \\n \\nPlanen inneholder f\\xF8lgende form\\xE5l (Pbl. \\xA7 12-5):\\\n    \\ \\n \\n\\xA71.1 Bebyggelse og anlegg (pbl \\xA712-5,nr 1) \\nBoligbebyggelse- Konsentrert\\\n    \\ sm\\xE5husbebyggelse (BKS) \\nForsamlingslokale for religionsut\\xF8velse (BR)\\\n    \\ \\nIdrettsanlegg (BIA) \\nEnergianlegg (BE) \\n \\n\\xA71.2 Samferdselsanlegg og\\\n    \\ teknisk infrastruktur (pbl \\xA712-5, nr 2) \\nVeg (o_SV1 og 3) \\nFortau (o_SF)\\\n    \\ \\nParkering(o_SPA) \\n \\n\\xA71.3 Gr\\xF8nnstruktur (pbl \\xA712-5,2. ledd nr 3)\\\n    \\ \\nFriomr\\xE5de (o_GF1-3) \\nTurdrag (o_GTD1-2) \\n \\n \\n  \\n\\n\\n  2 \\n\\xA72. Rekkef\\xF8\\\n    lgebestemmelser (pbl \\xA7 12-7 nr. 10) \\n \\n\\xA72.1 F\\xF8r midlertidig brukstillatelse\\\n    \\ for BKS skal o_SV3 v\\xE6re ferdig opparbeidet.  \\n\\xA72.2 F\\xF8r midlertidig\\\n    \\ brukstillatelse for 1. boenhet p\\xE5 BKS skal lekeplass innenfor GF1 v\\xE6re\\\n    \\ ferdig \\nopparbeidet. \\n\\xA72.3 F\\xF8r midlertidig brukstillatelse p\\xE5 5.\\\n    \\ boenhet p\\xE5 BKS skal o_GTD1-2 v\\xE6re ferdig opparbeidet.  \\n\\xA72.4 F\\xF8\\\n    r midlertidig brukstillatelse for BKS skal o_SF v\\xE6re ferdig opparbeidet. \\n\\\n    \\xA72.5 F\\xF8r ferdigattest p\\xE5 BR, skal o_SF og o_SPA v\\xE6re ferdig opparbeidet.\\\n    \\ \\n \\n \\n \\n \\n \\n\\xA73. Fellesbestemmelser \\n\\xA73.1 Bygge- og anleggsst\\xF8\\\n    y skal ikke overskride st\\xF8ygrensen i tabell 4 i retningslinje for behandling\\\n    \\ \\nav st\\xF8y i arealplanlegging (T-1442/2021). St\\xF8yende aktivitet skal forega\\u030A\\\n    \\ p\\xE5 dagtid. \\n\\xA74. Bebyggelse og anlegg (pbl 12-5 nr. 1) \\nBoligbebyggelse-konsentrert\\\n    \\ sm\\xE5husbebyggelse - BKS \\n \\n\\xA74.1 Bebyggelse: Det tillates fire tomannsboliger\\\n    \\ p\\xE5 tomten. Totalt 8 boenheter.   \\n\\xA74.2 Byggegrenser: Plassering av nye\\\n    \\ tiltak skal skje innenfor byggegrensene. For \\ngarasje/carport/bod mindre enn\\\n    \\ 50 m2 BYA gjelder byggegrense p\\xE5 1 meter fra tomtegrense. \\nTerrenginngrep\\\n    \\ og grunnarbeider i forbindelse med opparbeidelse av tomtene tillattes \\nutenfor\\\n    \\ byggegrense. Avkj\\xF8rsel og parkering tillates utenfor byggegrense. \\n\\xA7\\\n    4.3 Garasje/Carport: Alle boenheter skal ha minst en parkering under tak til disposisjon.\\\n    \\  \\n\\xA74.4 Bestemmelsesomr\\xE5de #01 SN\\xD8: Innenfor omr\\xE5det kan det anlegges\\\n    \\ opplag for sn\\xF8. \\n \\nGrad av utnytting \\n\\xA74.5 Utnyttelsesgrad: BYA for\\\n    \\ omr\\xE5det BKS skal v\\xE6re maksimalt %-BYA= 40%. Overbygg til \\nrenovasjon\\\n    \\ eller dunker medregnes ikke i %-BYA. \\n\\xA74.6 Parkering: Det skal avsettes\\\n    \\ 2 parkeringsplasser for hver boenhet, hvor en av disse skal v\\xE6re i \\ngarasje/carport.\\\n    \\ BYA for parkering er 3x6=18m2 per plass. \\n \\nH\\xF8yder \\u2013 Utforming av\\\n    \\ bebyggelse \\n\\xA74.7 Planeringsh\\xF8yder: Maksimal planeringsh\\xF8yde er angitt\\\n    \\ i plankart. Maks planeringsh\\xF8yde er \\nK+182. \\n\\xA74.8 Takform: Bebyggelse\\\n    \\ skal ha saltak med en takvinkel mellom 30 - 40 grader.  \\n\\xA74.9 Takh\\xF8yder:\\\n    \\ Tillate takh\\xF8yder er angitt i tabellen under. H\\xF8yder regnes fra planert\\\n    \\ terreng. \\n \\n Saltak \\nM\\xF8ne 6,0 m \\nGesimsh\\xF8yde 3,5 m \\nTakvinkel 30-40\\\n    \\ grader \\n \\nSt\\xF8yf\\xF8lsom bebyggelse \\nF\\xF8r det tillates tiltak innenfor\\\n    \\ omr\\xE5det skal det gj\\xF8res st\\xF8yskjermede tiltak.   \\n\\xA74.10 Alle boenheter\\\n    \\ skal ha uteplass p\\xE5 b\\xE5de \\xF8stsiden og vestsiden av bebyggelsen.  \\n\\n\\\n    \\  3 \\n\\xA74.11 Alle boenheter skal v\\xE6re gjennomg\\xE5ende og ha minst ett soverom\\\n    \\ plassert p\\xE5 vestsiden og \\n\\xF8stsiden. Eventuelt \\xF8kt lydisolasjon i fasade\\\n    \\ i minst ett soverom i hver boenhet. \\n \\nTeknisk plan \\n\\xA74.12 Det stilles\\\n    \\ teknisk plan for VA, overvannsh\\xE5ndtering og str\\xF8mforsyning f\\xF8r \\nigangsettingstillatelse\\\n    \\ kan gis innenfor omr\\xE5det BKS. Det b\\xF8r legge til rette for \\xE5pne \\nvannveier\\\n    \\ for overvannsh\\xE5ndtering. Dersom andre l\\xF8sninger velges skal det begrunnes\\\n    \\ \\nhvorfor naturbaserte l\\xF8sninger velges bort. \\n\\xA74.13 V/A- anlegg samt\\\n    \\ vei skal dimensjoneres og opparbeides i samsvar med til enhver tids \\ngjeldende\\\n    \\ \\xABRetningslinjer for vei, vann og avl\\xF8p\\xBB for Evje og Hornnes kommune.\\\n    \\ Det skal \\nsikres teknisk godkjenning av offentlig samferdselsanlegg. \\n\\xA7\\\n    4.14 Det skal f\\xF8r utbygging avklares hvordan det nye utbyggingsomr\\xE5det i\\\n    \\ planomr\\xE5det skal \\nforsynes med elektrisk str\\xF8m. Det m\\xE5 avklares i\\\n    \\ hvilken grad eksisterende ledninger/kabler \\neventuelt kan benyttes og om nye\\\n    \\ ledninger/kabler m\\xE5 legges om og om det er behov for \\nny(e) nettstasjon(er).\\\n    \\ \\n \\nUtforming av tomt \\n\\xA74.15 Situasjonsplan: Ved s\\xF8knad om tillatelse\\\n    \\ til tiltak skal situasjonsplan vedlegges i tilpasset \\nm\\xE5lestokk som viser\\\n    \\ plassering av bebyggelse og h\\xF8yde. Situasjonsplan skal ogs\\xE5 vise \\nplassering\\\n    \\ av parkering, avkj\\xF8rsel og evt. st\\xF8ttemurer.  \\n\\xA74.16 Renovasjon: Areal\\\n    \\ for renovasjon skal vises p\\xE5 situasjonsplan. Situasjonsplanen skal vise at\\\n    \\ \\nrenovasjonsbil har tilstrekkelig snuareal innenfor planomr\\xE5det.  \\n\\xA7\\\n    4.17 Forst\\xF8tningsmur: Det tillattes forst\\xF8tningsmurer for \\xE5 tilpasse\\\n    \\ terrenget. Forst\\xF8tningsmurer \\ntillates oppf\\xF8rt utenfor byggegrense. Maks\\\n    \\ tillatt h\\xF8yde p\\xE5 forst\\xF8tningsmurer er 2,5 meter.  \\n\\xA74.18 Det stilles\\\n    \\ estetisk krav til utforming av fylling / naturstein plastret skr\\xE5ning mot\\\n    \\ bekk. \\nSkr\\xE5ning skal jord klees, tils\\xE5es og sikres mot erosjon. \\n \\n\\\n    Forsamlingslokale for religionsut\\xF8velse - BR \\n \\n\\xA74.19 Omr\\xE5det skal\\\n    \\ benyttes til nytt sentrumsn\\xE6rt bedehus i n\\xF8dvendig grad og utstrekning\\\n    \\ \\n\\xA74.20 Bygninger kan oppf\\xF8res med gesimsh\\xF8yde 8,0 meter og m\\xF8neh\\xF8\\\n    yde 10,5 meter. \\n\\xA74.21 BYA for arealform\\xE5let skal v\\xE6re maksimalt %-BYA=\\\n    \\ 50. Areal for parkering medregnes ikke i \\n%BYA \\n\\xA74.22 Det skal avsettes\\\n    \\ tilstrekkelig med parkeringsareal til gjeldende aktivitet innenfor regulert\\\n    \\ \\nomr\\xE5de. Parkeringsbehovet for bedehuset kan l\\xF8ses b\\xE5de innenfor BR\\\n    \\ og SPA. \\n\\xA74.23 Arealutnyttelse utover dette skal opparbeides parkmessig\\\n    \\ og v\\xE6re tilgjengelig for \\nallmennheten. \\n\\xA74.24 Oppgitt gesimsh\\xF8yde\\\n    \\ og m\\xF8neh\\xF8yde skal regnes ut fra gjennomsnittlig h\\xF8yde p\\xE5 tomta/\\\n    \\ \\nomr\\xE5det f\\xF8r opparbeidelse begynner. \\n\\xA74.25 Innenfor omr\\xE5det BR\\\n    \\ tillates det internveier og parkeringsplasser. \\n \\nIdrettsanlegg - BIA \\n\\xA7\\\n    4.26 Innenfor omr\\xE5det er det tillatt med tiltak som fremmer idrettsaktiviteter.\\\n    \\  \\n \\nEnergianlegg - BE \\n\\xA74.27 Innenfor omr\\xE5det er det tillatt plassering\\\n    \\ av trafo og infrastruktur i sammenheng med dette. \\n \\n  \\n\\n  4 \\n\\xA75. Samferdselsanlegg\\\n    \\ og teknisk infrastruktur (pbl 12-5 nr. 2) \\nVeg (o_SV1) \\n\\xA75.1 Veien o_SV1\\\n    \\ er adkomst for alle tilgrensende eiendommer. \\nDet skal opparbeides et fysisk\\\n    \\ skille mellom o_SV1 og omkringliggende arealform\\xE5l SPA, GF \\nog SGS. Adkomst\\\n    \\ til SPA og BR skal ikke v\\xE6re rett ovenfor hverandre. \\n \\n \\n \\nVeg (o_SV3)\\\n    \\ \\n\\xA75.2 Veien o_SV3-er adkomst for boligomr\\xE5de BKS og BR samt atkomst til\\\n    \\ o_SPA. Plasseringer av \\navkj\\xF8rsler langs o_SV3 er ikke endelige og tillates\\\n    \\ justert i samr\\xE5d med veieier. \\n \\nFortau (o_SF1-2) \\n\\xA75.3 o_SF1-2 er\\\n    \\ regulert til offentlig fortau med en bredde p\\xE5 3 meter. \\n \\nParkering (o_SPA)\\\n    \\ \\n\\xA75.4 o_SPA er offentlig parkeringsplass. \\n\\xA75.5 Parkeringsbehov for\\\n    \\ bedehuset kan l\\xF8ses innenfor o_SPA. \\n\\xA75.6 Det tillates etablert ladestasjoner\\\n    \\ innenfor omr\\xE5det.  \\n\\xA75.7 Atkomst til SPA og SGS skal ikke anlegges vertikalt\\\n    \\ rett overfor hverandre. \\n \\n \\n\\xA76. Gr\\xF8nnstruktur (pbl 12-5 nr. 3) \\n\\\n    \\ \\nFriomr\\xE5de (o_GF1-3) \\n\\xA76.1 Omr\\xE5de for friomr\\xE5de/gr\\xF8ntstruktur\\\n    \\ GF1-GF3 er til fri ferdsel for allmenheten. \\n\\xA76.2 I omr\\xE5dene er det tillat\\\n    \\ oppf\\xF8rt bebyggelse og andre tekniske installasjoner som typisk \\nberiker\\\n    \\ bruken av omr\\xE5de. \\n\\xA76.3 Innenfor omr\\xE5det GF1 skal det opparbeides\\\n    \\ et felles leke- og uteoppholdsareal for hele \\nplanomr\\xE5det. Lekeplassen skal\\\n    \\ utstyres med sand, benk og min. 3 ulike lekeapparater. \\n\\xA76.4 Det tillates\\\n    \\ avkj\\xF8rsel for BR over o_GF3 \\n\\xA76.5 Bestemmelsesomr\\xE5de #02 SN\\xD8: Innenfor\\\n    \\ omr\\xE5det kan det anlegges opplag for sn\\xF8. \\n\\xA76.6 Det tillates \\xE5 legge\\\n    \\ kabler i bakken innenfor omr\\xE5de avsatt til friomr\\xE5de. \\n\\xA76.7 Adkomst\\\n    \\ til lekearealer skal v\\xE6re universelt utformet. \\n \\nTurdrag (GTD1-2) \\n\\xA7\\\n    6.8 Omr\\xE5dene skal benyttes til turveier. \\n \\n \\n \\nDato 11.05.2022 ", images: [],\n  metadata: {num_pages: 4}}\n\n\nReturn the correct JSON response within a ```json codeblock. not the JSON_SCHEMA'}]}
python_service-1  | [92m11:19:57 - LiteLLM:DEBUG[0m: utils.py:2911 - 
python_service-1  | LiteLLM: Non-Default params passed to completion() {'temperature': 0, 'max_tokens': 4000}
python_service-1  | DEBUG:LiteLLM:
python_service-1  | LiteLLM: Non-Default params passed to completion() {'temperature': 0, 'max_tokens': 4000}
python_service-1  | [92m11:19:57 - LiteLLM:DEBUG[0m: utils.py:3511 - Azure optional params - api_version: api_version=None, litellm.api_version=2024-08-01-preview, os.environ['AZURE_API_VERSION']=None
python_service-1  | DEBUG:LiteLLM:Azure optional params - api_version: api_version=None, litellm.api_version=2024-08-01-preview, os.environ['AZURE_API_VERSION']=None
python_service-1  | [92m11:19:57 - LiteLLM:DEBUG[0m: utils.py:298 - Final returned optional params: {'temperature': 0, 'max_tokens': 4000, 'extra_body': {}}
python_service-1  | DEBUG:LiteLLM:Final returned optional params: {'temperature': 0, 'max_tokens': 4000, 'extra_body': {}}
python_service-1  | [92m11:19:57 - LiteLLM:DEBUG[0m: litellm_logging.py:377 - self.optional_params: {'temperature': 0, 'max_tokens': 4000, 'extra_body': {}}
python_service-1  | DEBUG:LiteLLM:self.optional_params: {'temperature': 0, 'max_tokens': 4000, 'extra_body': {}}
python_service-1  | [92m11:19:57 - LiteLLM:DEBUG[0m: litellm_logging.py:634 - [92m
python_service-1  | 
python_service-1  | POST Request Sent from LiteLLM:
python_service-1  | curl -X POST \
python_service-1  | https://kartai-openai.openai.azure.com \
python_service-1  | -H 'api_key: Dm20Qg2RomLirlz8icux5Y3XavqI2BfAwmuOdjuI********************************************' -H 'azure_ad_token: *****' \
python_service-1  | -d '{'model': 'gpt-4o-mini', 'messages': [{'role': 'system', 'content': 'You are a server API that receives document information and returns specific fields in JSON format.\n\n\n        As a genius expert, your task is to understand the content and provide\n        the parsed objects in json that match the following json_schema:\n\n\n        {\n  "description": "Contract for field extraction from regulatory documents.\\n\\nDefines the structure and prompt for extracting regulation codes from\\nNorwegian planning documents (plankart and bestemmelser).\\n\\nAttributes:\\n    fields (Set[str]): Set of extracted regulation codes",\n  "properties": {\n    "fields": {\n      "items": {\n        "type": "string"\n      },\n      "title": "Fields",\n      "type": "array",\n      "uniqueItems": true\n    }\n  },\n  "required": [\n    "fields"\n  ],\n  "title": "FieldExtractContract",\n  "type": "object"\n}\n\n        Make sure to return an instance of the JSON, not the schema itself\n'}, {'role': 'user', 'content': '##Content\n\n{content: "  1 \\n  \\n \\n \\nReguleringsbestemmelser  \\nfor \\nSt\\xF8peritomta \\n \\n\\\n    Plan ID: 202102 \\nPlankart dato: 11.05.2022 \\nReguleringsbestemmelser dato: 11.05.2022\\\n    \\ \\nVedtatt PS 59/22: 16.06.2022 \\n  \\n \\n\\xA71. Planform\\xE5l \\nForm\\xE5let med\\\n    \\ planen er \\xE5 tilrettelegge for konsentrert bebyggelse med tilh\\xF8rende anlegg.\\\n    \\ \\nPlanen omfatter ogs\\xE5 kirke/annen religionsut\\xF8velse, parkeringsanlegg\\\n    \\ og idrett/park.  \\n \\nPlanen inneholder f\\xF8lgende form\\xE5l (Pbl. \\xA7 12-5):\\\n    \\ \\n \\n\\xA71.1 Bebyggelse og anlegg (pbl \\xA712-5,nr 1) \\nBoligbebyggelse- Konsentrert\\\n    \\ sm\\xE5husbebyggelse (BKS) \\nForsamlingslokale for religionsut\\xF8velse (BR)\\\n    \\ \\nIdrettsanlegg (BIA) \\nEnergianlegg (BE) \\n \\n\\xA71.2 Samferdselsanlegg og\\\n    \\ teknisk infrastruktur (pbl \\xA712-5, nr 2) \\nVeg (o_SV1 og 3) \\nFortau (o_SF)\\\n    \\ \\nParkering(o_SPA) \\n \\n\\xA71.3 Gr\\xF8nnstruktur (pbl \\xA712-5,2. ledd nr 3)\\\n    \\ \\nFriomr\\xE5de (o_GF1-3) \\nTurdrag (o_GTD1-2) \\n \\n \\n  \\n\\n\\n  2 \\n\\xA72. Rekkef\\xF8\\\n    lgebestemmelser (pbl \\xA7 12-7 nr. 10) \\n \\n\\xA72.1 F\\xF8r midlertidig brukstillatelse\\\n    \\ for BKS skal o_SV3 v\\xE6re ferdig opparbeidet.  \\n\\xA72.2 F\\xF8r midlertidig\\\n    \\ brukstillatelse for 1. boenhet p\\xE5 BKS skal lekeplass innenfor GF1 v\\xE6re\\\n    \\ ferdig \\nopparbeidet. \\n\\xA72.3 F\\xF8r midlertidig brukstillatelse p\\xE5 5.\\\n    \\ boenhet p\\xE5 BKS skal o_GTD1-2 v\\xE6re ferdig opparbeidet.  \\n\\xA72.4 F\\xF8\\\n    r midlertidig brukstillatelse for BKS skal o_SF v\\xE6re ferdig opparbeidet. \\n\\\n    \\xA72.5 F\\xF8r ferdigattest p\\xE5 BR, skal o_SF og o_SPA v\\xE6re ferdig opparbeidet.\\\n    \\ \\n \\n \\n \\n \\n \\n\\xA73. Fellesbestemmelser \\n\\xA73.1 Bygge- og anleggsst\\xF8\\\n    y skal ikke overskride st\\xF8ygrensen i tabell 4 i retningslinje for behandling\\\n    \\ \\nav st\\xF8y i arealplanlegging (T-1442/2021). St\\xF8yende aktivitet skal forega\\u030A\\\n    \\ p\\xE5 dagtid. \\n\\xA74. Bebyggelse og anlegg (pbl 12-5 nr. 1) \\nBoligbebyggelse-konsentrert\\\n    \\ sm\\xE5husbebyggelse - BKS \\n \\n\\xA74.1 Bebyggelse: Det tillates fire tomannsboliger\\\n    \\ p\\xE5 tomten. Totalt 8 boenheter.   \\n\\xA74.2 Byggegrenser: Plassering av nye\\\n    \\ tiltak skal skje innenfor byggegrensene. For \\ngarasje/carport/bod mindre enn\\\n    \\ 50 m2 BYA gjelder byggegrense p\\xE5 1 meter fra tomtegrense. \\nTerrenginngrep\\\n    \\ og grunnarbeider i forbindelse med opparbeidelse av tomtene tillattes \\nutenfor\\\n    \\ byggegrense. Avkj\\xF8rsel og parkering tillates utenfor byggegrense. \\n\\xA7\\\n    4.3 Garasje/Carport: Alle boenheter skal ha minst en parkering under tak til disposisjon.\\\n    \\  \\n\\xA74.4 Bestemmelsesomr\\xE5de #01 SN\\xD8: Innenfor omr\\xE5det kan det anlegges\\\n    \\ opplag for sn\\xF8. \\n \\nGrad av utnytting \\n\\xA74.5 Utnyttelsesgrad: BYA for\\\n    \\ omr\\xE5det BKS skal v\\xE6re maksimalt %-BYA= 40%. Overbygg til \\nrenovasjon\\\n    \\ eller dunker medregnes ikke i %-BYA. \\n\\xA74.6 Parkering: Det skal avsettes\\\n    \\ 2 parkeringsplasser for hver boenhet, hvor en av disse skal v\\xE6re i \\ngarasje/carport.\\\n    \\ BYA for parkering er 3x6=18m2 per plass. \\n \\nH\\xF8yder \\u2013 Utforming av\\\n    \\ bebyggelse \\n\\xA74.7 Planeringsh\\xF8yder: Maksimal planeringsh\\xF8yde er angitt\\\n    \\ i plankart. Maks planeringsh\\xF8yde er \\nK+182. \\n\\xA74.8 Takform: Bebyggelse\\\n    \\ skal ha saltak med en takvinkel mellom 30 - 40 grader.  \\n\\xA74.9 Takh\\xF8yder:\\\n    \\ Tillate takh\\xF8yder er angitt i tabellen under. H\\xF8yder regnes fra planert\\\n    \\ terreng. \\n \\n Saltak \\nM\\xF8ne 6,0 m \\nGesimsh\\xF8yde 3,5 m \\nTakvinkel 30-40\\\n    \\ grader \\n \\nSt\\xF8yf\\xF8lsom bebyggelse \\nF\\xF8r det tillates tiltak innenfor\\\n    \\ omr\\xE5det skal det gj\\xF8res st\\xF8yskjermede tiltak.   \\n\\xA74.10 Alle boenheter\\\n    \\ skal ha uteplass p\\xE5 b\\xE5de \\xF8stsiden og vestsiden av bebyggelsen.  \\n\\n\\\n    \\  3 \\n\\xA74.11 Alle boenheter skal v\\xE6re gjennomg\\xE5ende og ha minst ett soverom\\\n    \\ plassert p\\xE5 vestsiden og \\n\\xF8stsiden. Eventuelt \\xF8kt lydisolasjon i fasade\\\n    \\ i minst ett soverom i hver boenhet. \\n \\nTeknisk plan \\n\\xA74.12 Det stilles\\\n    \\ teknisk plan for VA, overvannsh\\xE5ndtering og str\\xF8mforsyning f\\xF8r \\nigangsettingstillatelse\\\n    \\ kan gis innenfor omr\\xE5det BKS. Det b\\xF8r legge til rette for \\xE5pne \\nvannveier\\\n    \\ for overvannsh\\xE5ndtering. Dersom andre l\\xF8sninger velges skal det begrunnes\\\n    \\ \\nhvorfor naturbaserte l\\xF8sninger velges bort. \\n\\xA74.13 V/A- anlegg samt\\\n    \\ vei skal dimensjoneres og opparbeides i samsvar med til enhver tids \\ngjeldende\\\n    \\ \\xABRetningslinjer for vei, vann og avl\\xF8p\\xBB for Evje og Hornnes kommune.\\\n    \\ Det skal \\nsikres teknisk godkjenning av offentlig samferdselsanlegg. \\n\\xA7\\\n    4.14 Det skal f\\xF8r utbygging avklares hvordan det nye utbyggingsomr\\xE5det i\\\n    \\ planomr\\xE5det skal \\nforsynes med elektrisk str\\xF8m. Det m\\xE5 avklares i\\\n    \\ hvilken grad eksisterende ledninger/kabler \\neventuelt kan benyttes og om nye\\\n    \\ ledninger/kabler m\\xE5 legges om og om det er behov for \\nny(e) nettstasjon(er).\\\n    \\ \\n \\nUtforming av tomt \\n\\xA74.15 Situasjonsplan: Ved s\\xF8knad om tillatelse\\\n    \\ til tiltak skal situasjonsplan vedlegges i tilpasset \\nm\\xE5lestokk som viser\\\n    \\ plassering av bebyggelse og h\\xF8yde. Situasjonsplan skal ogs\\xE5 vise \\nplassering\\\n    \\ av parkering, avkj\\xF8rsel og evt. st\\xF8ttemurer.  \\n\\xA74.16 Renovasjon: Areal\\\n    \\ for renovasjon skal vises p\\xE5 situasjonsplan. Situasjonsplanen skal vise at\\\n    \\ \\nrenovasjonsbil har tilstrekkelig snuareal innenfor planomr\\xE5det.  \\n\\xA7\\\n    4.17 Forst\\xF8tningsmur: Det tillattes forst\\xF8tningsmurer for \\xE5 tilpasse\\\n    \\ terrenget. Forst\\xF8tningsmurer \\ntillates oppf\\xF8rt utenfor byggegrense. Maks\\\n    \\ tillatt h\\xF8yde p\\xE5 forst\\xF8tningsmurer er 2,5 meter.  \\n\\xA74.18 Det stilles\\\n    \\ estetisk krav til utforming av fylling / naturstein plastret skr\\xE5ning mot\\\n    \\ bekk. \\nSkr\\xE5ning skal jord klees, tils\\xE5es og sikres mot erosjon. \\n \\n\\\n    Forsamlingslokale for religionsut\\xF8velse - BR \\n \\n\\xA74.19 Omr\\xE5det skal\\\n    \\ benyttes til nytt sentrumsn\\xE6rt bedehus i n\\xF8dvendig grad og utstrekning\\\n    \\ \\n\\xA74.20 Bygninger kan oppf\\xF8res med gesimsh\\xF8yde 8,0 meter og m\\xF8neh\\xF8\\\n    yde 10,5 meter. \\n\\xA74.21 BYA for arealform\\xE5let skal v\\xE6re maksimalt %-BYA=\\\n    \\ 50. Areal for parkering medregnes ikke i \\n%BYA \\n\\xA74.22 Det skal avsettes\\\n    \\ tilstrekkelig med parkeringsareal til gjeldende aktivitet innenfor regulert\\\n    \\ \\nomr\\xE5de. Parkeringsbehovet for bedehuset kan l\\xF8ses b\\xE5de innenfor BR\\\n    \\ og SPA. \\n\\xA74.23 Arealutnyttelse utover dette skal opparbeides parkmessig\\\n    \\ og v\\xE6re tilgjengelig for \\nallmennheten. \\n\\xA74.24 Oppgitt gesimsh\\xF8yde\\\n    \\ og m\\xF8neh\\xF8yde skal regnes ut fra gjennomsnittlig h\\xF8yde p\\xE5 tomta/\\\n    \\ \\nomr\\xE5det f\\xF8r opparbeidelse begynner. \\n\\xA74.25 Innenfor omr\\xE5det BR\\\n    \\ tillates det internveier og parkeringsplasser. \\n \\nIdrettsanlegg - BIA \\n\\xA7\\\n    4.26 Innenfor omr\\xE5det er det tillatt med tiltak som fremmer idrettsaktiviteter.\\\n    \\  \\n \\nEnergianlegg - BE \\n\\xA74.27 Innenfor omr\\xE5det er det tillatt plassering\\\n    \\ av trafo og infrastruktur i sammenheng med dette. \\n \\n  \\n\\n  4 \\n\\xA75. Samferdselsanlegg\\\n    \\ og teknisk infrastruktur (pbl 12-5 nr. 2) \\nVeg (o_SV1) \\n\\xA75.1 Veien o_SV1\\\n    \\ er adkomst for alle tilgrensende eiendommer. \\nDet skal opparbeides et fysisk\\\n    \\ skille mellom o_SV1 og omkringliggende arealform\\xE5l SPA, GF \\nog SGS. Adkomst\\\n    \\ til SPA og BR skal ikke v\\xE6re rett ovenfor hverandre. \\n \\n \\n \\nVeg (o_SV3)\\\n    \\ \\n\\xA75.2 Veien o_SV3-er adkomst for boligomr\\xE5de BKS og BR samt atkomst til\\\n    \\ o_SPA. Plasseringer av \\navkj\\xF8rsler langs o_SV3 er ikke endelige og tillates\\\n    \\ justert i samr\\xE5d med veieier. \\n \\nFortau (o_SF1-2) \\n\\xA75.3 o_SF1-2 er\\\n    \\ regulert til offentlig fortau med en bredde p\\xE5 3 meter. \\n \\nParkering (o_SPA)\\\n    \\ \\n\\xA75.4 o_SPA er offentlig parkeringsplass. \\n\\xA75.5 Parkeringsbehov for\\\n    \\ bedehuset kan l\\xF8ses innenfor o_SPA. \\n\\xA75.6 Det tillates etablert ladestasjoner\\\n    \\ innenfor omr\\xE5det.  \\n\\xA75.7 Atkomst til SPA og SGS skal ikke anlegges vertikalt\\\n    \\ rett overfor hverandre. \\n \\n \\n\\xA76. Gr\\xF8nnstruktur (pbl 12-5 nr. 3) \\n\\\n    \\ \\nFriomr\\xE5de (o_GF1-3) \\n\\xA76.1 Omr\\xE5de for friomr\\xE5de/gr\\xF8ntstruktur\\\n    \\ GF1-GF3 er til fri ferdsel for allmenheten. \\n\\xA76.2 I omr\\xE5dene er det tillat\\\n    \\ oppf\\xF8rt bebyggelse og andre tekniske installasjoner som typisk \\nberiker\\\n    \\ bruken av omr\\xE5de. \\n\\xA76.3 Innenfor omr\\xE5det GF1 skal det opparbeides\\\n    \\ et felles leke- og uteoppholdsareal for hele \\nplanomr\\xE5det. Lekeplassen skal\\\n    \\ utstyres med sand, benk og min. 3 ulike lekeapparater. \\n\\xA76.4 Det tillates\\\n    \\ avkj\\xF8rsel for BR over o_GF3 \\n\\xA76.5 Bestemmelsesomr\\xE5de #02 SN\\xD8: Innenfor\\\n    \\ omr\\xE5det kan det anlegges opplag for sn\\xF8. \\n\\xA76.6 Det tillates \\xE5 legge\\\n    \\ kabler i bakken innenfor omr\\xE5de avsatt til friomr\\xE5de. \\n\\xA76.7 Adkomst\\\n    \\ til lekearealer skal v\\xE6re universelt utformet. \\n \\nTurdrag (GTD1-2) \\n\\xA7\\\n    6.8 Omr\\xE5dene skal benyttes til turveier. \\n \\n \\n \\nDato 11.05.2022 ", images: [],\n  metadata: {num_pages: 4}}\n\n\nReturn the correct JSON response within a ```json codeblock. not the JSON_SCHEMA'}], 'temperature': 0, 'max_tokens': 4000, 'extra_body': {}}'
python_service-1  | [0m
python_service-1  | 
python_service-1  | DEBUG:LiteLLM:[92m
python_service-1  | 
python_service-1  | POST Request Sent from LiteLLM:
python_service-1  | curl -X POST \
python_service-1  | https://kartai-openai.openai.azure.com \
python_service-1  | -H 'api_key: Dm20Qg2RomLirlz8icux5Y3XavqI2BfAwmuOdjuI********************************************' -H 'azure_ad_token: *****' \
python_service-1  | -d '{'model': 'gpt-4o-mini', 'messages': [{'role': 'system', 'content': 'You are a server API that receives document information and returns specific fields in JSON format.\n\n\n        As a genius expert, your task is to understand the content and provide\n        the parsed objects in json that match the following json_schema:\n\n\n        {\n  "description": "Contract for field extraction from regulatory documents.\\n\\nDefines the structure and prompt for extracting regulation codes from\\nNorwegian planning documents (plankart and bestemmelser).\\n\\nAttributes:\\n    fields (Set[str]): Set of extracted regulation codes",\n  "properties": {\n    "fields": {\n      "items": {\n        "type": "string"\n      },\n      "title": "Fields",\n      "type": "array",\n      "uniqueItems": true\n    }\n  },\n  "required": [\n    "fields"\n  ],\n  "title": "FieldExtractContract",\n  "type": "object"\n}\n\n        Make sure to return an instance of the JSON, not the schema itself\n'}, {'role': 'user', 'content': '##Content\n\n{content: "  1 \\n  \\n \\n \\nReguleringsbestemmelser  \\nfor \\nSt\\xF8peritomta \\n \\n\\\n    Plan ID: 202102 \\nPlankart dato: 11.05.2022 \\nReguleringsbestemmelser dato: 11.05.2022\\\n    \\ \\nVedtatt PS 59/22: 16.06.2022 \\n  \\n \\n\\xA71. Planform\\xE5l \\nForm\\xE5let med\\\n    \\ planen er \\xE5 tilrettelegge for konsentrert bebyggelse med tilh\\xF8rende anlegg.\\\n    \\ \\nPlanen omfatter ogs\\xE5 kirke/annen religionsut\\xF8velse, parkeringsanlegg\\\n    \\ og idrett/park.  \\n \\nPlanen inneholder f\\xF8lgende form\\xE5l (Pbl. \\xA7 12-5):\\\n    \\ \\n \\n\\xA71.1 Bebyggelse og anlegg (pbl \\xA712-5,nr 1) \\nBoligbebyggelse- Konsentrert\\\n    \\ sm\\xE5husbebyggelse (BKS) \\nForsamlingslokale for religionsut\\xF8velse (BR)\\\n    \\ \\nIdrettsanlegg (BIA) \\nEnergianlegg (BE) \\n \\n\\xA71.2 Samferdselsanlegg og\\\n    \\ teknisk infrastruktur (pbl \\xA712-5, nr 2) \\nVeg (o_SV1 og 3) \\nFortau (o_SF)\\\n    \\ \\nParkering(o_SPA) \\n \\n\\xA71.3 Gr\\xF8nnstruktur (pbl \\xA712-5,2. ledd nr 3)\\\n    \\ \\nFriomr\\xE5de (o_GF1-3) \\nTurdrag (o_GTD1-2) \\n \\n \\n  \\n\\n\\n  2 \\n\\xA72. Rekkef\\xF8\\\n    lgebestemmelser (pbl \\xA7 12-7 nr. 10) \\n \\n\\xA72.1 F\\xF8r midlertidig brukstillatelse\\\n    \\ for BKS skal o_SV3 v\\xE6re ferdig opparbeidet.  \\n\\xA72.2 F\\xF8r midlertidig\\\n    \\ brukstillatelse for 1. boenhet p\\xE5 BKS skal lekeplass innenfor GF1 v\\xE6re\\\n    \\ ferdig \\nopparbeidet. \\n\\xA72.3 F\\xF8r midlertidig brukstillatelse p\\xE5 5.\\\n    \\ boenhet p\\xE5 BKS skal o_GTD1-2 v\\xE6re ferdig opparbeidet.  \\n\\xA72.4 F\\xF8\\\n    r midlertidig brukstillatelse for BKS skal o_SF v\\xE6re ferdig opparbeidet. \\n\\\n    \\xA72.5 F\\xF8r ferdigattest p\\xE5 BR, skal o_SF og o_SPA v\\xE6re ferdig opparbeidet.\\\n    \\ \\n \\n \\n \\n \\n \\n\\xA73. Fellesbestemmelser \\n\\xA73.1 Bygge- og anleggsst\\xF8\\\n    y skal ikke overskride st\\xF8ygrensen i tabell 4 i retningslinje for behandling\\\n    \\ \\nav st\\xF8y i arealplanlegging (T-1442/2021). St\\xF8yende aktivitet skal forega\\u030A\\\n    \\ p\\xE5 dagtid. \\n\\xA74. Bebyggelse og anlegg (pbl 12-5 nr. 1) \\nBoligbebyggelse-konsentrert\\\n    \\ sm\\xE5husbebyggelse - BKS \\n \\n\\xA74.1 Bebyggelse: Det tillates fire tomannsboliger\\\n    \\ p\\xE5 tomten. Totalt 8 boenheter.   \\n\\xA74.2 Byggegrenser: Plassering av nye\\\n    \\ tiltak skal skje innenfor byggegrensene. For \\ngarasje/carport/bod mindre enn\\\n    \\ 50 m2 BYA gjelder byggegrense p\\xE5 1 meter fra tomtegrense. \\nTerrenginngrep\\\n    \\ og grunnarbeider i forbindelse med opparbeidelse av tomtene tillattes \\nutenfor\\\n    \\ byggegrense. Avkj\\xF8rsel og parkering tillates utenfor byggegrense. \\n\\xA7\\\n    4.3 Garasje/Carport: Alle boenheter skal ha minst en parkering under tak til disposisjon.\\\n    \\  \\n\\xA74.4 Bestemmelsesomr\\xE5de #01 SN\\xD8: Innenfor omr\\xE5det kan det anlegges\\\n    \\ opplag for sn\\xF8. \\n \\nGrad av utnytting \\n\\xA74.5 Utnyttelsesgrad: BYA for\\\n    \\ omr\\xE5det BKS skal v\\xE6re maksimalt %-BYA= 40%. Overbygg til \\nrenovasjon\\\n    \\ eller dunker medregnes ikke i %-BYA. \\n\\xA74.6 Parkering: Det skal avsettes\\\n    \\ 2 parkeringsplasser for hver boenhet, hvor en av disse skal v\\xE6re i \\ngarasje/carport.\\\n    \\ BYA for parkering er 3x6=18m2 per plass. \\n \\nH\\xF8yder \\u2013 Utforming av\\\n    \\ bebyggelse \\n\\xA74.7 Planeringsh\\xF8yder: Maksimal planeringsh\\xF8yde er angitt\\\n    \\ i plankart. Maks planeringsh\\xF8yde er \\nK+182. \\n\\xA74.8 Takform: Bebyggelse\\\n    \\ skal ha saltak med en takvinkel mellom 30 - 40 grader.  \\n\\xA74.9 Takh\\xF8yder:\\\n    \\ Tillate takh\\xF8yder er angitt i tabellen under. H\\xF8yder regnes fra planert\\\n    \\ terreng. \\n \\n Saltak \\nM\\xF8ne 6,0 m \\nGesimsh\\xF8yde 3,5 m \\nTakvinkel 30-40\\\n    \\ grader \\n \\nSt\\xF8yf\\xF8lsom bebyggelse \\nF\\xF8r det tillates tiltak innenfor\\\n    \\ omr\\xE5det skal det gj\\xF8res st\\xF8yskjermede tiltak.   \\n\\xA74.10 Alle boenheter\\\n    \\ skal ha uteplass p\\xE5 b\\xE5de \\xF8stsiden og vestsiden av bebyggelsen.  \\n\\n\\\n    \\  3 \\n\\xA74.11 Alle boenheter skal v\\xE6re gjennomg\\xE5ende og ha minst ett soverom\\\n    \\ plassert p\\xE5 vestsiden og \\n\\xF8stsiden. Eventuelt \\xF8kt lydisolasjon i fasade\\\n    \\ i minst ett soverom i hver boenhet. \\n \\nTeknisk plan \\n\\xA74.12 Det stilles\\\n    \\ teknisk plan for VA, overvannsh\\xE5ndtering og str\\xF8mforsyning f\\xF8r \\nigangsettingstillatelse\\\n    \\ kan gis innenfor omr\\xE5det BKS. Det b\\xF8r legge til rette for \\xE5pne \\nvannveier\\\n    \\ for overvannsh\\xE5ndtering. Dersom andre l\\xF8sninger velges skal det begrunnes\\\n    \\ \\nhvorfor naturbaserte l\\xF8sninger velges bort. \\n\\xA74.13 V/A- anlegg samt\\\n    \\ vei skal dimensjoneres og opparbeides i samsvar med til enhver tids \\ngjeldende\\\n    \\ \\xABRetningslinjer for vei, vann og avl\\xF8p\\xBB for Evje og Hornnes kommune.\\\n    \\ Det skal \\nsikres teknisk godkjenning av offentlig samferdselsanlegg. \\n\\xA7\\\n    4.14 Det skal f\\xF8r utbygging avklares hvordan det nye utbyggingsomr\\xE5det i\\\n    \\ planomr\\xE5det skal \\nforsynes med elektrisk str\\xF8m. Det m\\xE5 avklares i\\\n    \\ hvilken grad eksisterende ledninger/kabler \\neventuelt kan benyttes og om nye\\\n    \\ ledninger/kabler m\\xE5 legges om og om det er behov for \\nny(e) nettstasjon(er).\\\n    \\ \\n \\nUtforming av tomt \\n\\xA74.15 Situasjonsplan: Ved s\\xF8knad om tillatelse\\\n    \\ til tiltak skal situasjonsplan vedlegges i tilpasset \\nm\\xE5lestokk som viser\\\n    \\ plassering av bebyggelse og h\\xF8yde. Situasjonsplan skal ogs\\xE5 vise \\nplassering\\\n    \\ av parkering, avkj\\xF8rsel og evt. st\\xF8ttemurer.  \\n\\xA74.16 Renovasjon: Areal\\\n    \\ for renovasjon skal vises p\\xE5 situasjonsplan. Situasjonsplanen skal vise at\\\n    \\ \\nrenovasjonsbil har tilstrekkelig snuareal innenfor planomr\\xE5det.  \\n\\xA7\\\n    4.17 Forst\\xF8tningsmur: Det tillattes forst\\xF8tningsmurer for \\xE5 tilpasse\\\n    \\ terrenget. Forst\\xF8tningsmurer \\ntillates oppf\\xF8rt utenfor byggegrense. Maks\\\n    \\ tillatt h\\xF8yde p\\xE5 forst\\xF8tningsmurer er 2,5 meter.  \\n\\xA74.18 Det stilles\\\n    \\ estetisk krav til utforming av fylling / naturstein plastret skr\\xE5ning mot\\\n    \\ bekk. \\nSkr\\xE5ning skal jord klees, tils\\xE5es og sikres mot erosjon. \\n \\n\\\n    Forsamlingslokale for religionsut\\xF8velse - BR \\n \\n\\xA74.19 Omr\\xE5det skal\\\n    \\ benyttes til nytt sentrumsn\\xE6rt bedehus i n\\xF8dvendig grad og utstrekning\\\n    \\ \\n\\xA74.20 Bygninger kan oppf\\xF8res med gesimsh\\xF8yde 8,0 meter og m\\xF8neh\\xF8\\\n    yde 10,5 meter. \\n\\xA74.21 BYA for arealform\\xE5let skal v\\xE6re maksimalt %-BYA=\\\n    \\ 50. Areal for parkering medregnes ikke i \\n%BYA \\n\\xA74.22 Det skal avsettes\\\n    \\ tilstrekkelig med parkeringsareal til gjeldende aktivitet innenfor regulert\\\n    \\ \\nomr\\xE5de. Parkeringsbehovet for bedehuset kan l\\xF8ses b\\xE5de innenfor BR\\\n    \\ og SPA. \\n\\xA74.23 Arealutnyttelse utover dette skal opparbeides parkmessig\\\n    \\ og v\\xE6re tilgjengelig for \\nallmennheten. \\n\\xA74.24 Oppgitt gesimsh\\xF8yde\\\n    \\ og m\\xF8neh\\xF8yde skal regnes ut fra gjennomsnittlig h\\xF8yde p\\xE5 tomta/\\\n    \\ \\nomr\\xE5det f\\xF8r opparbeidelse begynner. \\n\\xA74.25 Innenfor omr\\xE5det BR\\\n    \\ tillates det internveier og parkeringsplasser. \\n \\nIdrettsanlegg - BIA \\n\\xA7\\\n    4.26 Innenfor omr\\xE5det er det tillatt med tiltak som fremmer idrettsaktiviteter.\\\n    \\  \\n \\nEnergianlegg - BE \\n\\xA74.27 Innenfor omr\\xE5det er det tillatt plassering\\\n    \\ av trafo og infrastruktur i sammenheng med dette. \\n \\n  \\n\\n  4 \\n\\xA75. Samferdselsanlegg\\\n    \\ og teknisk infrastruktur (pbl 12-5 nr. 2) \\nVeg (o_SV1) \\n\\xA75.1 Veien o_SV1\\\n    \\ er adkomst for alle tilgrensende eiendommer. \\nDet skal opparbeides et fysisk\\\n    \\ skille mellom o_SV1 og omkringliggende arealform\\xE5l SPA, GF \\nog SGS. Adkomst\\\n    \\ til SPA og BR skal ikke v\\xE6re rett ovenfor hverandre. \\n \\n \\n \\nVeg (o_SV3)\\\n    \\ \\n\\xA75.2 Veien o_SV3-er adkomst for boligomr\\xE5de BKS og BR samt atkomst til\\\n    \\ o_SPA. Plasseringer av \\navkj\\xF8rsler langs o_SV3 er ikke endelige og tillates\\\n    \\ justert i samr\\xE5d med veieier. \\n \\nFortau (o_SF1-2) \\n\\xA75.3 o_SF1-2 er\\\n    \\ regulert til offentlig fortau med en bredde p\\xE5 3 meter. \\n \\nParkering (o_SPA)\\\n    \\ \\n\\xA75.4 o_SPA er offentlig parkeringsplass. \\n\\xA75.5 Parkeringsbehov for\\\n    \\ bedehuset kan l\\xF8ses innenfor o_SPA. \\n\\xA75.6 Det tillates etablert ladestasjoner\\\n    \\ innenfor omr\\xE5det.  \\n\\xA75.7 Atkomst til SPA og SGS skal ikke anlegges vertikalt\\\n    \\ rett overfor hverandre. \\n \\n \\n\\xA76. Gr\\xF8nnstruktur (pbl 12-5 nr. 3) \\n\\\n    \\ \\nFriomr\\xE5de (o_GF1-3) \\n\\xA76.1 Omr\\xE5de for friomr\\xE5de/gr\\xF8ntstruktur\\\n    \\ GF1-GF3 er til fri ferdsel for allmenheten. \\n\\xA76.2 I omr\\xE5dene er det tillat\\\n    \\ oppf\\xF8rt bebyggelse og andre tekniske installasjoner som typisk \\nberiker\\\n    \\ bruken av omr\\xE5de. \\n\\xA76.3 Innenfor omr\\xE5det GF1 skal det opparbeides\\\n    \\ et felles leke- og uteoppholdsareal for hele \\nplanomr\\xE5det. Lekeplassen skal\\\n    \\ utstyres med sand, benk og min. 3 ulike lekeapparater. \\n\\xA76.4 Det tillates\\\n    \\ avkj\\xF8rsel for BR over o_GF3 \\n\\xA76.5 Bestemmelsesomr\\xE5de #02 SN\\xD8: Innenfor\\\n    \\ omr\\xE5det kan det anlegges opplag for sn\\xF8. \\n\\xA76.6 Det tillates \\xE5 legge\\\n    \\ kabler i bakken innenfor omr\\xE5de avsatt til friomr\\xE5de. \\n\\xA76.7 Adkomst\\\n    \\ til lekearealer skal v\\xE6re universelt utformet. \\n \\nTurdrag (GTD1-2) \\n\\xA7\\\n    6.8 Omr\\xE5dene skal benyttes til turveier. \\n \\n \\n \\nDato 11.05.2022 ", images: [],\n  metadata: {num_pages: 4}}\n\n\nReturn the correct JSON response within a ```json codeblock. not the JSON_SCHEMA'}], 'temperature': 0, 'max_tokens': 4000, 'extra_body': {}}'
python_service-1  | [0m
python_service-1  | 
python_service-1  | [92m11:20:56 - LiteLLM:DEBUG[0m: utils.py:298 - RAW RESPONSE:
python_service-1  | {"id": "chatcmpl-AzibugABH2SBNQv2Z7hmOjn1GGz3c", "choices": [{"finish_reason": "stop", "index": 0, "logprobs": null, "message": {"content": "```json\n{\n  \"fields\": [\n    \"Pbl. \u00a7 12-5, nr 1\",\n    \"BKS\",\n    \"BR\",\n    \"BIA\",\n    \"BE\",\n    \"Pbl. \u00a7 12-5, nr 2\",\n    \"o_SV1\",\n    \"o_SV3\",\n    \"o_SF\",\n    \"o_SPA\",\n    \"Pbl. \u00a7 12-5, 2. ledd nr 3\",\n    \"o_GF1-3\",\n    \"o_GTD1-2\",\n    \"Pbl. \u00a7 12-7 nr. 10\"\n  ]\n}\n```", "refusal": null, "role": "assistant", "audio": null, "function_call": null, "tool_calls": null}, "content_filter_results": {"hate": {"filtered": false, "severity": "safe"}, "protected_material_code": {"filtered": false, "detected": false}, "protected_material_text": {"filtered": false, "detected": false}, "self_harm": {"filtered": false, "severity": "safe"}, "sexual": {"filtered": false, "severity": "safe"}, "violence": {"filtered": false, "severity": "safe"}}}], "created": 1739272854, "model": "gpt-4o-mini-2024-07-18", "object": "chat.completion", "service_tier": null, "system_fingerprint": "fp_f3927aa00d", "usage": {"completion_tokens": 139, "prompt_tokens": 3976, "total_tokens": 4115, "completion_tokens_details": {"accepted_prediction_tokens": 0, "audio_tokens": 0, "reasoning_tokens": 0, "rejected_prediction_tokens": 0}, "prompt_tokens_details": {"audio_tokens": 0, "cached_tokens": 0}}, "prompt_filter_results": [{"prompt_index": 0, "content_filter_results": {"hate": {"filtered": false, "severity": "safe"}, "jailbreak": {"filtered": false, "detected": false}, "self_harm": {"filtered": false, "severity": "safe"}, "sexual": {"filtered": false, "severity": "safe"}, "violence": {"filtered": false, "severity": "safe"}}}]}
python_service-1  | 
python_service-1  | 
python_service-1  | DEBUG:LiteLLM:RAW RESPONSE:
python_service-1  | {"id": "chatcmpl-AzibugABH2SBNQv2Z7hmOjn1GGz3c", "choices": [{"finish_reason": "stop", "index": 0, "logprobs": null, "message": {"content": "```json\n{\n  \"fields\": [\n    \"Pbl. \u00a7 12-5, nr 1\",\n    \"BKS\",\n    \"BR\",\n    \"BIA\",\n    \"BE\",\n    \"Pbl. \u00a7 12-5, nr 2\",\n    \"o_SV1\",\n    \"o_SV3\",\n    \"o_SF\",\n    \"o_SPA\",\n    \"Pbl. \u00a7 12-5, 2. ledd nr 3\",\n    \"o_GF1-3\",\n    \"o_GTD1-2\",\n    \"Pbl. \u00a7 12-7 nr. 10\"\n  ]\n}\n```", "refusal": null, "role": "assistant", "audio": null, "function_call": null, "tool_calls": null}, "content_filter_results": {"hate": {"filtered": false, "severity": "safe"}, "protected_material_code": {"filtered": false, "detected": false}, "protected_material_text": {"filtered": false, "detected": false}, "self_harm": {"filtered": false, "severity": "safe"}, "sexual": {"filtered": false, "severity": "safe"}, "violence": {"filtered": false, "severity": "safe"}}}], "created": 1739272854, "model": "gpt-4o-mini-2024-07-18", "object": "chat.completion", "service_tier": null, "system_fingerprint": "fp_f3927aa00d", "usage": {"completion_tokens": 139, "prompt_tokens": 3976, "total_tokens": 4115, "completion_tokens_details": {"accepted_prediction_tokens": 0, "audio_tokens": 0, "reasoning_tokens": 0, "rejected_prediction_tokens": 0}, "prompt_tokens_details": {"audio_tokens": 0, "cached_tokens": 0}}, "prompt_filter_results": [{"prompt_index": 0, "content_filter_results": {"hate": {"filtered": false, "severity": "safe"}, "jailbreak": {"filtered": false, "detected": false}, "self_harm": {"filtered": false, "severity": "safe"}, "sexual": {"filtered": false, "severity": "safe"}, "violence": {"filtered": false, "severity": "safe"}}}]}
python_service-1  | 
python_service-1  | 
python_service-1  | [92m11:20:56 - LiteLLM:INFO[0m: utils.py:1084 - Wrapper: Completed Call, calling success_handler
python_service-1  | INFO:LiteLLM:Wrapper: Completed Call, calling success_handler
python_service-1  | [92m11:20:56 - LiteLLM:DEBUG[0m: cost_calculator.py:563 - completion_response _select_model_name_for_cost_calc: azure/gpt-4o-mini-2024-07-18
python_service-1  | DEBUG:LiteLLM:completion_response _select_model_name_for_cost_calc: azure/gpt-4o-mini-2024-07-18
python_service-1  | [92m11:20:56 - LiteLLM:DEBUG[0m: utils.py:4175 - checking potential_model_names in litellm.model_cost: {'split_model': 'gpt-4o-mini-2024-07-18', 'combined_model_name': 'azure/gpt-4o-mini-2024-07-18', 'stripped_model_name': 'gpt-4o-mini-2024-07-18', 'combined_stripped_model_name': 'azure/gpt-4o-mini-2024-07-18', 'custom_llm_provider': 'azure'}
python_service-1  | DEBUG:LiteLLM:checking potential_model_names in litellm.model_cost: {'split_model': 'gpt-4o-mini-2024-07-18', 'combined_model_name': 'azure/gpt-4o-mini-2024-07-18', 'stripped_model_name': 'gpt-4o-mini-2024-07-18', 'combined_stripped_model_name': 'azure/gpt-4o-mini-2024-07-18', 'custom_llm_provider': 'azure'}
python_service-1  | [92m11:20:56 - LiteLLM:DEBUG[0m: utils.py:4453 - model_info: {'key': 'azure/gpt-4o-mini-2024-07-18', 'max_tokens': 16384, 'max_input_tokens': 128000, 'max_output_tokens': 16384, 'input_cost_per_token': 1.65e-07, 'cache_creation_input_token_cost': None, 'cache_read_input_token_cost': 7.5e-08, 'input_cost_per_character': None, 'input_cost_per_token_above_128k_tokens': None, 'input_cost_per_query': None, 'input_cost_per_second': None, 'input_cost_per_audio_token': None, 'output_cost_per_token': 6.6e-07, 'output_cost_per_audio_token': None, 'output_cost_per_character': None, 'output_cost_per_token_above_128k_tokens': None, 'output_cost_per_character_above_128k_tokens': None, 'output_cost_per_second': None, 'output_cost_per_image': None, 'output_vector_size': None, 'litellm_provider': 'azure', 'mode': 'chat', 'supports_system_messages': None, 'supports_response_schema': True, 'supports_vision': True, 'supports_function_calling': True, 'supports_tool_choice': True, 'supports_assistant_prefill': False, 'supports_prompt_caching': True, 'supports_audio_input': False, 'supports_audio_output': False, 'supports_pdf_input': False, 'supports_embedding_image_input': False, 'supports_native_streaming': None, 'tpm': None, 'rpm': None}
python_service-1  | DEBUG:LiteLLM:model_info: {'key': 'azure/gpt-4o-mini-2024-07-18', 'max_tokens': 16384, 'max_input_tokens': 128000, 'max_output_tokens': 16384, 'input_cost_per_token': 1.65e-07, 'cache_creation_input_token_cost': None, 'cache_read_input_token_cost': 7.5e-08, 'input_cost_per_character': None, 'input_cost_per_token_above_128k_tokens': None, 'input_cost_per_query': None, 'input_cost_per_second': None, 'input_cost_per_audio_token': None, 'output_cost_per_token': 6.6e-07, 'output_cost_per_audio_token': None, 'output_cost_per_character': None, 'output_cost_per_token_above_128k_tokens': None, 'output_cost_per_character_above_128k_tokens': None, 'output_cost_per_second': None, 'output_cost_per_image': None, 'output_vector_size': None, 'litellm_provider': 'azure', 'mode': 'chat', 'supports_system_messages': None, 'supports_response_schema': True, 'supports_vision': True, 'supports_function_calling': True, 'supports_tool_choice': True, 'supports_assistant_prefill': False, 'supports_prompt_caching': True, 'supports_audio_input': False, 'supports_audio_output': False, 'supports_pdf_input': False, 'supports_embedding_image_input': False, 'supports_native_streaming': None, 'tpm': None, 'rpm': None}
python_service-1  | [92m11:20:56 - LiteLLM:DEBUG[0m: litellm_logging.py:846 - response_cost: 0.00074778
python_service-1  | DEBUG:LiteLLM:response_cost: 0.00074778
python_service-1  | DEBUG:app.llm.extractor:Available base codes: set()
python_service-1  | DEBUG:app.llm.extractor:Checking field: o_SV1
python_service-1  | WARNING:app.llm.extractor:No base codes available, using pattern matching
python_service-1  | DEBUG:app.llm.extractor:Added valid code: o_SV1
python_service-1  | DEBUG:app.llm.extractor:Checking field: o_SV3
python_service-1  | WARNING:app.llm.extractor:No base codes available, using pattern matching
python_service-1  | DEBUG:app.llm.extractor:Added valid code: o_SV3
python_service-1  | DEBUG:app.llm.extractor:Checking field: BKS
python_service-1  | [92m11:20:56 - LiteLLM:DEBUG[0m: litellm_logging.py:1014 - Logging Details LiteLLM-Success Call: Cache_hit=None
python_service-1  | WARNING:app.llm.extractor:No base codes available, using pattern matching
python_service-1  | DEBUG:app.llm.extractor:Added valid code: BKS
python_service-1  | DEBUG:app.llm.extractor:Checking field: o_SF
python_service-1  | DEBUG:LiteLLM:Logging Details LiteLLM-Success Call: Cache_hit=None
python_service-1  | [92m11:20:56 - LiteLLM:DEBUG[0m: utils.py:4175 - checking potential_model_names in litellm.model_cost: {'split_model': 'gpt-4o-mini-2024-07-18', 'combined_model_name': 'azure/gpt-4o-mini-2024-07-18', 'stripped_model_name': 'gpt-4o-mini-2024-07-18', 'combined_stripped_model_name': 'azure/gpt-4o-mini-2024-07-18', 'custom_llm_provider': 'azure'}
python_service-1  | DEBUG:LiteLLM:checking potential_model_names in litellm.model_cost: {'split_model': 'gpt-4o-mini-2024-07-18', 'combined_model_name': 'azure/gpt-4o-mini-2024-07-18', 'stripped_model_name': 'gpt-4o-mini-2024-07-18', 'combined_stripped_model_name': 'azure/gpt-4o-mini-2024-07-18', 'custom_llm_provider': 'azure'}
python_service-1  | [92m11:20:56 - LiteLLM:DEBUG[0m: utils.py:4453 - model_info: {'key': 'azure/gpt-4o-mini-2024-07-18', 'max_tokens': 16384, 'max_input_tokens': 128000, 'max_output_tokens': 16384, 'input_cost_per_token': 1.65e-07, 'cache_creation_input_token_cost': None, 'cache_read_input_token_cost': 7.5e-08, 'input_cost_per_character': None, 'input_cost_per_token_above_128k_tokens': None, 'input_cost_per_query': None, 'input_cost_per_second': None, 'input_cost_per_audio_token': None, 'output_cost_per_token': 6.6e-07, 'output_cost_per_audio_token': None, 'output_cost_per_character': None, 'output_cost_per_token_above_128k_tokens': None, 'output_cost_per_character_above_128k_tokens': None, 'output_cost_per_second': None, 'output_cost_per_image': None, 'output_vector_size': None, 'litellm_provider': 'azure', 'mode': 'chat', 'supports_system_messages': None, 'supports_response_schema': True, 'supports_vision': True, 'supports_function_calling': True, 'supports_tool_choice': True, 'supports_assistant_prefill': False, 'supports_prompt_caching': True, 'supports_audio_input': False, 'supports_audio_output': False, 'supports_pdf_input': False, 'supports_embedding_image_input': False, 'supports_native_streaming': None, 'tpm': None, 'rpm': None}
python_service-1  | DEBUG:LiteLLM:model_info: {'key': 'azure/gpt-4o-mini-2024-07-18', 'max_tokens': 16384, 'max_input_tokens': 128000, 'max_output_tokens': 16384, 'input_cost_per_token': 1.65e-07, 'cache_creation_input_token_cost': None, 'cache_read_input_token_cost': 7.5e-08, 'input_cost_per_character': None, 'input_cost_per_token_above_128k_tokens': None, 'input_cost_per_query': None, 'input_cost_per_second': None, 'input_cost_per_audio_token': None, 'output_cost_per_token': 6.6e-07, 'output_cost_per_audio_token': None, 'output_cost_per_character': None, 'output_cost_per_token_above_128k_tokens': None, 'output_cost_per_character_above_128k_tokens': None, 'output_cost_per_second': None, 'output_cost_per_image': None, 'output_vector_size': None, 'litellm_provider': 'azure', 'mode': 'chat', 'supports_system_messages': None, 'supports_response_schema': True, 'supports_vision': True, 'supports_function_calling': True, 'supports_tool_choice': True, 'supports_assistant_prefill': False, 'supports_prompt_caching': True, 'supports_audio_input': False, 'supports_audio_output': False, 'supports_pdf_input': False, 'supports_embedding_image_input': False, 'supports_native_streaming': None, 'tpm': None, 'rpm': None}
python_service-1  | [92m11:20:56 - LiteLLM:DEBUG[0m: litellm_logging.py:1040 - Logging Details LiteLLM-Success Call streaming complete
python_service-1  | WARNING:app.llm.extractor:No base codes available, using pattern matching
python_service-1  | DEBUG:LiteLLM:Logging Details LiteLLM-Success Call streaming complete
python_service-1  | [92m11:20:56 - LiteLLM:DEBUG[0m: cost_calculator.py:563 - completion_response _select_model_name_for_cost_calc: azure/gpt-4o-mini-2024-07-18
python_service-1  | DEBUG:app.llm.extractor:Added valid code: o_SF
python_service-1  | DEBUG:app.llm.extractor:Checking field: o_GF1-3
python_service-1  | WARNING:app.llm.extractor:No base codes available, using pattern matching
python_service-1  | DEBUG:LiteLLM:completion_response _select_model_name_for_cost_calc: azure/gpt-4o-mini-2024-07-18
python_service-1  | [92m11:20:56 - LiteLLM:DEBUG[0m: utils.py:4175 - checking potential_model_names in litellm.model_cost: {'split_model': 'gpt-4o-mini-2024-07-18', 'combined_model_name': 'azure/gpt-4o-mini-2024-07-18', 'stripped_model_name': 'gpt-4o-mini-2024-07-18', 'combined_stripped_model_name': 'azure/gpt-4o-mini-2024-07-18', 'custom_llm_provider': 'azure'}
python_service-1  | DEBUG:LiteLLM:checking potential_model_names in litellm.model_cost: {'split_model': 'gpt-4o-mini-2024-07-18', 'combined_model_name': 'azure/gpt-4o-mini-2024-07-18', 'stripped_model_name': 'gpt-4o-mini-2024-07-18', 'combined_stripped_model_name': 'azure/gpt-4o-mini-2024-07-18', 'custom_llm_provider': 'azure'}
python_service-1  | [92m11:20:56 - LiteLLM:DEBUG[0m: utils.py:4453 - model_info: {'key': 'azure/gpt-4o-mini-2024-07-18', 'max_tokens': 16384, 'max_input_tokens': 128000, 'max_output_tokens': 16384, 'input_cost_per_token': 1.65e-07, 'cache_creation_input_token_cost': None, 'cache_read_input_token_cost': 7.5e-08, 'input_cost_per_character': None, 'input_cost_per_token_above_128k_tokens': None, 'input_cost_per_query': None, 'input_cost_per_second': None, 'input_cost_per_audio_token': None, 'output_cost_per_token': 6.6e-07, 'output_cost_per_audio_token': None, 'output_cost_per_character': None, 'output_cost_per_token_above_128k_tokens': None, 'output_cost_per_character_above_128k_tokens': None, 'output_cost_per_second': None, 'output_cost_per_image': None, 'output_vector_size': None, 'litellm_provider': 'azure', 'mode': 'chat', 'supports_system_messages': None, 'supports_response_schema': True, 'supports_vision': True, 'supports_function_calling': True, 'supports_tool_choice': True, 'supports_assistant_prefill': False, 'supports_prompt_caching': True, 'supports_audio_input': False, 'supports_audio_output': False, 'supports_pdf_input': False, 'supports_embedding_image_input': False, 'supports_native_streaming': None, 'tpm': None, 'rpm': None}
python_service-1  | DEBUG:LiteLLM:model_info: {'key': 'azure/gpt-4o-mini-2024-07-18', 'max_tokens': 16384, 'max_input_tokens': 128000, 'max_output_tokens': 16384, 'input_cost_per_token': 1.65e-07, 'cache_creation_input_token_cost': None, 'cache_read_input_token_cost': 7.5e-08, 'input_cost_per_character': None, 'input_cost_per_token_above_128k_tokens': None, 'input_cost_per_query': None, 'input_cost_per_second': None, 'input_cost_per_audio_token': None, 'output_cost_per_token': 6.6e-07, 'output_cost_per_audio_token': None, 'output_cost_per_character': None, 'output_cost_per_token_above_128k_tokens': None, 'output_cost_per_character_above_128k_tokens': None, 'output_cost_per_second': None, 'output_cost_per_image': None, 'output_vector_size': None, 'litellm_provider': 'azure', 'mode': 'chat', 'supports_system_messages': None, 'supports_response_schema': True, 'supports_vision': True, 'supports_function_calling': True, 'supports_tool_choice': True, 'supports_assistant_prefill': False, 'supports_prompt_caching': True, 'supports_audio_input': False, 'supports_audio_output': False, 'supports_pdf_input': False, 'supports_embedding_image_input': False, 'supports_native_streaming': None, 'tpm': None, 'rpm': None}
python_service-1  | [92m11:20:56 - LiteLLM:DEBUG[0m: litellm_logging.py:861 - response_cost_failure_debug_information: {'error_str': "'CompletionUsage' object is not subscriptable", 'traceback_str': 'Traceback (most recent call last):\n  File "/usr/local/lib/python3.12/site-packages/litellm/litellm_core_utils/litellm_logging.py", line 843, in _response_cost_calculator\n    response_cost = litellm.response_cost_calculator(\n                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "/usr/local/lib/python3.12/site-packages/litellm/cost_calculator.py", line 833, in response_cost_calculator\n    raise e\n  File "/usr/local/lib/python3.12/site-packages/litellm/cost_calculator.py", line 821, in response_cost_calculator\n    response_cost = completion_cost(\n                    ^^^^^^^^^^^^^^^^\n  File "/usr/local/lib/python3.12/site-packages/litellm/cost_calculator.py", line 771, in completion_cost\n    raise e\n  File "/usr/local/lib/python3.12/site-packages/litellm/cost_calculator.py", line 750, in completion_cost\n    ) = cost_per_token(\n        ^^^^^^^^^^^^^^^\n  File "/usr/local/lib/python3.12/site-packages/litellm/cost_calculator.py", line 279, in cost_per_token\n    return azure_openai_cost_per_token(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "/usr/local/lib/python3.12/site-packages/litellm/llms/azure/cost_calculation.py", line 38, in cost_per_token\n    usage["completion_tokens"] * model_info["output_cost_per_token"]\n    ~~~~~^^^^^^^^^^^^^^^^^^^^^\nTypeError: \'CompletionUsage\' object is not subscriptable\n', 'model': 'gpt-4o-mini', 'cache_hit': None, 'custom_llm_provider': 'azure', 'base_model': None, 'call_type': 'completion', 'custom_pricing': False}
python_service-1  | DEBUG:app.llm.extractor:Added valid code: o_GF1-3
python_service-1  | DEBUG:app.llm.extractor:Checking field: BR
python_service-1  | DEBUG:LiteLLM:response_cost_failure_debug_information: {'error_str': "'CompletionUsage' object is not subscriptable", 'traceback_str': 'Traceback (most recent call last):\n  File "/usr/local/lib/python3.12/site-packages/litellm/litellm_core_utils/litellm_logging.py", line 843, in _response_cost_calculator\n    response_cost = litellm.response_cost_calculator(\n                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "/usr/local/lib/python3.12/site-packages/litellm/cost_calculator.py", line 833, in response_cost_calculator\n    raise e\n  File "/usr/local/lib/python3.12/site-packages/litellm/cost_calculator.py", line 821, in response_cost_calculator\n    response_cost = completion_cost(\n                    ^^^^^^^^^^^^^^^^\n  File "/usr/local/lib/python3.12/site-packages/litellm/cost_calculator.py", line 771, in completion_cost\n    raise e\n  File "/usr/local/lib/python3.12/site-packages/litellm/cost_calculator.py", line 750, in completion_cost\n    ) = cost_per_token(\n        ^^^^^^^^^^^^^^^\n  File "/usr/local/lib/python3.12/site-packages/litellm/cost_calculator.py", line 279, in cost_per_token\n    return azure_openai_cost_per_token(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "/usr/local/lib/python3.12/site-packages/litellm/llms/azure/cost_calculation.py", line 38, in cost_per_token\n    usage["completion_tokens"] * model_info["output_cost_per_token"]\n    ~~~~~^^^^^^^^^^^^^^^^^^^^^\nTypeError: \'CompletionUsage\' object is not subscriptable\n', 'model': 'gpt-4o-mini', 'cache_hit': None, 'custom_llm_provider': 'azure', 'base_model': None, 'call_type': 'completion', 'custom_pricing': False}
python_service-1  | [92m11:20:56 - LiteLLM:DEBUG[0m: utils.py:4175 - checking potential_model_names in litellm.model_cost: {'split_model': 'gpt-4o-mini-2024-07-18', 'combined_model_name': 'azure/gpt-4o-mini-2024-07-18', 'stripped_model_name': 'gpt-4o-mini-2024-07-18', 'combined_stripped_model_name': 'azure/gpt-4o-mini-2024-07-18', 'custom_llm_provider': 'azure'}
python_service-1  | WARNING:app.llm.extractor:No base codes available, using pattern matching
python_service-1  | DEBUG:app.llm.extractor:Checking field: Pbl. ¬ß 12-5, nr 2
python_service-1  | WARNING:app.llm.extractor:No base codes available, using pattern matching
python_service-1  | DEBUG:app.llm.extractor:Checking field: BIA
python_service-1  | WARNING:app.llm.extractor:No base codes available, using pattern matching
python_service-1  | DEBUG:app.llm.extractor:Checking field: Pbl. ¬ß 12-5, 2. ledd nr 3
python_service-1  | WARNING:app.llm.extractor:No base codes available, using pattern matching
python_service-1  | DEBUG:app.llm.extractor:Checking field: o_GTD1-2
python_service-1  | WARNING:app.llm.extractor:No base codes available, using pattern matching
python_service-1  | DEBUG:app.llm.extractor:Added valid code: o_GTD1-2
python_service-1  | DEBUG:app.llm.extractor:Checking field: Pbl. ¬ß 12-7 nr. 10
python_service-1  | WARNING:app.llm.extractor:No base codes available, using pattern matching
python_service-1  | DEBUG:app.llm.extractor:Checking field: o_SPA
python_service-1  | WARNING:app.llm.extractor:No base codes available, using pattern matching
python_service-1  | DEBUG:app.llm.extractor:Added valid code: o_SPA
python_service-1  | DEBUG:app.llm.extractor:Checking field: BE
python_service-1  | WARNING:app.llm.extractor:No base codes available, using pattern matching
python_service-1  | DEBUG:app.llm.extractor:Checking field: Pbl. ¬ß 12-5, nr 1
python_service-1  | DEBUG:LiteLLM:checking potential_model_names in litellm.model_cost: {'split_model': 'gpt-4o-mini-2024-07-18', 'combined_model_name': 'azure/gpt-4o-mini-2024-07-18', 'stripped_model_name': 'gpt-4o-mini-2024-07-18', 'combined_stripped_model_name': 'azure/gpt-4o-mini-2024-07-18', 'custom_llm_provider': 'azure'}
python_service-1  | [92m11:20:56 - LiteLLM:DEBUG[0m: utils.py:4453 - model_info: {'key': 'azure/gpt-4o-mini-2024-07-18', 'max_tokens': 16384, 'max_input_tokens': 128000, 'max_output_tokens': 16384, 'input_cost_per_token': 1.65e-07, 'cache_creation_input_token_cost': None, 'cache_read_input_token_cost': 7.5e-08, 'input_cost_per_character': None, 'input_cost_per_token_above_128k_tokens': None, 'input_cost_per_query': None, 'input_cost_per_second': None, 'input_cost_per_audio_token': None, 'output_cost_per_token': 6.6e-07, 'output_cost_per_audio_token': None, 'output_cost_per_character': None, 'output_cost_per_token_above_128k_tokens': None, 'output_cost_per_character_above_128k_tokens': None, 'output_cost_per_second': None, 'output_cost_per_image': None, 'output_vector_size': None, 'litellm_provider': 'azure', 'mode': 'chat', 'supports_system_messages': None, 'supports_response_schema': True, 'supports_vision': True, 'supports_function_calling': True, 'supports_tool_choice': True, 'supports_assistant_prefill': False, 'supports_prompt_caching': True, 'supports_audio_input': False, 'supports_audio_output': False, 'supports_pdf_input': False, 'supports_embedding_image_input': False, 'supports_native_streaming': None, 'tpm': None, 'rpm': None}
python_service-1  | WARNING:app.llm.extractor:No base codes available, using pattern matching
python_service-1  | DEBUG:LiteLLM:model_info: {'key': 'azure/gpt-4o-mini-2024-07-18', 'max_tokens': 16384, 'max_input_tokens': 128000, 'max_output_tokens': 16384, 'input_cost_per_token': 1.65e-07, 'cache_creation_input_token_cost': None, 'cache_read_input_token_cost': 7.5e-08, 'input_cost_per_character': None, 'input_cost_per_token_above_128k_tokens': None, 'input_cost_per_query': None, 'input_cost_per_second': None, 'input_cost_per_audio_token': None, 'output_cost_per_token': 6.6e-07, 'output_cost_per_audio_token': None, 'output_cost_per_character': None, 'output_cost_per_token_above_128k_tokens': None, 'output_cost_per_character_above_128k_tokens': None, 'output_cost_per_second': None, 'output_cost_per_image': None, 'output_vector_size': None, 'litellm_provider': 'azure', 'mode': 'chat', 'supports_system_messages': None, 'supports_response_schema': True, 'supports_vision': True, 'supports_function_calling': True, 'supports_tool_choice': True, 'supports_assistant_prefill': False, 'supports_prompt_caching': True, 'supports_audio_input': False, 'supports_audio_output': False, 'supports_pdf_input': False, 'supports_embedding_image_input': False, 'supports_native_streaming': None, 'tpm': None, 'rpm': None}
python_service-1  | INFO:app.llm.extractor:Extracted fields: {'BKS', 'O_SV3', 'O_GTD1-2', 'O_SF', 'O_GF1-3', 'O_SPA', 'O_SV1'}
python_service-1  | INFO:app.main:Field consistency check completed successfully
python_service-1  | INFO:     172.19.0.4:48702 - "POST /api/check-field-consistency HTTP/1.1" 200 OK
python_service-1  | DEBUG:python_multipart.multipart:Calling on_part_begin with no data
python_service-1  | DEBUG:python_multipart.multipart:Calling on_header_field with data[40:52]
python_service-1  | DEBUG:python_multipart.multipart:Calling on_header_value with data[54:69]
python_service-1  | DEBUG:python_multipart.multipart:Calling on_header_end with no data
python_service-1  | DEBUG:python_multipart.multipart:Calling on_header_field with data[71:90]
python_service-1  | DEBUG:python_multipart.multipart:Calling on_header_value with data[92:226]
python_service-1  | DEBUG:python_multipart.multipart:Calling on_header_end with no data
python_service-1  | DEBUG:python_multipart.multipart:Calling on_headers_finished with no data
python_service-1  | DEBUG:python_multipart.multipart:Calling on_part_data with data[230:11059]
python_service-1  | DEBUG:python_multipart.multipart:Calling on_part_data with data[0:108600]
python_service-1  | DEBUG:python_multipart.multipart:Calling on_part_data with data[0:94208]
python_service-1  | DEBUG:python_multipart.multipart:Calling on_part_data with data[0:262144]
python_service-1  | DEBUG:python_multipart.multipart:Calling on_part_data with data[0:55250]
python_service-1  | DEBUG:python_multipart.multipart:Calling on_part_end with no data
python_service-1  | DEBUG:python_multipart.multipart:Calling on_part_begin with no data
python_service-1  | DEBUG:python_multipart.multipart:Calling on_header_field with data[55292:55304]
python_service-1  | DEBUG:python_multipart.multipart:Calling on_header_value with data[55306:55321]
python_service-1  | DEBUG:python_multipart.multipart:Calling on_header_end with no data
python_service-1  | DEBUG:python_multipart.multipart:Calling on_header_field with data[55323:55342]
python_service-1  | DEBUG:python_multipart.multipart:Calling on_header_value with data[55344:55482]
python_service-1  | DEBUG:python_multipart.multipart:Calling on_header_end with no data
python_service-1  | DEBUG:python_multipart.multipart:Calling on_headers_finished with no data
python_service-1  | DEBUG:python_multipart.multipart:Calling on_part_data with data[55486:238483]
python_service-1  | DEBUG:python_multipart.multipart:Calling on_part_end with no data
python_service-1  | DEBUG:python_multipart.multipart:Calling on_end with no data
python_service-1  | INFO:app.main:Received files: plankart=85839753-a332-43e6-9c00-c63b8d47d47a.pdf, bestemmelser=d0e59642-f6c9-4e44-af97-38b2a9500197.pdf
python_service-1  | DEBUG:app.llm.extractor:Raw text from PDF: [{'content': 'Alfred Uglands veg\nEvje aktivitetspark\n50/132\n50/40\nGudvangen\n49/70\n49/87\n42/12\n49/78\n49/8050/128\n50/139\n50/101\n50/89\n49/77\n49/83\n50/6650/127 50/151\n42/51\n49/10\n49/82\n49/86\n50/40\n50/40\n50/59\n50/71\n50/132\n50/148\n50/155\n50/158\n50/600\n42/25\n50/637\nBR\nBIA\no_SPA\no_GF3\no_GF1\no_GF2\no_GTD1\no_GTD2\nA=2889 m¬≤\n%-BYA=\n40%\nBKS\nA=3304 m¬≤\n%-BYA=45%\no_SV1\no_SV3\nf_BE\nH220\nH210\n#01 SN√ò\n#02 SN√ò\nPlanert terreng =c+182,0moh\nH320\nVegstenges\no_SF2\no_SF1\n√ò430350\n√ò430425\n√ò430500\n√ò430575\nN6494250\nN6494325 N6494400\nN6494475\nN\n01937.5m\nTegnforklaring\nReguleringsplan PBL 2008\n¬ß12-5. Nr. 1 - Bebyggelse og anlegg\nBoligbebyggelse-konsentrert\nsm√•husbebyggelseBKS\nForsamlingslokale for\nreligionsut√∏velseBR\nIdrettsanleggBIA\nEnergianleggBE\n¬ß12-5. Nr. 2 - Samferdselsanlegg og\nteknisk infrastruktur\nVeg SV\nFortau SF\nParkering SPA\n¬ß12-5. Nr. 3 - Gr√∏nnstruktur\nTurdrag GTD\nFriomr√•deGF\n¬ß12-6 - Hensynssoner\nR√∏d sone iht. T-1442H210\nGul sone iht. T-1442H220\nFlomfare H320\n¬ß12-7 - Bestemmelseomr√•der\nVilk√•r for bruk av arealer, bygninger\nog anlegg #0 SN√ò\nLinjesymbol\nGrense for st√∏ysone\nGrense for faresone\nPlanens begrensning\nForm√•lgrense\nBestemmelsegrense\nByggegrense\nFrisiktlinje\nPunktsymboler\nStenging av avkj√∏rsel\nAvkj√∏rsel - b√•de inn og utkj√∏ring\nKartopplysninger\nKilde for basiskart:\nDato for basiskart:\nKoordinatsystem:\nH√∏ydegrunnlag:\nEkvidistanse:\nKartm√•lestokk:\n1m1:750\nKartverket 05.11.2019\nETRS89.UTM-32N\nNN2000\nDato\nArealplan-ID:\nForslagsstiller:\nSAKS-\nNR\nDATO SIGN\nTEGNNR. DATO SIGN.\nMed tilh√∏rende reguleringsbestemmelser\nSAKSBEHANDLING ETTER PLAN- OG BYGNINGSLOVEN\nPLANEN ER UTARBEIDET AV:\nDato\nDato\nDato\nRevisjon\nRevisjonRevisjon\nKommunestyret sitt vedtak\nDet bekreftes at planen er i samsvar med kommunestyrets vedtak av 16.06.202223.06.2022Siv Therese Kile Lie\nPlansjef\n4219_202102\nDeep Capital Investments AS\n11.05.2022 S√ÖF\n2021/215 \n10.02.22\n18.03.21 \n 04.03.21\nEvje og Hornnes\nkommune\nDetaljregulering\nSt√∏peritomta\nPLANKONSULENT\n2. gangs behandling\nOffentlig ettersyn fra 17.03.2022  til 28.04.2022\n1. gangs behandling i Planutvalget\nKunngj√∏ring av oppstart av planarbeid\nOppstartsm√∏te 04.03.21\n4/22 \n42/22 19.05.22\n16.06.22 59/22 STL\nSTL\nSTL'}]...
python_service-1  | [92m11:22:39 - LiteLLM:DEBUG[0m: utils.py:298 - 
python_service-1  | 
python_service-1  | DEBUG:LiteLLM:
python_service-1  | 
python_service-1  | [92m11:22:39 - LiteLLM:DEBUG[0m: utils.py:298 - [92mRequest to litellm:[0m
python_service-1  | DEBUG:LiteLLM:[92mRequest to litellm:[0m
python_service-1  | [92m11:22:39 - LiteLLM:DEBUG[0m: utils.py:298 - [92mlitellm.completion(messages=[{'role': 'system', 'content': 'You are a server API that receives document information and returns specific fields in JSON format.\n\n\n        As a genius expert, your task is to understand the content and provide\n        the parsed objects in json that match the following json_schema:\n\n\n        {\n  "description": "Contract for field extraction from regulatory documents.\\n\\nDefines the structure and prompt for extracting regulation codes from\\nNorwegian planning documents (plankart and bestemmelser).\\n\\nAttributes:\\n    fields (Set[str]): Set of extracted regulation codes",\n  "properties": {\n    "fields": {\n      "items": {\n        "type": "string"\n      },\n      "title": "Fields",\n      "type": "array",\n      "uniqueItems": true\n    }\n  },\n  "required": [\n    "fields"\n  ],\n  "title": "FieldExtractContract",\n  "type": "object"\n}\n\n        Make sure to return an instance of the JSON, not the schema itself\n'}, {'role': 'user', 'content': '##Content\n\n{content: "Alfred Uglands veg\\nEvje aktivitetspark\\n50/132\\n50/40\\nGudvangen\\n49/70\\n\\\n    49/87\\n42/12\\n49/78\\n49/8050/128\\n50/139\\n50/101\\n50/89\\n49/77\\n49/83\\n50/6650/127\\\n    \\ 50/151\\n42/51\\n49/10\\n49/82\\n49/86\\n50/40\\n50/40\\n50/59\\n50/71\\n50/132\\n50/148\\n\\\n    50/155\\n50/158\\n50/600\\n42/25\\n50/637\\nBR\\nBIA\\no_SPA\\no_GF3\\no_GF1\\no_GF2\\no_GTD1\\n\\\n    o_GTD2\\nA=2889 m\\xB2\\n%-BYA=\\n40%\\nBKS\\nA=3304 m\\xB2\\n%-BYA=45%\\no_SV1\\no_SV3\\n\\\n    f_BE\\nH220\\nH210\\n#01 SN\\xD8\\n#02 SN\\xD8\\nPlanert terreng =c+182,0moh\\nH320\\n\\\n    Vegstenges\\no_SF2\\no_SF1\\n\\xD8430350\\n\\xD8430425\\n\\xD8430500\\n\\xD8430575\\nN6494250\\n\\\n    N6494325 N6494400\\nN6494475\\nN\\n01937.5m\\nTegnforklaring\\nReguleringsplan PBL\\\n    \\ 2008\\n\\xA712-5. Nr. 1 - Bebyggelse og anlegg\\nBoligbebyggelse-konsentrert\\n\\\n    sm\\xE5husbebyggelseBKS\\nForsamlingslokale for\\nreligionsut\\xF8velseBR\\nIdrettsanleggBIA\\n\\\n    EnergianleggBE\\n\\xA712-5. Nr. 2 - Samferdselsanlegg og\\nteknisk infrastruktur\\n\\\n    Veg SV\\nFortau SF\\nParkering SPA\\n\\xA712-5. Nr. 3 - Gr\\xF8nnstruktur\\nTurdrag\\\n    \\ GTD\\nFriomr\\xE5deGF\\n\\xA712-6 - Hensynssoner\\nR\\xF8d sone iht. T-1442H210\\n\\\n    Gul sone iht. T-1442H220\\nFlomfare H320\\n\\xA712-7 - Bestemmelseomr\\xE5der\\nVilk\\xE5\\\n    r for bruk av arealer, bygninger\\nog anlegg #0 SN\\xD8\\nLinjesymbol\\nGrense for\\\n    \\ st\\xF8ysone\\nGrense for faresone\\nPlanens begrensning\\nForm\\xE5lgrense\\nBestemmelsegrense\\n\\\n    Byggegrense\\nFrisiktlinje\\nPunktsymboler\\nStenging av avkj\\xF8rsel\\nAvkj\\xF8rsel\\\n    \\ - b\\xE5de inn og utkj\\xF8ring\\nKartopplysninger\\nKilde for basiskart:\\nDato\\\n    \\ for basiskart:\\nKoordinatsystem:\\nH\\xF8ydegrunnlag:\\nEkvidistanse:\\nKartm\\xE5\\\n    lestokk:\\n1m1:750\\nKartverket 05.11.2019\\nETRS89.UTM-32N\\nNN2000\\nDato\\nArealplan-ID:\\n\\\n    Forslagsstiller:\\nSAKS-\\nNR\\nDATO SIGN\\nTEGNNR. DATO SIGN.\\nMed tilh\\xF8rende\\\n    \\ reguleringsbestemmelser\\nSAKSBEHANDLING ETTER PLAN- OG BYGNINGSLOVEN\\nPLANEN\\\n    \\ ER UTARBEIDET AV:\\nDato\\nDato\\nDato\\nRevisjon\\nRevisjonRevisjon\\nKommunestyret\\\n    \\ sitt vedtak\\nDet bekreftes at planen er i samsvar med kommunestyrets vedtak\\\n    \\ av 16.06.202223.06.2022Siv Therese Kile Lie\\nPlansjef\\n4219_202102\\nDeep Capital\\\n    \\ Investments AS\\n11.05.2022 S\\xC5F\\n2021/215 \\n10.02.22\\n18.03.21 \\n 04.03.21\\n\\\n    Evje og Hornnes\\nkommune\\nDetaljregulering\\nSt\\xF8peritomta\\nPLANKONSULENT\\n2.\\\n    \\ gangs behandling\\nOffentlig ettersyn fra 17.03.2022  til 28.04.2022\\n1. gangs\\\n    \\ behandling i Planutvalget\\nKunngj\\xF8ring av oppstart av planarbeid\\nOppstartsm\\xF8\\\n    te 04.03.21\\n4/22 \\n42/22 19.05.22\\n16.06.22 59/22 STL\\nSTL\\nSTL", images: [],\n  metadata: {num_pages: 1}}\n\n\nReturn the correct JSON response within a ```json codeblock. not the JSON_SCHEMA'}], model='azure/gpt-4o-mini', temperature=0, max_tokens=4000, timeout=3000)[0m
python_service-1  | DEBUG:LiteLLM:[92mlitellm.completion(messages=[{'role': 'system', 'content': 'You are a server API that receives document information and returns specific fields in JSON format.\n\n\n        As a genius expert, your task is to understand the content and provide\n        the parsed objects in json that match the following json_schema:\n\n\n        {\n  "description": "Contract for field extraction from regulatory documents.\\n\\nDefines the structure and prompt for extracting regulation codes from\\nNorwegian planning documents (plankart and bestemmelser).\\n\\nAttributes:\\n    fields (Set[str]): Set of extracted regulation codes",\n  "properties": {\n    "fields": {\n      "items": {\n        "type": "string"\n      },\n      "title": "Fields",\n      "type": "array",\n      "uniqueItems": true\n    }\n  },\n  "required": [\n    "fields"\n  ],\n  "title": "FieldExtractContract",\n  "type": "object"\n}\n\n        Make sure to return an instance of the JSON, not the schema itself\n'}, {'role': 'user', 'content': '##Content\n\n{content: "Alfred Uglands veg\\nEvje aktivitetspark\\n50/132\\n50/40\\nGudvangen\\n49/70\\n\\\n    49/87\\n42/12\\n49/78\\n49/8050/128\\n50/139\\n50/101\\n50/89\\n49/77\\n49/83\\n50/6650/127\\\n    \\ 50/151\\n42/51\\n49/10\\n49/82\\n49/86\\n50/40\\n50/40\\n50/59\\n50/71\\n50/132\\n50/148\\n\\\n    50/155\\n50/158\\n50/600\\n42/25\\n50/637\\nBR\\nBIA\\no_SPA\\no_GF3\\no_GF1\\no_GF2\\no_GTD1\\n\\\n    o_GTD2\\nA=2889 m\\xB2\\n%-BYA=\\n40%\\nBKS\\nA=3304 m\\xB2\\n%-BYA=45%\\no_SV1\\no_SV3\\n\\\n    f_BE\\nH220\\nH210\\n#01 SN\\xD8\\n#02 SN\\xD8\\nPlanert terreng =c+182,0moh\\nH320\\n\\\n    Vegstenges\\no_SF2\\no_SF1\\n\\xD8430350\\n\\xD8430425\\n\\xD8430500\\n\\xD8430575\\nN6494250\\n\\\n    N6494325 N6494400\\nN6494475\\nN\\n01937.5m\\nTegnforklaring\\nReguleringsplan PBL\\\n    \\ 2008\\n\\xA712-5. Nr. 1 - Bebyggelse og anlegg\\nBoligbebyggelse-konsentrert\\n\\\n    sm\\xE5husbebyggelseBKS\\nForsamlingslokale for\\nreligionsut\\xF8velseBR\\nIdrettsanleggBIA\\n\\\n    EnergianleggBE\\n\\xA712-5. Nr. 2 - Samferdselsanlegg og\\nteknisk infrastruktur\\n\\\n    Veg SV\\nFortau SF\\nParkering SPA\\n\\xA712-5. Nr. 3 - Gr\\xF8nnstruktur\\nTurdrag\\\n    \\ GTD\\nFriomr\\xE5deGF\\n\\xA712-6 - Hensynssoner\\nR\\xF8d sone iht. T-1442H210\\n\\\n    Gul sone iht. T-1442H220\\nFlomfare H320\\n\\xA712-7 - Bestemmelseomr\\xE5der\\nVilk\\xE5\\\n    r for bruk av arealer, bygninger\\nog anlegg #0 SN\\xD8\\nLinjesymbol\\nGrense for\\\n    \\ st\\xF8ysone\\nGrense for faresone\\nPlanens begrensning\\nForm\\xE5lgrense\\nBestemmelsegrense\\n\\\n    Byggegrense\\nFrisiktlinje\\nPunktsymboler\\nStenging av avkj\\xF8rsel\\nAvkj\\xF8rsel\\\n    \\ - b\\xE5de inn og utkj\\xF8ring\\nKartopplysninger\\nKilde for basiskart:\\nDato\\\n    \\ for basiskart:\\nKoordinatsystem:\\nH\\xF8ydegrunnlag:\\nEkvidistanse:\\nKartm\\xE5\\\n    lestokk:\\n1m1:750\\nKartverket 05.11.2019\\nETRS89.UTM-32N\\nNN2000\\nDato\\nArealplan-ID:\\n\\\n    Forslagsstiller:\\nSAKS-\\nNR\\nDATO SIGN\\nTEGNNR. DATO SIGN.\\nMed tilh\\xF8rende\\\n    \\ reguleringsbestemmelser\\nSAKSBEHANDLING ETTER PLAN- OG BYGNINGSLOVEN\\nPLANEN\\\n    \\ ER UTARBEIDET AV:\\nDato\\nDato\\nDato\\nRevisjon\\nRevisjonRevisjon\\nKommunestyret\\\n    \\ sitt vedtak\\nDet bekreftes at planen er i samsvar med kommunestyrets vedtak\\\n    \\ av 16.06.202223.06.2022Siv Therese Kile Lie\\nPlansjef\\n4219_202102\\nDeep Capital\\\n    \\ Investments AS\\n11.05.2022 S\\xC5F\\n2021/215 \\n10.02.22\\n18.03.21 \\n 04.03.21\\n\\\n    Evje og Hornnes\\nkommune\\nDetaljregulering\\nSt\\xF8peritomta\\nPLANKONSULENT\\n2.\\\n    \\ gangs behandling\\nOffentlig ettersyn fra 17.03.2022  til 28.04.2022\\n1. gangs\\\n    \\ behandling i Planutvalget\\nKunngj\\xF8ring av oppstart av planarbeid\\nOppstartsm\\xF8\\\n    te 04.03.21\\n4/22 \\n42/22 19.05.22\\n16.06.22 59/22 STL\\nSTL\\nSTL", images: [],\n  metadata: {num_pages: 1}}\n\n\nReturn the correct JSON response within a ```json codeblock. not the JSON_SCHEMA'}], model='azure/gpt-4o-mini', temperature=0, max_tokens=4000, timeout=3000)[0m
python_service-1  | [92m11:22:39 - LiteLLM:DEBUG[0m: utils.py:298 - 
python_service-1  | 
python_service-1  | DEBUG:LiteLLM:
python_service-1  | 
python_service-1  | [92m11:22:39 - LiteLLM:DEBUG[0m: litellm_logging.py:377 - self.optional_params: {}
python_service-1  | DEBUG:LiteLLM:self.optional_params: {}
python_service-1  | [92m11:22:39 - LiteLLM:DEBUG[0m: utils.py:298 - SYNC kwargs[caching]: False; litellm.cache: None; kwargs.get('cache')['no-cache']: False
python_service-1  | DEBUG:LiteLLM:SYNC kwargs[caching]: False; litellm.cache: None; kwargs.get('cache')['no-cache']: False
python_service-1  | [92m11:22:39 - LiteLLM:DEBUG[0m: transformation.py:126 - Translating developer role to system role for non-OpenAI providers.
python_service-1  | DEBUG:LiteLLM:Translating developer role to system role for non-OpenAI providers.
python_service-1  | [92m11:22:39 - LiteLLM:INFO[0m: utils.py:2905 - 
python_service-1  | LiteLLM completion() model= gpt-4o-mini; provider = azure
python_service-1  | INFO:LiteLLM:
python_service-1  | LiteLLM completion() model= gpt-4o-mini; provider = azure
python_service-1  | [92m11:22:39 - LiteLLM:DEBUG[0m: utils.py:2908 - 
python_service-1  | LiteLLM: Params passed to completion() {'model': 'gpt-4o-mini', 'functions': None, 'function_call': None, 'temperature': 0, 'top_p': None, 'n': None, 'stream': None, 'stream_options': None, 'stop': None, 'max_tokens': 4000, 'max_completion_tokens': None, 'modalities': None, 'prediction': None, 'audio': None, 'presence_penalty': None, 'frequency_penalty': None, 'logit_bias': None, 'user': None, 'custom_llm_provider': 'azure', 'response_format': None, 'seed': None, 'tools': None, 'tool_choice': None, 'max_retries': None, 'logprobs': None, 'top_logprobs': None, 'extra_headers': None, 'api_version': None, 'parallel_tool_calls': None, 'drop_params': None, 'reasoning_effort': None, 'additional_drop_params': None, 'messages': [{'role': 'system', 'content': 'You are a server API that receives document information and returns specific fields in JSON format.\n\n\n        As a genius expert, your task is to understand the content and provide\n        the parsed objects in json that match the following json_schema:\n\n\n        {\n  "description": "Contract for field extraction from regulatory documents.\\n\\nDefines the structure and prompt for extracting regulation codes from\\nNorwegian planning documents (plankart and bestemmelser).\\n\\nAttributes:\\n    fields (Set[str]): Set of extracted regulation codes",\n  "properties": {\n    "fields": {\n      "items": {\n        "type": "string"\n      },\n      "title": "Fields",\n      "type": "array",\n      "uniqueItems": true\n    }\n  },\n  "required": [\n    "fields"\n  ],\n  "title": "FieldExtractContract",\n  "type": "object"\n}\n\n        Make sure to return an instance of the JSON, not the schema itself\n'}, {'role': 'user', 'content': '##Content\n\n{content: "Alfred Uglands veg\\nEvje aktivitetspark\\n50/132\\n50/40\\nGudvangen\\n49/70\\n\\\n    49/87\\n42/12\\n49/78\\n49/8050/128\\n50/139\\n50/101\\n50/89\\n49/77\\n49/83\\n50/6650/127\\\n    \\ 50/151\\n42/51\\n49/10\\n49/82\\n49/86\\n50/40\\n50/40\\n50/59\\n50/71\\n50/132\\n50/148\\n\\\n    50/155\\n50/158\\n50/600\\n42/25\\n50/637\\nBR\\nBIA\\no_SPA\\no_GF3\\no_GF1\\no_GF2\\no_GTD1\\n\\\n    o_GTD2\\nA=2889 m\\xB2\\n%-BYA=\\n40%\\nBKS\\nA=3304 m\\xB2\\n%-BYA=45%\\no_SV1\\no_SV3\\n\\\n    f_BE\\nH220\\nH210\\n#01 SN\\xD8\\n#02 SN\\xD8\\nPlanert terreng =c+182,0moh\\nH320\\n\\\n    Vegstenges\\no_SF2\\no_SF1\\n\\xD8430350\\n\\xD8430425\\n\\xD8430500\\n\\xD8430575\\nN6494250\\n\\\n    N6494325 N6494400\\nN6494475\\nN\\n01937.5m\\nTegnforklaring\\nReguleringsplan PBL\\\n    \\ 2008\\n\\xA712-5. Nr. 1 - Bebyggelse og anlegg\\nBoligbebyggelse-konsentrert\\n\\\n    sm\\xE5husbebyggelseBKS\\nForsamlingslokale for\\nreligionsut\\xF8velseBR\\nIdrettsanleggBIA\\n\\\n    EnergianleggBE\\n\\xA712-5. Nr. 2 - Samferdselsanlegg og\\nteknisk infrastruktur\\n\\\n    Veg SV\\nFortau SF\\nParkering SPA\\n\\xA712-5. Nr. 3 - Gr\\xF8nnstruktur\\nTurdrag\\\n    \\ GTD\\nFriomr\\xE5deGF\\n\\xA712-6 - Hensynssoner\\nR\\xF8d sone iht. T-1442H210\\n\\\n    Gul sone iht. T-1442H220\\nFlomfare H320\\n\\xA712-7 - Bestemmelseomr\\xE5der\\nVilk\\xE5\\\n    r for bruk av arealer, bygninger\\nog anlegg #0 SN\\xD8\\nLinjesymbol\\nGrense for\\\n    \\ st\\xF8ysone\\nGrense for faresone\\nPlanens begrensning\\nForm\\xE5lgrense\\nBestemmelsegrense\\n\\\n    Byggegrense\\nFrisiktlinje\\nPunktsymboler\\nStenging av avkj\\xF8rsel\\nAvkj\\xF8rsel\\\n    \\ - b\\xE5de inn og utkj\\xF8ring\\nKartopplysninger\\nKilde for basiskart:\\nDato\\\n    \\ for basiskart:\\nKoordinatsystem:\\nH\\xF8ydegrunnlag:\\nEkvidistanse:\\nKartm\\xE5\\\n    lestokk:\\n1m1:750\\nKartverket 05.11.2019\\nETRS89.UTM-32N\\nNN2000\\nDato\\nArealplan-ID:\\n\\\n    Forslagsstiller:\\nSAKS-\\nNR\\nDATO SIGN\\nTEGNNR. DATO SIGN.\\nMed tilh\\xF8rende\\\n    \\ reguleringsbestemmelser\\nSAKSBEHANDLING ETTER PLAN- OG BYGNINGSLOVEN\\nPLANEN\\\n    \\ ER UTARBEIDET AV:\\nDato\\nDato\\nDato\\nRevisjon\\nRevisjonRevisjon\\nKommunestyret\\\n    \\ sitt vedtak\\nDet bekreftes at planen er i samsvar med kommunestyrets vedtak\\\n    \\ av 16.06.202223.06.2022Siv Therese Kile Lie\\nPlansjef\\n4219_202102\\nDeep Capital\\\n    \\ Investments AS\\n11.05.2022 S\\xC5F\\n2021/215 \\n10.02.22\\n18.03.21 \\n 04.03.21\\n\\\n    Evje og Hornnes\\nkommune\\nDetaljregulering\\nSt\\xF8peritomta\\nPLANKONSULENT\\n2.\\\n    \\ gangs behandling\\nOffentlig ettersyn fra 17.03.2022  til 28.04.2022\\n1. gangs\\\n    \\ behandling i Planutvalget\\nKunngj\\xF8ring av oppstart av planarbeid\\nOppstartsm\\xF8\\\n    te 04.03.21\\n4/22 \\n42/22 19.05.22\\n16.06.22 59/22 STL\\nSTL\\nSTL", images: [],\n  metadata: {num_pages: 1}}\n\n\nReturn the correct JSON response within a ```json codeblock. not the JSON_SCHEMA'}]}
python_service-1  | DEBUG:LiteLLM:
python_service-1  | LiteLLM: Params passed to completion() {'model': 'gpt-4o-mini', 'functions': None, 'function_call': None, 'temperature': 0, 'top_p': None, 'n': None, 'stream': None, 'stream_options': None, 'stop': None, 'max_tokens': 4000, 'max_completion_tokens': None, 'modalities': None, 'prediction': None, 'audio': None, 'presence_penalty': None, 'frequency_penalty': None, 'logit_bias': None, 'user': None, 'custom_llm_provider': 'azure', 'response_format': None, 'seed': None, 'tools': None, 'tool_choice': None, 'max_retries': None, 'logprobs': None, 'top_logprobs': None, 'extra_headers': None, 'api_version': None, 'parallel_tool_calls': None, 'drop_params': None, 'reasoning_effort': None, 'additional_drop_params': None, 'messages': [{'role': 'system', 'content': 'You are a server API that receives document information and returns specific fields in JSON format.\n\n\n        As a genius expert, your task is to understand the content and provide\n        the parsed objects in json that match the following json_schema:\n\n\n        {\n  "description": "Contract for field extraction from regulatory documents.\\n\\nDefines the structure and prompt for extracting regulation codes from\\nNorwegian planning documents (plankart and bestemmelser).\\n\\nAttributes:\\n    fields (Set[str]): Set of extracted regulation codes",\n  "properties": {\n    "fields": {\n      "items": {\n        "type": "string"\n      },\n      "title": "Fields",\n      "type": "array",\n      "uniqueItems": true\n    }\n  },\n  "required": [\n    "fields"\n  ],\n  "title": "FieldExtractContract",\n  "type": "object"\n}\n\n        Make sure to return an instance of the JSON, not the schema itself\n'}, {'role': 'user', 'content': '##Content\n\n{content: "Alfred Uglands veg\\nEvje aktivitetspark\\n50/132\\n50/40\\nGudvangen\\n49/70\\n\\\n    49/87\\n42/12\\n49/78\\n49/8050/128\\n50/139\\n50/101\\n50/89\\n49/77\\n49/83\\n50/6650/127\\\n    \\ 50/151\\n42/51\\n49/10\\n49/82\\n49/86\\n50/40\\n50/40\\n50/59\\n50/71\\n50/132\\n50/148\\n\\\n    50/155\\n50/158\\n50/600\\n42/25\\n50/637\\nBR\\nBIA\\no_SPA\\no_GF3\\no_GF1\\no_GF2\\no_GTD1\\n\\\n    o_GTD2\\nA=2889 m\\xB2\\n%-BYA=\\n40%\\nBKS\\nA=3304 m\\xB2\\n%-BYA=45%\\no_SV1\\no_SV3\\n\\\n    f_BE\\nH220\\nH210\\n#01 SN\\xD8\\n#02 SN\\xD8\\nPlanert terreng =c+182,0moh\\nH320\\n\\\n    Vegstenges\\no_SF2\\no_SF1\\n\\xD8430350\\n\\xD8430425\\n\\xD8430500\\n\\xD8430575\\nN6494250\\n\\\n    N6494325 N6494400\\nN6494475\\nN\\n01937.5m\\nTegnforklaring\\nReguleringsplan PBL\\\n    \\ 2008\\n\\xA712-5. Nr. 1 - Bebyggelse og anlegg\\nBoligbebyggelse-konsentrert\\n\\\n    sm\\xE5husbebyggelseBKS\\nForsamlingslokale for\\nreligionsut\\xF8velseBR\\nIdrettsanleggBIA\\n\\\n    EnergianleggBE\\n\\xA712-5. Nr. 2 - Samferdselsanlegg og\\nteknisk infrastruktur\\n\\\n    Veg SV\\nFortau SF\\nParkering SPA\\n\\xA712-5. Nr. 3 - Gr\\xF8nnstruktur\\nTurdrag\\\n    \\ GTD\\nFriomr\\xE5deGF\\n\\xA712-6 - Hensynssoner\\nR\\xF8d sone iht. T-1442H210\\n\\\n    Gul sone iht. T-1442H220\\nFlomfare H320\\n\\xA712-7 - Bestemmelseomr\\xE5der\\nVilk\\xE5\\\n    r for bruk av arealer, bygninger\\nog anlegg #0 SN\\xD8\\nLinjesymbol\\nGrense for\\\n    \\ st\\xF8ysone\\nGrense for faresone\\nPlanens begrensning\\nForm\\xE5lgrense\\nBestemmelsegrense\\n\\\n    Byggegrense\\nFrisiktlinje\\nPunktsymboler\\nStenging av avkj\\xF8rsel\\nAvkj\\xF8rsel\\\n    \\ - b\\xE5de inn og utkj\\xF8ring\\nKartopplysninger\\nKilde for basiskart:\\nDato\\\n    \\ for basiskart:\\nKoordinatsystem:\\nH\\xF8ydegrunnlag:\\nEkvidistanse:\\nKartm\\xE5\\\n    lestokk:\\n1m1:750\\nKartverket 05.11.2019\\nETRS89.UTM-32N\\nNN2000\\nDato\\nArealplan-ID:\\n\\\n    Forslagsstiller:\\nSAKS-\\nNR\\nDATO SIGN\\nTEGNNR. DATO SIGN.\\nMed tilh\\xF8rende\\\n    \\ reguleringsbestemmelser\\nSAKSBEHANDLING ETTER PLAN- OG BYGNINGSLOVEN\\nPLANEN\\\n    \\ ER UTARBEIDET AV:\\nDato\\nDato\\nDato\\nRevisjon\\nRevisjonRevisjon\\nKommunestyret\\\n    \\ sitt vedtak\\nDet bekreftes at planen er i samsvar med kommunestyrets vedtak\\\n    \\ av 16.06.202223.06.2022Siv Therese Kile Lie\\nPlansjef\\n4219_202102\\nDeep Capital\\\n    \\ Investments AS\\n11.05.2022 S\\xC5F\\n2021/215 \\n10.02.22\\n18.03.21 \\n 04.03.21\\n\\\n    Evje og Hornnes\\nkommune\\nDetaljregulering\\nSt\\xF8peritomta\\nPLANKONSULENT\\n2.\\\n    \\ gangs behandling\\nOffentlig ettersyn fra 17.03.2022  til 28.04.2022\\n1. gangs\\\n    \\ behandling i Planutvalget\\nKunngj\\xF8ring av oppstart av planarbeid\\nOppstartsm\\xF8\\\n    te 04.03.21\\n4/22 \\n42/22 19.05.22\\n16.06.22 59/22 STL\\nSTL\\nSTL", images: [],\n  metadata: {num_pages: 1}}\n\n\nReturn the correct JSON response within a ```json codeblock. not the JSON_SCHEMA'}]}
python_service-1  | [92m11:22:39 - LiteLLM:DEBUG[0m: utils.py:2911 - 
python_service-1  | LiteLLM: Non-Default params passed to completion() {'temperature': 0, 'max_tokens': 4000}
python_service-1  | DEBUG:LiteLLM:
python_service-1  | LiteLLM: Non-Default params passed to completion() {'temperature': 0, 'max_tokens': 4000}
python_service-1  | [92m11:22:39 - LiteLLM:DEBUG[0m: utils.py:3511 - Azure optional params - api_version: api_version=None, litellm.api_version=2024-08-01-preview, os.environ['AZURE_API_VERSION']=None
python_service-1  | DEBUG:LiteLLM:Azure optional params - api_version: api_version=None, litellm.api_version=2024-08-01-preview, os.environ['AZURE_API_VERSION']=None
python_service-1  | [92m11:22:39 - LiteLLM:DEBUG[0m: utils.py:298 - Final returned optional params: {'temperature': 0, 'max_tokens': 4000, 'extra_body': {}}
python_service-1  | DEBUG:LiteLLM:Final returned optional params: {'temperature': 0, 'max_tokens': 4000, 'extra_body': {}}
python_service-1  | [92m11:22:39 - LiteLLM:DEBUG[0m: litellm_logging.py:377 - self.optional_params: {'temperature': 0, 'max_tokens': 4000, 'extra_body': {}}
python_service-1  | DEBUG:LiteLLM:self.optional_params: {'temperature': 0, 'max_tokens': 4000, 'extra_body': {}}
python_service-1  | [92m11:22:39 - LiteLLM:DEBUG[0m: litellm_logging.py:634 - [92m
python_service-1  | 
python_service-1  | POST Request Sent from LiteLLM:
python_service-1  | curl -X POST \
python_service-1  | https://kartai-openai.openai.azure.com \
python_service-1  | -H 'api_key: Dm20Qg2RomLirlz8icux5Y3XavqI2BfAwmuOdjuI********************************************' -H 'azure_ad_token: *****' \
python_service-1  | -d '{'model': 'gpt-4o-mini', 'messages': [{'role': 'system', 'content': 'You are a server API that receives document information and returns specific fields in JSON format.\n\n\n        As a genius expert, your task is to understand the content and provide\n        the parsed objects in json that match the following json_schema:\n\n\n        {\n  "description": "Contract for field extraction from regulatory documents.\\n\\nDefines the structure and prompt for extracting regulation codes from\\nNorwegian planning documents (plankart and bestemmelser).\\n\\nAttributes:\\n    fields (Set[str]): Set of extracted regulation codes",\n  "properties": {\n    "fields": {\n      "items": {\n        "type": "string"\n      },\n      "title": "Fields",\n      "type": "array",\n      "uniqueItems": true\n    }\n  },\n  "required": [\n    "fields"\n  ],\n  "title": "FieldExtractContract",\n  "type": "object"\n}\n\n        Make sure to return an instance of the JSON, not the schema itself\n'}, {'role': 'user', 'content': '##Content\n\n{content: "Alfred Uglands veg\\nEvje aktivitetspark\\n50/132\\n50/40\\nGudvangen\\n49/70\\n\\\n    49/87\\n42/12\\n49/78\\n49/8050/128\\n50/139\\n50/101\\n50/89\\n49/77\\n49/83\\n50/6650/127\\\n    \\ 50/151\\n42/51\\n49/10\\n49/82\\n49/86\\n50/40\\n50/40\\n50/59\\n50/71\\n50/132\\n50/148\\n\\\n    50/155\\n50/158\\n50/600\\n42/25\\n50/637\\nBR\\nBIA\\no_SPA\\no_GF3\\no_GF1\\no_GF2\\no_GTD1\\n\\\n    o_GTD2\\nA=2889 m\\xB2\\n%-BYA=\\n40%\\nBKS\\nA=3304 m\\xB2\\n%-BYA=45%\\no_SV1\\no_SV3\\n\\\n    f_BE\\nH220\\nH210\\n#01 SN\\xD8\\n#02 SN\\xD8\\nPlanert terreng =c+182,0moh\\nH320\\n\\\n    Vegstenges\\no_SF2\\no_SF1\\n\\xD8430350\\n\\xD8430425\\n\\xD8430500\\n\\xD8430575\\nN6494250\\n\\\n    N6494325 N6494400\\nN6494475\\nN\\n01937.5m\\nTegnforklaring\\nReguleringsplan PBL\\\n    \\ 2008\\n\\xA712-5. Nr. 1 - Bebyggelse og anlegg\\nBoligbebyggelse-konsentrert\\n\\\n    sm\\xE5husbebyggelseBKS\\nForsamlingslokale for\\nreligionsut\\xF8velseBR\\nIdrettsanleggBIA\\n\\\n    EnergianleggBE\\n\\xA712-5. Nr. 2 - Samferdselsanlegg og\\nteknisk infrastruktur\\n\\\n    Veg SV\\nFortau SF\\nParkering SPA\\n\\xA712-5. Nr. 3 - Gr\\xF8nnstruktur\\nTurdrag\\\n    \\ GTD\\nFriomr\\xE5deGF\\n\\xA712-6 - Hensynssoner\\nR\\xF8d sone iht. T-1442H210\\n\\\n    Gul sone iht. T-1442H220\\nFlomfare H320\\n\\xA712-7 - Bestemmelseomr\\xE5der\\nVilk\\xE5\\\n    r for bruk av arealer, bygninger\\nog anlegg #0 SN\\xD8\\nLinjesymbol\\nGrense for\\\n    \\ st\\xF8ysone\\nGrense for faresone\\nPlanens begrensning\\nForm\\xE5lgrense\\nBestemmelsegrense\\n\\\n    Byggegrense\\nFrisiktlinje\\nPunktsymboler\\nStenging av avkj\\xF8rsel\\nAvkj\\xF8rsel\\\n    \\ - b\\xE5de inn og utkj\\xF8ring\\nKartopplysninger\\nKilde for basiskart:\\nDato\\\n    \\ for basiskart:\\nKoordinatsystem:\\nH\\xF8ydegrunnlag:\\nEkvidistanse:\\nKartm\\xE5\\\n    lestokk:\\n1m1:750\\nKartverket 05.11.2019\\nETRS89.UTM-32N\\nNN2000\\nDato\\nArealplan-ID:\\n\\\n    Forslagsstiller:\\nSAKS-\\nNR\\nDATO SIGN\\nTEGNNR. DATO SIGN.\\nMed tilh\\xF8rende\\\n    \\ reguleringsbestemmelser\\nSAKSBEHANDLING ETTER PLAN- OG BYGNINGSLOVEN\\nPLANEN\\\n    \\ ER UTARBEIDET AV:\\nDato\\nDato\\nDato\\nRevisjon\\nRevisjonRevisjon\\nKommunestyret\\\n    \\ sitt vedtak\\nDet bekreftes at planen er i samsvar med kommunestyrets vedtak\\\n    \\ av 16.06.202223.06.2022Siv Therese Kile Lie\\nPlansjef\\n4219_202102\\nDeep Capital\\\n    \\ Investments AS\\n11.05.2022 S\\xC5F\\n2021/215 \\n10.02.22\\n18.03.21 \\n 04.03.21\\n\\\n    Evje og Hornnes\\nkommune\\nDetaljregulering\\nSt\\xF8peritomta\\nPLANKONSULENT\\n2.\\\n    \\ gangs behandling\\nOffentlig ettersyn fra 17.03.2022  til 28.04.2022\\n1. gangs\\\n    \\ behandling i Planutvalget\\nKunngj\\xF8ring av oppstart av planarbeid\\nOppstartsm\\xF8\\\n    te 04.03.21\\n4/22 \\n42/22 19.05.22\\n16.06.22 59/22 STL\\nSTL\\nSTL", images: [],\n  metadata: {num_pages: 1}}\n\n\nReturn the correct JSON response within a ```json codeblock. not the JSON_SCHEMA'}], 'temperature': 0, 'max_tokens': 4000, 'extra_body': {}}'
python_service-1  | [0m
python_service-1  | 
python_service-1  | DEBUG:LiteLLM:[92m
python_service-1  | 
python_service-1  | POST Request Sent from LiteLLM:
python_service-1  | curl -X POST \
python_service-1  | https://kartai-openai.openai.azure.com \
python_service-1  | -H 'api_key: Dm20Qg2RomLirlz8icux5Y3XavqI2BfAwmuOdjuI********************************************' -H 'azure_ad_token: *****' \
python_service-1  | -d '{'model': 'gpt-4o-mini', 'messages': [{'role': 'system', 'content': 'You are a server API that receives document information and returns specific fields in JSON format.\n\n\n        As a genius expert, your task is to understand the content and provide\n        the parsed objects in json that match the following json_schema:\n\n\n        {\n  "description": "Contract for field extraction from regulatory documents.\\n\\nDefines the structure and prompt for extracting regulation codes from\\nNorwegian planning documents (plankart and bestemmelser).\\n\\nAttributes:\\n    fields (Set[str]): Set of extracted regulation codes",\n  "properties": {\n    "fields": {\n      "items": {\n        "type": "string"\n      },\n      "title": "Fields",\n      "type": "array",\n      "uniqueItems": true\n    }\n  },\n  "required": [\n    "fields"\n  ],\n  "title": "FieldExtractContract",\n  "type": "object"\n}\n\n        Make sure to return an instance of the JSON, not the schema itself\n'}, {'role': 'user', 'content': '##Content\n\n{content: "Alfred Uglands veg\\nEvje aktivitetspark\\n50/132\\n50/40\\nGudvangen\\n49/70\\n\\\n    49/87\\n42/12\\n49/78\\n49/8050/128\\n50/139\\n50/101\\n50/89\\n49/77\\n49/83\\n50/6650/127\\\n    \\ 50/151\\n42/51\\n49/10\\n49/82\\n49/86\\n50/40\\n50/40\\n50/59\\n50/71\\n50/132\\n50/148\\n\\\n    50/155\\n50/158\\n50/600\\n42/25\\n50/637\\nBR\\nBIA\\no_SPA\\no_GF3\\no_GF1\\no_GF2\\no_GTD1\\n\\\n    o_GTD2\\nA=2889 m\\xB2\\n%-BYA=\\n40%\\nBKS\\nA=3304 m\\xB2\\n%-BYA=45%\\no_SV1\\no_SV3\\n\\\n    f_BE\\nH220\\nH210\\n#01 SN\\xD8\\n#02 SN\\xD8\\nPlanert terreng =c+182,0moh\\nH320\\n\\\n    Vegstenges\\no_SF2\\no_SF1\\n\\xD8430350\\n\\xD8430425\\n\\xD8430500\\n\\xD8430575\\nN6494250\\n\\\n    N6494325 N6494400\\nN6494475\\nN\\n01937.5m\\nTegnforklaring\\nReguleringsplan PBL\\\n    \\ 2008\\n\\xA712-5. Nr. 1 - Bebyggelse og anlegg\\nBoligbebyggelse-konsentrert\\n\\\n    sm\\xE5husbebyggelseBKS\\nForsamlingslokale for\\nreligionsut\\xF8velseBR\\nIdrettsanleggBIA\\n\\\n    EnergianleggBE\\n\\xA712-5. Nr. 2 - Samferdselsanlegg og\\nteknisk infrastruktur\\n\\\n    Veg SV\\nFortau SF\\nParkering SPA\\n\\xA712-5. Nr. 3 - Gr\\xF8nnstruktur\\nTurdrag\\\n    \\ GTD\\nFriomr\\xE5deGF\\n\\xA712-6 - Hensynssoner\\nR\\xF8d sone iht. T-1442H210\\n\\\n    Gul sone iht. T-1442H220\\nFlomfare H320\\n\\xA712-7 - Bestemmelseomr\\xE5der\\nVilk\\xE5\\\n    r for bruk av arealer, bygninger\\nog anlegg #0 SN\\xD8\\nLinjesymbol\\nGrense for\\\n    \\ st\\xF8ysone\\nGrense for faresone\\nPlanens begrensning\\nForm\\xE5lgrense\\nBestemmelsegrense\\n\\\n    Byggegrense\\nFrisiktlinje\\nPunktsymboler\\nStenging av avkj\\xF8rsel\\nAvkj\\xF8rsel\\\n    \\ - b\\xE5de inn og utkj\\xF8ring\\nKartopplysninger\\nKilde for basiskart:\\nDato\\\n    \\ for basiskart:\\nKoordinatsystem:\\nH\\xF8ydegrunnlag:\\nEkvidistanse:\\nKartm\\xE5\\\n    lestokk:\\n1m1:750\\nKartverket 05.11.2019\\nETRS89.UTM-32N\\nNN2000\\nDato\\nArealplan-ID:\\n\\\n    Forslagsstiller:\\nSAKS-\\nNR\\nDATO SIGN\\nTEGNNR. DATO SIGN.\\nMed tilh\\xF8rende\\\n    \\ reguleringsbestemmelser\\nSAKSBEHANDLING ETTER PLAN- OG BYGNINGSLOVEN\\nPLANEN\\\n    \\ ER UTARBEIDET AV:\\nDato\\nDato\\nDato\\nRevisjon\\nRevisjonRevisjon\\nKommunestyret\\\n    \\ sitt vedtak\\nDet bekreftes at planen er i samsvar med kommunestyrets vedtak\\\n    \\ av 16.06.202223.06.2022Siv Therese Kile Lie\\nPlansjef\\n4219_202102\\nDeep Capital\\\n    \\ Investments AS\\n11.05.2022 S\\xC5F\\n2021/215 \\n10.02.22\\n18.03.21 \\n 04.03.21\\n\\\n    Evje og Hornnes\\nkommune\\nDetaljregulering\\nSt\\xF8peritomta\\nPLANKONSULENT\\n2.\\\n    \\ gangs behandling\\nOffentlig ettersyn fra 17.03.2022  til 28.04.2022\\n1. gangs\\\n    \\ behandling i Planutvalget\\nKunngj\\xF8ring av oppstart av planarbeid\\nOppstartsm\\xF8\\\n    te 04.03.21\\n4/22 \\n42/22 19.05.22\\n16.06.22 59/22 STL\\nSTL\\nSTL", images: [],\n  metadata: {num_pages: 1}}\n\n\nReturn the correct JSON response within a ```json codeblock. not the JSON_SCHEMA'}], 'temperature': 0, 'max_tokens': 4000, 'extra_body': {}}'
python_service-1  | [0m
python_service-1  | 
python_service-1  | [92m11:22:42 - LiteLLM:DEBUG[0m: utils.py:298 - RAW RESPONSE:
python_service-1  | {"id": "chatcmpl-AzidbqLrbTM0WEi6PzitrKFIy1WnB", "choices": [{"finish_reason": "stop", "index": 0, "logprobs": null, "message": {"content": "```json\n{\n  \"fields\": [\n    \"50/132\",\n    \"50/40\",\n    \"49/70\",\n    \"49/87\",\n    \"42/12\",\n    \"49/78\",\n    \"49/80\",\n    \"50/128\",\n    \"50/139\",\n    \"50/101\",\n    \"50/89\",\n    \"49/77\",\n    \"49/83\",\n    \"50/66\",\n    \"50/127\",\n    \"50/151\",\n    \"42/51\",\n    \"49/10\",\n    \"49/82\",\n    \"49/86\",\n    \"50/40\",\n    \"50/59\",\n    \"50/71\",\n    \"50/132\",\n    \"50/148\",\n    \"50/155\",\n    \"50/158\",\n    \"50/600\",\n    \"42/25\",\n    \"50/637\",\n    \"BR\",\n    \"BIA\",\n    \"o_SPA\",\n    \"o_GF3\",\n    \"o_GF1\",\n    \"o_GF2\",\n    \"o_GTD1\",\n    \"o_GTD2\",\n    \"H220\",\n    \"H210\",\n    \"#01 SN\u00d8\",\n    \"#02 SN\u00d8\",\n    \"H320\",\n    \"o_SF2\",\n    \"o_SF1\",\n    \"N6494250\",\n    \"N6494325\",\n    \"N6494400\",\n    \"N6494475\",\n    \"SN\u00d8\",\n    \"GT\",\n    \"BKS\",\n    \"BE\",\n    \"SPA\",\n    \"SF\",\n    \"H210\",\n    \"H220\",\n    \"H320\"\n  ]\n}\n```", "refusal": null, "role": "assistant", "audio": null, "function_call": null, "tool_calls": null}, "content_filter_results": {"hate": {"filtered": false, "severity": "safe"}, "protected_material_code": {"filtered": false, "detected": false}, "protected_material_text": {"filtered": false, "detected": false}, "self_harm": {"filtered": false, "severity": "safe"}, "sexual": {"filtered": false, "severity": "safe"}, "violence": {"filtered": false, "severity": "safe"}}}], "created": 1739272959, "model": "gpt-4o-mini-2024-07-18", "object": "chat.completion", "service_tier": null, "system_fingerprint": "fp_f3927aa00d", "usage": {"completion_tokens": 350, "prompt_tokens": 1367, "total_tokens": 1717, "completion_tokens_details": {"accepted_prediction_tokens": 0, "audio_tokens": 0, "reasoning_tokens": 0, "rejected_prediction_tokens": 0}, "prompt_tokens_details": {"audio_tokens": 0, "cached_tokens": 0}}, "prompt_filter_results": [{"prompt_index": 0, "content_filter_results": {"hate": {"filtered": false, "severity": "safe"}, "jailbreak": {"filtered": false, "detected": false}, "self_harm": {"filtered": false, "severity": "safe"}, "sexual": {"filtered": false, "severity": "safe"}, "violence": {"filtered": false, "severity": "safe"}}}]}
python_service-1  | 
python_service-1  | 
python_service-1  | DEBUG:LiteLLM:RAW RESPONSE:
python_service-1  | {"id": "chatcmpl-AzidbqLrbTM0WEi6PzitrKFIy1WnB", "choices": [{"finish_reason": "stop", "index": 0, "logprobs": null, "message": {"content": "```json\n{\n  \"fields\": [\n    \"50/132\",\n    \"50/40\",\n    \"49/70\",\n    \"49/87\",\n    \"42/12\",\n    \"49/78\",\n    \"49/80\",\n    \"50/128\",\n    \"50/139\",\n    \"50/101\",\n    \"50/89\",\n    \"49/77\",\n    \"49/83\",\n    \"50/66\",\n    \"50/127\",\n    \"50/151\",\n    \"42/51\",\n    \"49/10\",\n    \"49/82\",\n    \"49/86\",\n    \"50/40\",\n    \"50/59\",\n    \"50/71\",\n    \"50/132\",\n    \"50/148\",\n    \"50/155\",\n    \"50/158\",\n    \"50/600\",\n    \"42/25\",\n    \"50/637\",\n    \"BR\",\n    \"BIA\",\n    \"o_SPA\",\n    \"o_GF3\",\n    \"o_GF1\",\n    \"o_GF2\",\n    \"o_GTD1\",\n    \"o_GTD2\",\n    \"H220\",\n    \"H210\",\n    \"#01 SN\u00d8\",\n    \"#02 SN\u00d8\",\n    \"H320\",\n    \"o_SF2\",\n    \"o_SF1\",\n    \"N6494250\",\n    \"N6494325\",\n    \"N6494400\",\n    \"N6494475\",\n    \"SN\u00d8\",\n    \"GT\",\n    \"BKS\",\n    \"BE\",\n    \"SPA\",\n    \"SF\",\n    \"H210\",\n    \"H220\",\n    \"H320\"\n  ]\n}\n```", "refusal": null, "role": "assistant", "audio": null, "function_call": null, "tool_calls": null}, "content_filter_results": {"hate": {"filtered": false, "severity": "safe"}, "protected_material_code": {"filtered": false, "detected": false}, "protected_material_text": {"filtered": false, "detected": false}, "self_harm": {"filtered": false, "severity": "safe"}, "sexual": {"filtered": false, "severity": "safe"}, "violence": {"filtered": false, "severity": "safe"}}}], "created": 1739272959, "model": "gpt-4o-mini-2024-07-18", "object": "chat.completion", "service_tier": null, "system_fingerprint": "fp_f3927aa00d", "usage": {"completion_tokens": 350, "prompt_tokens": 1367, "total_tokens": 1717, "completion_tokens_details": {"accepted_prediction_tokens": 0, "audio_tokens": 0, "reasoning_tokens": 0, "rejected_prediction_tokens": 0}, "prompt_tokens_details": {"audio_tokens": 0, "cached_tokens": 0}}, "prompt_filter_results": [{"prompt_index": 0, "content_filter_results": {"hate": {"filtered": false, "severity": "safe"}, "jailbreak": {"filtered": false, "detected": false}, "self_harm": {"filtered": false, "severity": "safe"}, "sexual": {"filtered": false, "severity": "safe"}, "violence": {"filtered": false, "severity": "safe"}}}]}
python_service-1  | 
python_service-1  | 
python_service-1  | [92m11:22:42 - LiteLLM:INFO[0m: utils.py:1084 - Wrapper: Completed Call, calling success_handler
python_service-1  | INFO:LiteLLM:Wrapper: Completed Call, calling success_handler
python_service-1  | [92m11:22:42 - LiteLLM:DEBUG[0m: cost_calculator.py:563 - completion_response _select_model_name_for_cost_calc: azure/gpt-4o-mini-2024-07-18
python_service-1  | DEBUG:LiteLLM:completion_response _select_model_name_for_cost_calc: azure/gpt-4o-mini-2024-07-18
python_service-1  | [92m11:22:42 - LiteLLM:DEBUG[0m: utils.py:4175 - checking potential_model_names in litellm.model_cost: {'split_model': 'gpt-4o-mini-2024-07-18', 'combined_model_name': 'azure/gpt-4o-mini-2024-07-18', 'stripped_model_name': 'gpt-4o-mini-2024-07-18', 'combined_stripped_model_name': 'azure/gpt-4o-mini-2024-07-18', 'custom_llm_provider': 'azure'}
python_service-1  | DEBUG:LiteLLM:checking potential_model_names in litellm.model_cost: {'split_model': 'gpt-4o-mini-2024-07-18', 'combined_model_name': 'azure/gpt-4o-mini-2024-07-18', 'stripped_model_name': 'gpt-4o-mini-2024-07-18', 'combined_stripped_model_name': 'azure/gpt-4o-mini-2024-07-18', 'custom_llm_provider': 'azure'}
python_service-1  | [92m11:22:42 - LiteLLM:DEBUG[0m: utils.py:4453 - model_info: {'key': 'azure/gpt-4o-mini-2024-07-18', 'max_tokens': 16384, 'max_input_tokens': 128000, 'max_output_tokens': 16384, 'input_cost_per_token': 1.65e-07, 'cache_creation_input_token_cost': None, 'cache_read_input_token_cost': 7.5e-08, 'input_cost_per_character': None, 'input_cost_per_token_above_128k_tokens': None, 'input_cost_per_query': None, 'input_cost_per_second': None, 'input_cost_per_audio_token': None, 'output_cost_per_token': 6.6e-07, 'output_cost_per_audio_token': None, 'output_cost_per_character': None, 'output_cost_per_token_above_128k_tokens': None, 'output_cost_per_character_above_128k_tokens': None, 'output_cost_per_second': None, 'output_cost_per_image': None, 'output_vector_size': None, 'litellm_provider': 'azure', 'mode': 'chat', 'supports_system_messages': None, 'supports_response_schema': True, 'supports_vision': True, 'supports_function_calling': True, 'supports_tool_choice': True, 'supports_assistant_prefill': False, 'supports_prompt_caching': True, 'supports_audio_input': False, 'supports_audio_output': False, 'supports_pdf_input': False, 'supports_embedding_image_input': False, 'supports_native_streaming': None, 'tpm': None, 'rpm': None}
python_service-1  | DEBUG:LiteLLM:model_info: {'key': 'azure/gpt-4o-mini-2024-07-18', 'max_tokens': 16384, 'max_input_tokens': 128000, 'max_output_tokens': 16384, 'input_cost_per_token': 1.65e-07, 'cache_creation_input_token_cost': None, 'cache_read_input_token_cost': 7.5e-08, 'input_cost_per_character': None, 'input_cost_per_token_above_128k_tokens': None, 'input_cost_per_query': None, 'input_cost_per_second': None, 'input_cost_per_audio_token': None, 'output_cost_per_token': 6.6e-07, 'output_cost_per_audio_token': None, 'output_cost_per_character': None, 'output_cost_per_token_above_128k_tokens': None, 'output_cost_per_character_above_128k_tokens': None, 'output_cost_per_second': None, 'output_cost_per_image': None, 'output_vector_size': None, 'litellm_provider': 'azure', 'mode': 'chat', 'supports_system_messages': None, 'supports_response_schema': True, 'supports_vision': True, 'supports_function_calling': True, 'supports_tool_choice': True, 'supports_assistant_prefill': False, 'supports_prompt_caching': True, 'supports_audio_input': False, 'supports_audio_output': False, 'supports_pdf_input': False, 'supports_embedding_image_input': False, 'supports_native_streaming': None, 'tpm': None, 'rpm': None}
python_service-1  | [92m11:22:42 - LiteLLM:DEBUG[0m: litellm_logging.py:846 - response_cost: 0.000456555
python_service-1  | DEBUG:LiteLLM:response_cost: 0.000456555
python_service-1  | DEBUG:app.llm.extractor:Available base codes: set()
python_service-1  | DEBUG:app.llm.extractor:Checking field: 42/25
python_service-1  | WARNING:app.llm.extractor:No base codes available, using pattern matching
python_service-1  | DEBUG:app.llm.extractor:Checking field: 50/139
python_service-1  | WARNING:app.llm.extractor:No base codes available, using pattern matching
python_service-1  | DEBUG:app.llm.extractor:Checking field: o_GF2
python_service-1  | WARNING:app.llm.extractor:No base codes available, using pattern matching
python_service-1  | DEBUG:app.llm.extractor:Added valid code: o_GF2
python_service-1  | [92m11:22:42 - LiteLLM:DEBUG[0m: litellm_logging.py:1014 - Logging Details LiteLLM-Success Call: Cache_hit=None
python_service-1  | DEBUG:LiteLLM:Logging Details LiteLLM-Success Call: Cache_hit=None
python_service-1  | [92m11:22:42 - LiteLLM:DEBUG[0m: utils.py:4175 - checking potential_model_names in litellm.model_cost: {'split_model': 'gpt-4o-mini-2024-07-18', 'combined_model_name': 'azure/gpt-4o-mini-2024-07-18', 'stripped_model_name': 'gpt-4o-mini-2024-07-18', 'combined_stripped_model_name': 'azure/gpt-4o-mini-2024-07-18', 'custom_llm_provider': 'azure'}
python_service-1  | DEBUG:app.llm.extractor:Checking field: 49/80
python_service-1  | DEBUG:LiteLLM:checking potential_model_names in litellm.model_cost: {'split_model': 'gpt-4o-mini-2024-07-18', 'combined_model_name': 'azure/gpt-4o-mini-2024-07-18', 'stripped_model_name': 'gpt-4o-mini-2024-07-18', 'combined_stripped_model_name': 'azure/gpt-4o-mini-2024-07-18', 'custom_llm_provider': 'azure'}
python_service-1  | [92m11:22:42 - LiteLLM:DEBUG[0m: utils.py:4453 - model_info: {'key': 'azure/gpt-4o-mini-2024-07-18', 'max_tokens': 16384, 'max_input_tokens': 128000, 'max_output_tokens': 16384, 'input_cost_per_token': 1.65e-07, 'cache_creation_input_token_cost': None, 'cache_read_input_token_cost': 7.5e-08, 'input_cost_per_character': None, 'input_cost_per_token_above_128k_tokens': None, 'input_cost_per_query': None, 'input_cost_per_second': None, 'input_cost_per_audio_token': None, 'output_cost_per_token': 6.6e-07, 'output_cost_per_audio_token': None, 'output_cost_per_character': None, 'output_cost_per_token_above_128k_tokens': None, 'output_cost_per_character_above_128k_tokens': None, 'output_cost_per_second': None, 'output_cost_per_image': None, 'output_vector_size': None, 'litellm_provider': 'azure', 'mode': 'chat', 'supports_system_messages': None, 'supports_response_schema': True, 'supports_vision': True, 'supports_function_calling': True, 'supports_tool_choice': True, 'supports_assistant_prefill': False, 'supports_prompt_caching': True, 'supports_audio_input': False, 'supports_audio_output': False, 'supports_pdf_input': False, 'supports_embedding_image_input': False, 'supports_native_streaming': None, 'tpm': None, 'rpm': None}
python_service-1  | WARNING:app.llm.extractor:No base codes available, using pattern matching
python_service-1  | DEBUG:LiteLLM:model_info: {'key': 'azure/gpt-4o-mini-2024-07-18', 'max_tokens': 16384, 'max_input_tokens': 128000, 'max_output_tokens': 16384, 'input_cost_per_token': 1.65e-07, 'cache_creation_input_token_cost': None, 'cache_read_input_token_cost': 7.5e-08, 'input_cost_per_character': None, 'input_cost_per_token_above_128k_tokens': None, 'input_cost_per_query': None, 'input_cost_per_second': None, 'input_cost_per_audio_token': None, 'output_cost_per_token': 6.6e-07, 'output_cost_per_audio_token': None, 'output_cost_per_character': None, 'output_cost_per_token_above_128k_tokens': None, 'output_cost_per_character_above_128k_tokens': None, 'output_cost_per_second': None, 'output_cost_per_image': None, 'output_vector_size': None, 'litellm_provider': 'azure', 'mode': 'chat', 'supports_system_messages': None, 'supports_response_schema': True, 'supports_vision': True, 'supports_function_calling': True, 'supports_tool_choice': True, 'supports_assistant_prefill': False, 'supports_prompt_caching': True, 'supports_audio_input': False, 'supports_audio_output': False, 'supports_pdf_input': False, 'supports_embedding_image_input': False, 'supports_native_streaming': None, 'tpm': None, 'rpm': None}
python_service-1  | [92m11:22:42 - LiteLLM:DEBUG[0m: litellm_logging.py:1040 - Logging Details LiteLLM-Success Call streaming complete
python_service-1  | DEBUG:app.llm.extractor:Checking field: o_GTD2
python_service-1  | DEBUG:LiteLLM:Logging Details LiteLLM-Success Call streaming complete
python_service-1  | [92m11:22:42 - LiteLLM:DEBUG[0m: cost_calculator.py:563 - completion_response _select_model_name_for_cost_calc: azure/gpt-4o-mini-2024-07-18
python_service-1  | WARNING:app.llm.extractor:No base codes available, using pattern matching
python_service-1  | DEBUG:LiteLLM:completion_response _select_model_name_for_cost_calc: azure/gpt-4o-mini-2024-07-18
python_service-1  | [92m11:22:42 - LiteLLM:DEBUG[0m: utils.py:4175 - checking potential_model_names in litellm.model_cost: {'split_model': 'gpt-4o-mini-2024-07-18', 'combined_model_name': 'azure/gpt-4o-mini-2024-07-18', 'stripped_model_name': 'gpt-4o-mini-2024-07-18', 'combined_stripped_model_name': 'azure/gpt-4o-mini-2024-07-18', 'custom_llm_provider': 'azure'}
python_service-1  | DEBUG:app.llm.extractor:Added valid code: o_GTD2
python_service-1  | DEBUG:app.llm.extractor:Checking field: 49/83
python_service-1  | DEBUG:LiteLLM:checking potential_model_names in litellm.model_cost: {'split_model': 'gpt-4o-mini-2024-07-18', 'combined_model_name': 'azure/gpt-4o-mini-2024-07-18', 'stripped_model_name': 'gpt-4o-mini-2024-07-18', 'combined_stripped_model_name': 'azure/gpt-4o-mini-2024-07-18', 'custom_llm_provider': 'azure'}
python_service-1  | [92m11:22:42 - LiteLLM:DEBUG[0m: utils.py:4453 - model_info: {'key': 'azure/gpt-4o-mini-2024-07-18', 'max_tokens': 16384, 'max_input_tokens': 128000, 'max_output_tokens': 16384, 'input_cost_per_token': 1.65e-07, 'cache_creation_input_token_cost': None, 'cache_read_input_token_cost': 7.5e-08, 'input_cost_per_character': None, 'input_cost_per_token_above_128k_tokens': None, 'input_cost_per_query': None, 'input_cost_per_second': None, 'input_cost_per_audio_token': None, 'output_cost_per_token': 6.6e-07, 'output_cost_per_audio_token': None, 'output_cost_per_character': None, 'output_cost_per_token_above_128k_tokens': None, 'output_cost_per_character_above_128k_tokens': None, 'output_cost_per_second': None, 'output_cost_per_image': None, 'output_vector_size': None, 'litellm_provider': 'azure', 'mode': 'chat', 'supports_system_messages': None, 'supports_response_schema': True, 'supports_vision': True, 'supports_function_calling': True, 'supports_tool_choice': True, 'supports_assistant_prefill': False, 'supports_prompt_caching': True, 'supports_audio_input': False, 'supports_audio_output': False, 'supports_pdf_input': False, 'supports_embedding_image_input': False, 'supports_native_streaming': None, 'tpm': None, 'rpm': None}
python_service-1  | WARNING:app.llm.extractor:No base codes available, using pattern matching
python_service-1  | DEBUG:LiteLLM:model_info: {'key': 'azure/gpt-4o-mini-2024-07-18', 'max_tokens': 16384, 'max_input_tokens': 128000, 'max_output_tokens': 16384, 'input_cost_per_token': 1.65e-07, 'cache_creation_input_token_cost': None, 'cache_read_input_token_cost': 7.5e-08, 'input_cost_per_character': None, 'input_cost_per_token_above_128k_tokens': None, 'input_cost_per_query': None, 'input_cost_per_second': None, 'input_cost_per_audio_token': None, 'output_cost_per_token': 6.6e-07, 'output_cost_per_audio_token': None, 'output_cost_per_character': None, 'output_cost_per_token_above_128k_tokens': None, 'output_cost_per_character_above_128k_tokens': None, 'output_cost_per_second': None, 'output_cost_per_image': None, 'output_vector_size': None, 'litellm_provider': 'azure', 'mode': 'chat', 'supports_system_messages': None, 'supports_response_schema': True, 'supports_vision': True, 'supports_function_calling': True, 'supports_tool_choice': True, 'supports_assistant_prefill': False, 'supports_prompt_caching': True, 'supports_audio_input': False, 'supports_audio_output': False, 'supports_pdf_input': False, 'supports_embedding_image_input': False, 'supports_native_streaming': None, 'tpm': None, 'rpm': None}
python_service-1  | [92m11:22:42 - LiteLLM:DEBUG[0m: litellm_logging.py:861 - response_cost_failure_debug_information: {'error_str': "'CompletionUsage' object is not subscriptable", 'traceback_str': 'Traceback (most recent call last):\n  File "/usr/local/lib/python3.12/site-packages/litellm/litellm_core_utils/litellm_logging.py", line 843, in _response_cost_calculator\n    response_cost = litellm.response_cost_calculator(\n                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "/usr/local/lib/python3.12/site-packages/litellm/cost_calculator.py", line 833, in response_cost_calculator\n    raise e\n  File "/usr/local/lib/python3.12/site-packages/litellm/cost_calculator.py", line 821, in response_cost_calculator\n    response_cost = completion_cost(\n                    ^^^^^^^^^^^^^^^^\n  File "/usr/local/lib/python3.12/site-packages/litellm/cost_calculator.py", line 771, in completion_cost\n    raise e\n  File "/usr/local/lib/python3.12/site-packages/litellm/cost_calculator.py", line 750, in completion_cost\n    ) = cost_per_token(\n        ^^^^^^^^^^^^^^^\n  File "/usr/local/lib/python3.12/site-packages/litellm/cost_calculator.py", line 279, in cost_per_token\n    return azure_openai_cost_per_token(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "/usr/local/lib/python3.12/site-packages/litellm/llms/azure/cost_calculation.py", line 38, in cost_per_token\n    usage["completion_tokens"] * model_info["output_cost_per_token"]\n    ~~~~~^^^^^^^^^^^^^^^^^^^^^\nTypeError: \'CompletionUsage\' object is not subscriptable\n', 'model': 'gpt-4o-mini', 'cache_hit': None, 'custom_llm_provider': 'azure', 'base_model': None, 'call_type': 'completion', 'custom_pricing': False}
python_service-1  | DEBUG:app.llm.extractor:Checking field: 49/78
python_service-1  | WARNING:app.llm.extractor:No base codes available, using pattern matching
python_service-1  | DEBUG:LiteLLM:response_cost_failure_debug_information: {'error_str': "'CompletionUsage' object is not subscriptable", 'traceback_str': 'Traceback (most recent call last):\n  File "/usr/local/lib/python3.12/site-packages/litellm/litellm_core_utils/litellm_logging.py", line 843, in _response_cost_calculator\n    response_cost = litellm.response_cost_calculator(\n                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "/usr/local/lib/python3.12/site-packages/litellm/cost_calculator.py", line 833, in response_cost_calculator\n    raise e\n  File "/usr/local/lib/python3.12/site-packages/litellm/cost_calculator.py", line 821, in response_cost_calculator\n    response_cost = completion_cost(\n                    ^^^^^^^^^^^^^^^^\n  File "/usr/local/lib/python3.12/site-packages/litellm/cost_calculator.py", line 771, in completion_cost\n    raise e\n  File "/usr/local/lib/python3.12/site-packages/litellm/cost_calculator.py", line 750, in completion_cost\n    ) = cost_per_token(\n        ^^^^^^^^^^^^^^^\n  File "/usr/local/lib/python3.12/site-packages/litellm/cost_calculator.py", line 279, in cost_per_token\n    return azure_openai_cost_per_token(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "/usr/local/lib/python3.12/site-packages/litellm/llms/azure/cost_calculation.py", line 38, in cost_per_token\n    usage["completion_tokens"] * model_info["output_cost_per_token"]\n    ~~~~~^^^^^^^^^^^^^^^^^^^^^\nTypeError: \'CompletionUsage\' object is not subscriptable\n', 'model': 'gpt-4o-mini', 'cache_hit': None, 'custom_llm_provider': 'azure', 'base_model': None, 'call_type': 'completion', 'custom_pricing': False}
python_service-1  | [92m11:22:42 - LiteLLM:DEBUG[0m: utils.py:4175 - checking potential_model_names in litellm.model_cost: {'split_model': 'gpt-4o-mini-2024-07-18', 'combined_model_name': 'azure/gpt-4o-mini-2024-07-18', 'stripped_model_name': 'gpt-4o-mini-2024-07-18', 'combined_stripped_model_name': 'azure/gpt-4o-mini-2024-07-18', 'custom_llm_provider': 'azure'}
python_service-1  | DEBUG:app.llm.extractor:Checking field: N6494475
python_service-1  | DEBUG:LiteLLM:checking potential_model_names in litellm.model_cost: {'split_model': 'gpt-4o-mini-2024-07-18', 'combined_model_name': 'azure/gpt-4o-mini-2024-07-18', 'stripped_model_name': 'gpt-4o-mini-2024-07-18', 'combined_stripped_model_name': 'azure/gpt-4o-mini-2024-07-18', 'custom_llm_provider': 'azure'}
python_service-1  | [92m11:22:42 - LiteLLM:DEBUG[0m: utils.py:4453 - model_info: {'key': 'azure/gpt-4o-mini-2024-07-18', 'max_tokens': 16384, 'max_input_tokens': 128000, 'max_output_tokens': 16384, 'input_cost_per_token': 1.65e-07, 'cache_creation_input_token_cost': None, 'cache_read_input_token_cost': 7.5e-08, 'input_cost_per_character': None, 'input_cost_per_token_above_128k_tokens': None, 'input_cost_per_query': None, 'input_cost_per_second': None, 'input_cost_per_audio_token': None, 'output_cost_per_token': 6.6e-07, 'output_cost_per_audio_token': None, 'output_cost_per_character': None, 'output_cost_per_token_above_128k_tokens': None, 'output_cost_per_character_above_128k_tokens': None, 'output_cost_per_second': None, 'output_cost_per_image': None, 'output_vector_size': None, 'litellm_provider': 'azure', 'mode': 'chat', 'supports_system_messages': None, 'supports_response_schema': True, 'supports_vision': True, 'supports_function_calling': True, 'supports_tool_choice': True, 'supports_assistant_prefill': False, 'supports_prompt_caching': True, 'supports_audio_input': False, 'supports_audio_output': False, 'supports_pdf_input': False, 'supports_embedding_image_input': False, 'supports_native_streaming': None, 'tpm': None, 'rpm': None}
python_service-1  | WARNING:app.llm.extractor:No base codes available, using pattern matching
python_service-1  | DEBUG:app.llm.extractor:Checking field: 50/600
python_service-1  | WARNING:app.llm.extractor:No base codes available, using pattern matching
python_service-1  | DEBUG:app.llm.extractor:Checking field: H210
python_service-1  | WARNING:app.llm.extractor:No base codes available, using pattern matching
python_service-1  | DEBUG:app.llm.extractor:Checking field: BE
python_service-1  | WARNING:app.llm.extractor:No base codes available, using pattern matching
python_service-1  | DEBUG:app.llm.extractor:Checking field: 50/127
python_service-1  | DEBUG:LiteLLM:model_info: {'key': 'azure/gpt-4o-mini-2024-07-18', 'max_tokens': 16384, 'max_input_tokens': 128000, 'max_output_tokens': 16384, 'input_cost_per_token': 1.65e-07, 'cache_creation_input_token_cost': None, 'cache_read_input_token_cost': 7.5e-08, 'input_cost_per_character': None, 'input_cost_per_token_above_128k_tokens': None, 'input_cost_per_query': None, 'input_cost_per_second': None, 'input_cost_per_audio_token': None, 'output_cost_per_token': 6.6e-07, 'output_cost_per_audio_token': None, 'output_cost_per_character': None, 'output_cost_per_token_above_128k_tokens': None, 'output_cost_per_character_above_128k_tokens': None, 'output_cost_per_second': None, 'output_cost_per_image': None, 'output_vector_size': None, 'litellm_provider': 'azure', 'mode': 'chat', 'supports_system_messages': None, 'supports_response_schema': True, 'supports_vision': True, 'supports_function_calling': True, 'supports_tool_choice': True, 'supports_assistant_prefill': False, 'supports_prompt_caching': True, 'supports_audio_input': False, 'supports_audio_output': False, 'supports_pdf_input': False, 'supports_embedding_image_input': False, 'supports_native_streaming': None, 'tpm': None, 'rpm': None}
python_service-1  | WARNING:app.llm.extractor:No base codes available, using pattern matching
python_service-1  | DEBUG:app.llm.extractor:Checking field: 50/148
python_service-1  | WARNING:app.llm.extractor:No base codes available, using pattern matching
python_service-1  | DEBUG:app.llm.extractor:Checking field: o_GF1
python_service-1  | WARNING:app.llm.extractor:No base codes available, using pattern matching
python_service-1  | DEBUG:app.llm.extractor:Added valid code: o_GF1
python_service-1  | DEBUG:app.llm.extractor:Checking field: 50/59
python_service-1  | WARNING:app.llm.extractor:No base codes available, using pattern matching
python_service-1  | DEBUG:app.llm.extractor:Checking field: 50/155
python_service-1  | WARNING:app.llm.extractor:No base codes available, using pattern matching
python_service-1  | DEBUG:app.llm.extractor:Checking field: SF
python_service-1  | WARNING:app.llm.extractor:No base codes available, using pattern matching
python_service-1  | DEBUG:app.llm.extractor:Checking field: 50/151
python_service-1  | WARNING:app.llm.extractor:No base codes available, using pattern matching
python_service-1  | DEBUG:app.llm.extractor:Checking field: 50/101
python_service-1  | WARNING:app.llm.extractor:No base codes available, using pattern matching
python_service-1  | DEBUG:app.llm.extractor:Checking field: #02 SN√ò
python_service-1  | WARNING:app.llm.extractor:No base codes available, using pattern matching
python_service-1  | DEBUG:app.llm.extractor:Checking field: N6494250
python_service-1  | WARNING:app.llm.extractor:No base codes available, using pattern matching
python_service-1  | DEBUG:app.llm.extractor:Checking field: 42/12
python_service-1  | WARNING:app.llm.extractor:No base codes available, using pattern matching
python_service-1  | DEBUG:app.llm.extractor:Checking field: 49/87
python_service-1  | WARNING:app.llm.extractor:No base codes available, using pattern matching
python_service-1  | DEBUG:app.llm.extractor:Checking field: 49/70
python_service-1  | WARNING:app.llm.extractor:No base codes available, using pattern matching
python_service-1  | DEBUG:app.llm.extractor:Checking field: o_SPA
python_service-1  | WARNING:app.llm.extractor:No base codes available, using pattern matching
python_service-1  | DEBUG:app.llm.extractor:Added valid code: o_SPA
python_service-1  | DEBUG:app.llm.extractor:Checking field: 50/89
python_service-1  | WARNING:app.llm.extractor:No base codes available, using pattern matching
python_service-1  | DEBUG:app.llm.extractor:Checking field: BKS
python_service-1  | WARNING:app.llm.extractor:No base codes available, using pattern matching
python_service-1  | DEBUG:app.llm.extractor:Added valid code: BKS
python_service-1  | DEBUG:app.llm.extractor:Checking field: N6494400
python_service-1  | WARNING:app.llm.extractor:No base codes available, using pattern matching
python_service-1  | DEBUG:app.llm.extractor:Checking field: o_GTD1
python_service-1  | WARNING:app.llm.extractor:No base codes available, using pattern matching
python_service-1  | DEBUG:app.llm.extractor:Added valid code: o_GTD1
python_service-1  | DEBUG:app.llm.extractor:Checking field: H220
python_service-1  | WARNING:app.llm.extractor:No base codes available, using pattern matching
python_service-1  | DEBUG:app.llm.extractor:Checking field: o_SF1
python_service-1  | WARNING:app.llm.extractor:No base codes available, using pattern matching
python_service-1  | DEBUG:app.llm.extractor:Added valid code: o_SF1
python_service-1  | DEBUG:app.llm.extractor:Checking field: o_GF3
python_service-1  | WARNING:app.llm.extractor:No base codes available, using pattern matching
python_service-1  | DEBUG:app.llm.extractor:Added valid code: o_GF3
python_service-1  | DEBUG:app.llm.extractor:Checking field: 50/66
python_service-1  | WARNING:app.llm.extractor:No base codes available, using pattern matching
python_service-1  | DEBUG:app.llm.extractor:Checking field: #01 SN√ò
python_service-1  | WARNING:app.llm.extractor:No base codes available, using pattern matching
python_service-1  | DEBUG:app.llm.extractor:Checking field: H320
python_service-1  | WARNING:app.llm.extractor:No base codes available, using pattern matching
python_service-1  | DEBUG:app.llm.extractor:Checking field: SPA
python_service-1  | WARNING:app.llm.extractor:No base codes available, using pattern matching
python_service-1  | DEBUG:app.llm.extractor:Checking field: GT
python_service-1  | WARNING:app.llm.extractor:No base codes available, using pattern matching
python_service-1  | DEBUG:app.llm.extractor:Checking field: 50/71
python_service-1  | WARNING:app.llm.extractor:No base codes available, using pattern matching
python_service-1  | DEBUG:app.llm.extractor:Checking field: 50/158
python_service-1  | WARNING:app.llm.extractor:No base codes available, using pattern matching
python_service-1  | DEBUG:app.llm.extractor:Checking field: 49/82
python_service-1  | WARNING:app.llm.extractor:No base codes available, using pattern matching
python_service-1  | DEBUG:app.llm.extractor:Checking field: o_SF2
python_service-1  | WARNING:app.llm.extractor:No base codes available, using pattern matching
python_service-1  | DEBUG:app.llm.extractor:Added valid code: o_SF2
python_service-1  | DEBUG:app.llm.extractor:Checking field: SN√ò
python_service-1  | WARNING:app.llm.extractor:No base codes available, using pattern matching
python_service-1  | DEBUG:app.llm.extractor:Checking field: 50/40
python_service-1  | WARNING:app.llm.extractor:No base codes available, using pattern matching
python_service-1  | DEBUG:app.llm.extractor:Checking field: 50/637
python_service-1  | WARNING:app.llm.extractor:No base codes available, using pattern matching
python_service-1  | DEBUG:app.llm.extractor:Checking field: 49/10
python_service-1  | WARNING:app.llm.extractor:No base codes available, using pattern matching
python_service-1  | DEBUG:app.llm.extractor:Checking field: BR
python_service-1  | WARNING:app.llm.extractor:No base codes available, using pattern matching
python_service-1  | DEBUG:app.llm.extractor:Checking field: 49/77
python_service-1  | WARNING:app.llm.extractor:No base codes available, using pattern matching
python_service-1  | DEBUG:app.llm.extractor:Checking field: 49/86
python_service-1  | WARNING:app.llm.extractor:No base codes available, using pattern matching
python_service-1  | DEBUG:app.llm.extractor:Checking field: BIA
python_service-1  | WARNING:app.llm.extractor:No base codes available, using pattern matching
python_service-1  | DEBUG:app.llm.extractor:Checking field: N6494325
python_service-1  | WARNING:app.llm.extractor:No base codes available, using pattern matching
python_service-1  | DEBUG:app.llm.extractor:Checking field: 50/132
python_service-1  | WARNING:app.llm.extractor:No base codes available, using pattern matching
python_service-1  | DEBUG:app.llm.extractor:Checking field: 50/128
python_service-1  | WARNING:app.llm.extractor:No base codes available, using pattern matching
python_service-1  | DEBUG:app.llm.extractor:Checking field: 42/51
python_service-1  | WARNING:app.llm.extractor:No base codes available, using pattern matching
python_service-1  | INFO:app.llm.extractor:Extracted fields: {'BKS', 'O_SF1', 'O_GF1', 'O_GTD2', 'O_GF2', 'O_SPA', 'O_GF3', 'O_SF2', 'O_GTD1'}
python_service-1  | DEBUG:app.llm.extractor:Raw text from PDF: [{'content': '  1 \n  \n \n \nReguleringsbestemmelser  \nfor \nSt√∏peritomta \n \nPlan ID: 202102 \nPlankart dato: 11.05.2022 \nReguleringsbestemmelser dato: 11.05.2022 \nVedtatt PS 59/22: 16.06.2022 \n  \n \n¬ß1. Planform√•l \nForm√•let med planen er √• tilrettelegge for konsentrert bebyggelse med tilh√∏rende anlegg. \nPlanen omfatter ogs√• kirke/annen religionsut√∏velse, parkeringsanlegg og idrett/park.  \n \nPlanen inneholder f√∏lgende form√•l (Pbl. ¬ß 12-5): \n \n¬ß1.1 Bebyggelse og anlegg (pbl ¬ß12-5,nr 1) \nBoligbebyggelse- Konsentrert sm√•husbebyggelse (BKS) \nForsamlingslokale for religionsut√∏velse (BR) \nIdrettsanlegg (BIA) \nEnergianlegg (BE) \n \n¬ß1.2 Samferdselsanlegg og teknisk infrastruktur (pbl ¬ß12-5, nr 2) \nVeg (o_SV1 og 3) \nFortau (o_SF) \nParkering(o_SPA) \n \n¬ß1.3 Gr√∏nnstruktur (pbl ¬ß12-5,2. ledd nr 3) \nFriomr√•de (o_GF1-3) \nTurdrag (o_GTD1-2) \n \n \n  \n'}, {'content': '  2 \n¬ß2. Rekkef√∏lgebestemmelser (pbl ¬ß 12-7 nr. 10) \n \n¬ß2.1 F√∏r midlertidig brukstillatelse for BKS skal o_SV3 v√¶re ferdig opparbeidet.  \n¬ß2.2 F√∏r midlertidig brukstillatelse for 1. boenhet p√• BKS skal lekeplass innenfor GF1 v√¶re ferdig \nopparbeidet. \n¬ß2.3 F√∏r midlertidig brukstillatelse p√• 5. boenhet p√• BKS skal o_GTD1-2 v√¶re ferdig opparbeidet.  \n¬ß2.4 F√∏r midlertidig brukstillatelse for BKS skal o_SF v√¶re ferdig opparbeidet. \n¬ß2.5 F√∏r ferdigattest p√• BR, skal o_SF og o_SPA v√¶re ferdig opparbeidet. \n \n \n \n \n \n¬ß3. Fellesbestemmelser \n¬ß3.1 Bygge- og anleggsst√∏y skal ikke overskride st√∏ygrensen i tabell 4 i retningslinje for behandling \nav st√∏y i arealplanlegging (T-1442/2021). St√∏yende aktivitet skal foregaÃä p√• dagtid. \n¬ß4. Bebyggelse og anlegg (pbl 12-5 nr. 1) \nBoligbebyggelse-konsentrert sm√•husbebyggelse - BKS \n \n¬ß4.1 Bebyggelse: Det tillates fire tomannsboliger p√• tomten. Totalt 8 boenheter.   \n¬ß4.2 Byggegrenser: Plassering av nye tiltak skal skje innenfor byggegrensene. For \ngarasje/carport/bod mindre enn 50 m2 BYA gjelder byggegrense p√• 1 meter fra tomtegrense. \nTerrenginngrep og grunnarbeider i forbindelse med opparbeidelse av tomtene tillattes \nutenfor byggegrense. Avkj√∏rsel og parkering tillates utenfor byggegrense. \n¬ß4.3 Garasje/Carport: Alle boenheter skal ha minst en parkering under tak til disposisjon.  \n¬ß4.4 Bestemmelsesomr√•de #01 SN√ò: Innenfor omr√•det kan det anlegges opplag for sn√∏. \n \nGrad av utnytting \n¬ß4.5 Utnyttelsesgrad: BYA for omr√•det BKS skal v√¶re maksimalt %-BYA= 40%. Overbygg til \nrenovasjon eller dunker medregnes ikke i %-BYA. \n¬ß4.6 Parkering: Det skal avsettes 2 parkeringsplasser for hver boenhet, hvor en av disse skal v√¶re i \ngarasje/carport. BYA for parkering er 3x6=18m2 per plass. \n \nH√∏yder ‚Äì Utforming av bebyggelse \n¬ß4.7 Planeringsh√∏yder: Maksimal planeringsh√∏yde er angitt i plankart. Maks planeringsh√∏yde er \nK+182. \n¬ß4.8 Takform: Bebyggelse skal ha saltak med en takvinkel mellom 30 - 40 grader.  \n¬ß4.9 Takh√∏yder: Tillate takh√∏yder er angitt i tabellen under. H√∏yder regnes fra planert terreng. \n \n Saltak \nM√∏ne 6,0 m \nGesimsh√∏yde 3,5 m \nTakvinkel 30-40 grader \n \nSt√∏yf√∏lsom bebyggelse \nF√∏r det tillates tiltak innenfor omr√•det skal det gj√∏res st√∏yskjermede tiltak.   \n¬ß4.10 Alle boenheter skal ha uteplass p√• b√•de √∏stsiden og vestsiden av bebyggelsen.  '}, {'content': '  3 \n¬ß4.11 Alle boenheter skal v√¶re gjennomg√•ende og ha minst ett soverom plassert p√• vestsiden og \n√∏stsiden. Eventuelt √∏kt lydisolasjon i fasade i minst ett soverom i hver boenhet. \n \nTeknisk plan \n¬ß4.12 Det stilles teknisk plan for VA, overvannsh√•ndtering og str√∏mforsyning f√∏r \nigangsettingstillatelse kan gis innenfor omr√•det BKS. Det b√∏r legge til rette for √•pne \nvannveier for overvannsh√•ndtering. Dersom andre l√∏sninger velges skal det begrunnes \nhvorfor naturbaserte l√∏sninger velges bort. \n¬ß4.13 V/A- anlegg samt vei skal dimensjoneres og opparbeides i samsvar med til enhver tids \ngjeldende ¬´Retningslinjer for vei, vann og avl√∏p¬ª for Evje og Hornnes kommune. Det skal \nsikres teknisk godkjenning av offentlig samferdselsanlegg. \n¬ß4.14 Det skal f√∏r utbygging avklares hvordan det nye utbyggingsomr√•det i planomr√•det skal \nforsynes med elektrisk str√∏m. Det m√• avklares i hvilken grad eksisterende ledninger/kabler \neventuelt kan benyttes og om nye ledninger/kabler m√• legges om og om det er behov for \nny(e) nettstasjon(er). \n \nUtforming av tomt \n¬ß4.15 Situasjonsplan: Ved s√∏knad om tillatelse til tiltak skal situasjonsplan vedlegges i tilpasset \nm√•lestokk som viser plassering av bebyggelse og h√∏yde. Situasjonsplan skal ogs√• vise \nplassering av parkering, avkj√∏rsel og evt. st√∏ttemurer.  \n¬ß4.16 Renovasjon: Areal for renovasjon skal vises p√• situasjonsplan. Situasjonsplanen skal vise at \nrenovasjonsbil har tilstrekkelig snuareal innenfor planomr√•det.  \n¬ß4.17 Forst√∏tningsmur: Det tillattes forst√∏tningsmurer for √• tilpasse terrenget. Forst√∏tningsmurer \ntillates oppf√∏rt utenfor byggegrense. Maks tillatt h√∏yde p√• forst√∏tningsmurer er 2,5 meter.  \n¬ß4.18 Det stilles estetisk krav til utforming av fylling / naturstein plastret skr√•ning mot bekk. \nSkr√•ning skal jord klees, tils√•es og sikres mot erosjon. \n \nForsamlingslokale for religionsut√∏velse - BR \n \n¬ß4.19 Omr√•det skal benyttes til nytt sentrumsn√¶rt bedehus i n√∏dvendig grad og utstrekning \n¬ß4.20 Bygninger kan oppf√∏res med gesimsh√∏yde 8,0 meter og m√∏neh√∏yde 10,5 meter. \n¬ß4.21 BYA for arealform√•let skal v√¶re maksimalt %-BYA= 50. Areal for parkering medregnes ikke i \n%BYA \n¬ß4.22 Det skal avsettes tilstrekkelig med parkeringsareal til gjeldende aktivitet innenfor regulert \nomr√•de. Parkeringsbehovet for bedehuset kan l√∏ses b√•de innenfor BR og SPA. \n¬ß4.23 Arealutnyttelse utover dette skal opparbeides parkmessig og v√¶re tilgjengelig for \nallmennheten. \n¬ß4.24 Oppgitt gesimsh√∏yde og m√∏neh√∏yde skal regnes ut fra gjennomsnittlig h√∏yde p√• tomta/ \nomr√•det f√∏r opparbeidelse begynner. \n¬ß4.25 Innenfor omr√•det BR tillates det internveier og parkeringsplasser. \n \nIdrettsanlegg - BIA \n¬ß4.26 Innenfor omr√•det er det tillatt med tiltak som fremmer idrettsaktiviteter.  \n \nEnergianlegg - BE \n¬ß4.27 Innenfor omr√•det er det tillatt plassering av trafo og infrastruktur i sammenheng med dette. \n \n  '}, {'content': '  4 \n¬ß5. Samferdselsanlegg og teknisk infrastruktur (pbl 12-5 nr. 2) \nVeg (o_SV1) \n¬ß5.1 Veien o_SV1 er adkomst for alle tilgrensende eiendommer. \nDet skal opparbeides et fysisk skille mellom o_SV1 og omkringliggende arealform√•l SPA, GF \nog SGS. Adkomst til SPA og BR skal ikke v√¶re rett ovenfor hverandre. \n \n \n \nVeg (o_SV3) \n¬ß5.2 Veien o_SV3-er adkomst for boligomr√•de BKS og BR samt atkomst til o_SPA. Plasseringer av \navkj√∏rsler langs o_SV3 er ikke endelige og tillates justert i samr√•d med veieier. \n \nFortau (o_SF1-2) \n¬ß5.3 o_SF1-2 er regulert til offentlig fortau med en bredde p√• 3 meter. \n \nParkering (o_SPA) \n¬ß5.4 o_SPA er offentlig parkeringsplass. \n¬ß5.5 Parkeringsbehov for bedehuset kan l√∏ses innenfor o_SPA. \n¬ß5.6 Det tillates etablert ladestasjoner innenfor omr√•det.  \n¬ß5.7 Atkomst til SPA og SGS skal ikke anlegges vertikalt rett overfor hverandre. \n \n \n¬ß6. Gr√∏nnstruktur (pbl 12-5 nr. 3) \n \nFriomr√•de (o_GF1-3) \n¬ß6.1 Omr√•de for friomr√•de/gr√∏ntstruktur GF1-GF3 er til fri ferdsel for allmenheten. \n¬ß6.2 I omr√•dene er det tillat oppf√∏rt bebyggelse og andre tekniske installasjoner som typisk \nberiker bruken av omr√•de. \n¬ß6.3 Innenfor omr√•det GF1 skal det opparbeides et felles leke- og uteoppholdsareal for hele \nplanomr√•det. Lekeplassen skal utstyres med sand, benk og min. 3 ulike lekeapparater. \n¬ß6.4 Det tillates avkj√∏rsel for BR over o_GF3 \n¬ß6.5 Bestemmelsesomr√•de #02 SN√ò: Innenfor omr√•det kan det anlegges opplag for sn√∏. \n¬ß6.6 Det tillates √• legge kabler i bakken innenfor omr√•de avsatt til friomr√•de. \n¬ß6.7 Adkomst til lekearealer skal v√¶re universelt utformet. \n \nTurdrag (GTD1-2) \n¬ß6.8 Omr√•dene skal benyttes til turveier. \n \n \n \nDato 11.05.2022 '}]...
python_service-1  | [92m11:22:42 - LiteLLM:DEBUG[0m: utils.py:298 - 
python_service-1  | 
python_service-1  | DEBUG:LiteLLM:
python_service-1  | 
python_service-1  | [92m11:22:42 - LiteLLM:DEBUG[0m: utils.py:298 - [92mRequest to litellm:[0m
python_service-1  | DEBUG:LiteLLM:[92mRequest to litellm:[0m
python_service-1  | [92m11:22:42 - LiteLLM:DEBUG[0m: utils.py:298 - [92mlitellm.completion(messages=[{'role': 'system', 'content': 'You are a server API that receives document information and returns specific fields in JSON format.\n\n\n        As a genius expert, your task is to understand the content and provide\n        the parsed objects in json that match the following json_schema:\n\n\n        {\n  "description": "Contract for field extraction from regulatory documents.\\n\\nDefines the structure and prompt for extracting regulation codes from\\nNorwegian planning documents (plankart and bestemmelser).\\n\\nAttributes:\\n    fields (Set[str]): Set of extracted regulation codes",\n  "properties": {\n    "fields": {\n      "items": {\n        "type": "string"\n      },\n      "title": "Fields",\n      "type": "array",\n      "uniqueItems": true\n    }\n  },\n  "required": [\n    "fields"\n  ],\n  "title": "FieldExtractContract",\n  "type": "object"\n}\n\n        Make sure to return an instance of the JSON, not the schema itself\n'}, {'role': 'user', 'content': '##Content\n\n{content: "  1 \\n  \\n \\n \\nReguleringsbestemmelser  \\nfor \\nSt\\xF8peritomta \\n \\n\\\n    Plan ID: 202102 \\nPlankart dato: 11.05.2022 \\nReguleringsbestemmelser dato: 11.05.2022\\\n    \\ \\nVedtatt PS 59/22: 16.06.2022 \\n  \\n \\n\\xA71. Planform\\xE5l \\nForm\\xE5let med\\\n    \\ planen er \\xE5 tilrettelegge for konsentrert bebyggelse med tilh\\xF8rende anlegg.\\\n    \\ \\nPlanen omfatter ogs\\xE5 kirke/annen religionsut\\xF8velse, parkeringsanlegg\\\n    \\ og idrett/park.  \\n \\nPlanen inneholder f\\xF8lgende form\\xE5l (Pbl. \\xA7 12-5):\\\n    \\ \\n \\n\\xA71.1 Bebyggelse og anlegg (pbl \\xA712-5,nr 1) \\nBoligbebyggelse- Konsentrert\\\n    \\ sm\\xE5husbebyggelse (BKS) \\nForsamlingslokale for religionsut\\xF8velse (BR)\\\n    \\ \\nIdrettsanlegg (BIA) \\nEnergianlegg (BE) \\n \\n\\xA71.2 Samferdselsanlegg og\\\n    \\ teknisk infrastruktur (pbl \\xA712-5, nr 2) \\nVeg (o_SV1 og 3) \\nFortau (o_SF)\\\n    \\ \\nParkering(o_SPA) \\n \\n\\xA71.3 Gr\\xF8nnstruktur (pbl \\xA712-5,2. ledd nr 3)\\\n    \\ \\nFriomr\\xE5de (o_GF1-3) \\nTurdrag (o_GTD1-2) \\n \\n \\n  \\n\\n\\n  2 \\n\\xA72. Rekkef\\xF8\\\n    lgebestemmelser (pbl \\xA7 12-7 nr. 10) \\n \\n\\xA72.1 F\\xF8r midlertidig brukstillatelse\\\n    \\ for BKS skal o_SV3 v\\xE6re ferdig opparbeidet.  \\n\\xA72.2 F\\xF8r midlertidig\\\n    \\ brukstillatelse for 1. boenhet p\\xE5 BKS skal lekeplass innenfor GF1 v\\xE6re\\\n    \\ ferdig \\nopparbeidet. \\n\\xA72.3 F\\xF8r midlertidig brukstillatelse p\\xE5 5.\\\n    \\ boenhet p\\xE5 BKS skal o_GTD1-2 v\\xE6re ferdig opparbeidet.  \\n\\xA72.4 F\\xF8\\\n    r midlertidig brukstillatelse for BKS skal o_SF v\\xE6re ferdig opparbeidet. \\n\\\n    \\xA72.5 F\\xF8r ferdigattest p\\xE5 BR, skal o_SF og o_SPA v\\xE6re ferdig opparbeidet.\\\n    \\ \\n \\n \\n \\n \\n \\n\\xA73. Fellesbestemmelser \\n\\xA73.1 Bygge- og anleggsst\\xF8\\\n    y skal ikke overskride st\\xF8ygrensen i tabell 4 i retningslinje for behandling\\\n    \\ \\nav st\\xF8y i arealplanlegging (T-1442/2021). St\\xF8yende aktivitet skal forega\\u030A\\\n    \\ p\\xE5 dagtid. \\n\\xA74. Bebyggelse og anlegg (pbl 12-5 nr. 1) \\nBoligbebyggelse-konsentrert\\\n    \\ sm\\xE5husbebyggelse - BKS \\n \\n\\xA74.1 Bebyggelse: Det tillates fire tomannsboliger\\\n    \\ p\\xE5 tomten. Totalt 8 boenheter.   \\n\\xA74.2 Byggegrenser: Plassering av nye\\\n    \\ tiltak skal skje innenfor byggegrensene. For \\ngarasje/carport/bod mindre enn\\\n    \\ 50 m2 BYA gjelder byggegrense p\\xE5 1 meter fra tomtegrense. \\nTerrenginngrep\\\n    \\ og grunnarbeider i forbindelse med opparbeidelse av tomtene tillattes \\nutenfor\\\n    \\ byggegrense. Avkj\\xF8rsel og parkering tillates utenfor byggegrense. \\n\\xA7\\\n    4.3 Garasje/Carport: Alle boenheter skal ha minst en parkering under tak til disposisjon.\\\n    \\  \\n\\xA74.4 Bestemmelsesomr\\xE5de #01 SN\\xD8: Innenfor omr\\xE5det kan det anlegges\\\n    \\ opplag for sn\\xF8. \\n \\nGrad av utnytting \\n\\xA74.5 Utnyttelsesgrad: BYA for\\\n    \\ omr\\xE5det BKS skal v\\xE6re maksimalt %-BYA= 40%. Overbygg til \\nrenovasjon\\\n    \\ eller dunker medregnes ikke i %-BYA. \\n\\xA74.6 Parkering: Det skal avsettes\\\n    \\ 2 parkeringsplasser for hver boenhet, hvor en av disse skal v\\xE6re i \\ngarasje/carport.\\\n    \\ BYA for parkering er 3x6=18m2 per plass. \\n \\nH\\xF8yder \\u2013 Utforming av\\\n    \\ bebyggelse \\n\\xA74.7 Planeringsh\\xF8yder: Maksimal planeringsh\\xF8yde er angitt\\\n    \\ i plankart. Maks planeringsh\\xF8yde er \\nK+182. \\n\\xA74.8 Takform: Bebyggelse\\\n    \\ skal ha saltak med en takvinkel mellom 30 - 40 grader.  \\n\\xA74.9 Takh\\xF8yder:\\\n    \\ Tillate takh\\xF8yder er angitt i tabellen under. H\\xF8yder regnes fra planert\\\n    \\ terreng. \\n \\n Saltak \\nM\\xF8ne 6,0 m \\nGesimsh\\xF8yde 3,5 m \\nTakvinkel 30-40\\\n    \\ grader \\n \\nSt\\xF8yf\\xF8lsom bebyggelse \\nF\\xF8r det tillates tiltak innenfor\\\n    \\ omr\\xE5det skal det gj\\xF8res st\\xF8yskjermede tiltak.   \\n\\xA74.10 Alle boenheter\\\n    \\ skal ha uteplass p\\xE5 b\\xE5de \\xF8stsiden og vestsiden av bebyggelsen.  \\n\\n\\\n    \\  3 \\n\\xA74.11 Alle boenheter skal v\\xE6re gjennomg\\xE5ende og ha minst ett soverom\\\n    \\ plassert p\\xE5 vestsiden og \\n\\xF8stsiden. Eventuelt \\xF8kt lydisolasjon i fasade\\\n    \\ i minst ett soverom i hver boenhet. \\n \\nTeknisk plan \\n\\xA74.12 Det stilles\\\n    \\ teknisk plan for VA, overvannsh\\xE5ndtering og str\\xF8mforsyning f\\xF8r \\nigangsettingstillatelse\\\n    \\ kan gis innenfor omr\\xE5det BKS. Det b\\xF8r legge til rette for \\xE5pne \\nvannveier\\\n    \\ for overvannsh\\xE5ndtering. Dersom andre l\\xF8sninger velges skal det begrunnes\\\n    \\ \\nhvorfor naturbaserte l\\xF8sninger velges bort. \\n\\xA74.13 V/A- anlegg samt\\\n    \\ vei skal dimensjoneres og opparbeides i samsvar med til enhver tids \\ngjeldende\\\n    \\ \\xABRetningslinjer for vei, vann og avl\\xF8p\\xBB for Evje og Hornnes kommune.\\\n    \\ Det skal \\nsikres teknisk godkjenning av offentlig samferdselsanlegg. \\n\\xA7\\\n    4.14 Det skal f\\xF8r utbygging avklares hvordan det nye utbyggingsomr\\xE5det i\\\n    \\ planomr\\xE5det skal \\nforsynes med elektrisk str\\xF8m. Det m\\xE5 avklares i\\\n    \\ hvilken grad eksisterende ledninger/kabler \\neventuelt kan benyttes og om nye\\\n    \\ ledninger/kabler m\\xE5 legges om og om det er behov for \\nny(e) nettstasjon(er).\\\n    \\ \\n \\nUtforming av tomt \\n\\xA74.15 Situasjonsplan: Ved s\\xF8knad om tillatelse\\\n    \\ til tiltak skal situasjonsplan vedlegges i tilpasset \\nm\\xE5lestokk som viser\\\n    \\ plassering av bebyggelse og h\\xF8yde. Situasjonsplan skal ogs\\xE5 vise \\nplassering\\\n    \\ av parkering, avkj\\xF8rsel og evt. st\\xF8ttemurer.  \\n\\xA74.16 Renovasjon: Areal\\\n    \\ for renovasjon skal vises p\\xE5 situasjonsplan. Situasjonsplanen skal vise at\\\n    \\ \\nrenovasjonsbil har tilstrekkelig snuareal innenfor planomr\\xE5det.  \\n\\xA7\\\n    4.17 Forst\\xF8tningsmur: Det tillattes forst\\xF8tningsmurer for \\xE5 tilpasse\\\n    \\ terrenget. Forst\\xF8tningsmurer \\ntillates oppf\\xF8rt utenfor byggegrense. Maks\\\n    \\ tillatt h\\xF8yde p\\xE5 forst\\xF8tningsmurer er 2,5 meter.  \\n\\xA74.18 Det stilles\\\n    \\ estetisk krav til utforming av fylling / naturstein plastret skr\\xE5ning mot\\\n    \\ bekk. \\nSkr\\xE5ning skal jord klees, tils\\xE5es og sikres mot erosjon. \\n \\n\\\n    Forsamlingslokale for religionsut\\xF8velse - BR \\n \\n\\xA74.19 Omr\\xE5det skal\\\n    \\ benyttes til nytt sentrumsn\\xE6rt bedehus i n\\xF8dvendig grad og utstrekning\\\n    \\ \\n\\xA74.20 Bygninger kan oppf\\xF8res med gesimsh\\xF8yde 8,0 meter og m\\xF8neh\\xF8\\\n    yde 10,5 meter. \\n\\xA74.21 BYA for arealform\\xE5let skal v\\xE6re maksimalt %-BYA=\\\n    \\ 50. Areal for parkering medregnes ikke i \\n%BYA \\n\\xA74.22 Det skal avsettes\\\n    \\ tilstrekkelig med parkeringsareal til gjeldende aktivitet innenfor regulert\\\n    \\ \\nomr\\xE5de. Parkeringsbehovet for bedehuset kan l\\xF8ses b\\xE5de innenfor BR\\\n    \\ og SPA. \\n\\xA74.23 Arealutnyttelse utover dette skal opparbeides parkmessig\\\n    \\ og v\\xE6re tilgjengelig for \\nallmennheten. \\n\\xA74.24 Oppgitt gesimsh\\xF8yde\\\n    \\ og m\\xF8neh\\xF8yde skal regnes ut fra gjennomsnittlig h\\xF8yde p\\xE5 tomta/\\\n    \\ \\nomr\\xE5det f\\xF8r opparbeidelse begynner. \\n\\xA74.25 Innenfor omr\\xE5det BR\\\n    \\ tillates det internveier og parkeringsplasser. \\n \\nIdrettsanlegg - BIA \\n\\xA7\\\n    4.26 Innenfor omr\\xE5det er det tillatt med tiltak som fremmer idrettsaktiviteter.\\\n    \\  \\n \\nEnergianlegg - BE \\n\\xA74.27 Innenfor omr\\xE5det er det tillatt plassering\\\n    \\ av trafo og infrastruktur i sammenheng med dette. \\n \\n  \\n\\n  4 \\n\\xA75. Samferdselsanlegg\\\n    \\ og teknisk infrastruktur (pbl 12-5 nr. 2) \\nVeg (o_SV1) \\n\\xA75.1 Veien o_SV1\\\n    \\ er adkomst for alle tilgrensende eiendommer. \\nDet skal opparbeides et fysisk\\\n    \\ skille mellom o_SV1 og omkringliggende arealform\\xE5l SPA, GF \\nog SGS. Adkomst\\\n    \\ til SPA og BR skal ikke v\\xE6re rett ovenfor hverandre. \\n \\n \\n \\nVeg (o_SV3)\\\n    \\ \\n\\xA75.2 Veien o_SV3-er adkomst for boligomr\\xE5de BKS og BR samt atkomst til\\\n    \\ o_SPA. Plasseringer av \\navkj\\xF8rsler langs o_SV3 er ikke endelige og tillates\\\n    \\ justert i samr\\xE5d med veieier. \\n \\nFortau (o_SF1-2) \\n\\xA75.3 o_SF1-2 er\\\n    \\ regulert til offentlig fortau med en bredde p\\xE5 3 meter. \\n \\nParkering (o_SPA)\\\n    \\ \\n\\xA75.4 o_SPA er offentlig parkeringsplass. \\n\\xA75.5 Parkeringsbehov for\\\n    \\ bedehuset kan l\\xF8ses innenfor o_SPA. \\n\\xA75.6 Det tillates etablert ladestasjoner\\\n    \\ innenfor omr\\xE5det.  \\n\\xA75.7 Atkomst til SPA og SGS skal ikke anlegges vertikalt\\\n    \\ rett overfor hverandre. \\n \\n \\n\\xA76. Gr\\xF8nnstruktur (pbl 12-5 nr. 3) \\n\\\n    \\ \\nFriomr\\xE5de (o_GF1-3) \\n\\xA76.1 Omr\\xE5de for friomr\\xE5de/gr\\xF8ntstruktur\\\n    \\ GF1-GF3 er til fri ferdsel for allmenheten. \\n\\xA76.2 I omr\\xE5dene er det tillat\\\n    \\ oppf\\xF8rt bebyggelse og andre tekniske installasjoner som typisk \\nberiker\\\n    \\ bruken av omr\\xE5de. \\n\\xA76.3 Innenfor omr\\xE5det GF1 skal det opparbeides\\\n    \\ et felles leke- og uteoppholdsareal for hele \\nplanomr\\xE5det. Lekeplassen skal\\\n    \\ utstyres med sand, benk og min. 3 ulike lekeapparater. \\n\\xA76.4 Det tillates\\\n    \\ avkj\\xF8rsel for BR over o_GF3 \\n\\xA76.5 Bestemmelsesomr\\xE5de #02 SN\\xD8: Innenfor\\\n    \\ omr\\xE5det kan det anlegges opplag for sn\\xF8. \\n\\xA76.6 Det tillates \\xE5 legge\\\n    \\ kabler i bakken innenfor omr\\xE5de avsatt til friomr\\xE5de. \\n\\xA76.7 Adkomst\\\n    \\ til lekearealer skal v\\xE6re universelt utformet. \\n \\nTurdrag (GTD1-2) \\n\\xA7\\\n    6.8 Omr\\xE5dene skal benyttes til turveier. \\n \\n \\n \\nDato 11.05.2022 ", images: [],\n  metadata: {num_pages: 4}}\n\n\nReturn the correct JSON response within a ```json codeblock. not the JSON_SCHEMA'}], model='azure/gpt-4o-mini', temperature=0, max_tokens=4000, timeout=3000)[0m
python_service-1  | DEBUG:LiteLLM:[92mlitellm.completion(messages=[{'role': 'system', 'content': 'You are a server API that receives document information and returns specific fields in JSON format.\n\n\n        As a genius expert, your task is to understand the content and provide\n        the parsed objects in json that match the following json_schema:\n\n\n        {\n  "description": "Contract for field extraction from regulatory documents.\\n\\nDefines the structure and prompt for extracting regulation codes from\\nNorwegian planning documents (plankart and bestemmelser).\\n\\nAttributes:\\n    fields (Set[str]): Set of extracted regulation codes",\n  "properties": {\n    "fields": {\n      "items": {\n        "type": "string"\n      },\n      "title": "Fields",\n      "type": "array",\n      "uniqueItems": true\n    }\n  },\n  "required": [\n    "fields"\n  ],\n  "title": "FieldExtractContract",\n  "type": "object"\n}\n\n        Make sure to return an instance of the JSON, not the schema itself\n'}, {'role': 'user', 'content': '##Content\n\n{content: "  1 \\n  \\n \\n \\nReguleringsbestemmelser  \\nfor \\nSt\\xF8peritomta \\n \\n\\\n    Plan ID: 202102 \\nPlankart dato: 11.05.2022 \\nReguleringsbestemmelser dato: 11.05.2022\\\n    \\ \\nVedtatt PS 59/22: 16.06.2022 \\n  \\n \\n\\xA71. Planform\\xE5l \\nForm\\xE5let med\\\n    \\ planen er \\xE5 tilrettelegge for konsentrert bebyggelse med tilh\\xF8rende anlegg.\\\n    \\ \\nPlanen omfatter ogs\\xE5 kirke/annen religionsut\\xF8velse, parkeringsanlegg\\\n    \\ og idrett/park.  \\n \\nPlanen inneholder f\\xF8lgende form\\xE5l (Pbl. \\xA7 12-5):\\\n    \\ \\n \\n\\xA71.1 Bebyggelse og anlegg (pbl \\xA712-5,nr 1) \\nBoligbebyggelse- Konsentrert\\\n    \\ sm\\xE5husbebyggelse (BKS) \\nForsamlingslokale for religionsut\\xF8velse (BR)\\\n    \\ \\nIdrettsanlegg (BIA) \\nEnergianlegg (BE) \\n \\n\\xA71.2 Samferdselsanlegg og\\\n    \\ teknisk infrastruktur (pbl \\xA712-5, nr 2) \\nVeg (o_SV1 og 3) \\nFortau (o_SF)\\\n    \\ \\nParkering(o_SPA) \\n \\n\\xA71.3 Gr\\xF8nnstruktur (pbl \\xA712-5,2. ledd nr 3)\\\n    \\ \\nFriomr\\xE5de (o_GF1-3) \\nTurdrag (o_GTD1-2) \\n \\n \\n  \\n\\n\\n  2 \\n\\xA72. Rekkef\\xF8\\\n    lgebestemmelser (pbl \\xA7 12-7 nr. 10) \\n \\n\\xA72.1 F\\xF8r midlertidig brukstillatelse\\\n    \\ for BKS skal o_SV3 v\\xE6re ferdig opparbeidet.  \\n\\xA72.2 F\\xF8r midlertidig\\\n    \\ brukstillatelse for 1. boenhet p\\xE5 BKS skal lekeplass innenfor GF1 v\\xE6re\\\n    \\ ferdig \\nopparbeidet. \\n\\xA72.3 F\\xF8r midlertidig brukstillatelse p\\xE5 5.\\\n    \\ boenhet p\\xE5 BKS skal o_GTD1-2 v\\xE6re ferdig opparbeidet.  \\n\\xA72.4 F\\xF8\\\n    r midlertidig brukstillatelse for BKS skal o_SF v\\xE6re ferdig opparbeidet. \\n\\\n    \\xA72.5 F\\xF8r ferdigattest p\\xE5 BR, skal o_SF og o_SPA v\\xE6re ferdig opparbeidet.\\\n    \\ \\n \\n \\n \\n \\n \\n\\xA73. Fellesbestemmelser \\n\\xA73.1 Bygge- og anleggsst\\xF8\\\n    y skal ikke overskride st\\xF8ygrensen i tabell 4 i retningslinje for behandling\\\n    \\ \\nav st\\xF8y i arealplanlegging (T-1442/2021). St\\xF8yende aktivitet skal forega\\u030A\\\n    \\ p\\xE5 dagtid. \\n\\xA74. Bebyggelse og anlegg (pbl 12-5 nr. 1) \\nBoligbebyggelse-konsentrert\\\n    \\ sm\\xE5husbebyggelse - BKS \\n \\n\\xA74.1 Bebyggelse: Det tillates fire tomannsboliger\\\n    \\ p\\xE5 tomten. Totalt 8 boenheter.   \\n\\xA74.2 Byggegrenser: Plassering av nye\\\n    \\ tiltak skal skje innenfor byggegrensene. For \\ngarasje/carport/bod mindre enn\\\n    \\ 50 m2 BYA gjelder byggegrense p\\xE5 1 meter fra tomtegrense. \\nTerrenginngrep\\\n    \\ og grunnarbeider i forbindelse med opparbeidelse av tomtene tillattes \\nutenfor\\\n    \\ byggegrense. Avkj\\xF8rsel og parkering tillates utenfor byggegrense. \\n\\xA7\\\n    4.3 Garasje/Carport: Alle boenheter skal ha minst en parkering under tak til disposisjon.\\\n    \\  \\n\\xA74.4 Bestemmelsesomr\\xE5de #01 SN\\xD8: Innenfor omr\\xE5det kan det anlegges\\\n    \\ opplag for sn\\xF8. \\n \\nGrad av utnytting \\n\\xA74.5 Utnyttelsesgrad: BYA for\\\n    \\ omr\\xE5det BKS skal v\\xE6re maksimalt %-BYA= 40%. Overbygg til \\nrenovasjon\\\n    \\ eller dunker medregnes ikke i %-BYA. \\n\\xA74.6 Parkering: Det skal avsettes\\\n    \\ 2 parkeringsplasser for hver boenhet, hvor en av disse skal v\\xE6re i \\ngarasje/carport.\\\n    \\ BYA for parkering er 3x6=18m2 per plass. \\n \\nH\\xF8yder \\u2013 Utforming av\\\n    \\ bebyggelse \\n\\xA74.7 Planeringsh\\xF8yder: Maksimal planeringsh\\xF8yde er angitt\\\n    \\ i plankart. Maks planeringsh\\xF8yde er \\nK+182. \\n\\xA74.8 Takform: Bebyggelse\\\n    \\ skal ha saltak med en takvinkel mellom 30 - 40 grader.  \\n\\xA74.9 Takh\\xF8yder:\\\n    \\ Tillate takh\\xF8yder er angitt i tabellen under. H\\xF8yder regnes fra planert\\\n    \\ terreng. \\n \\n Saltak \\nM\\xF8ne 6,0 m \\nGesimsh\\xF8yde 3,5 m \\nTakvinkel 30-40\\\n    \\ grader \\n \\nSt\\xF8yf\\xF8lsom bebyggelse \\nF\\xF8r det tillates tiltak innenfor\\\n    \\ omr\\xE5det skal det gj\\xF8res st\\xF8yskjermede tiltak.   \\n\\xA74.10 Alle boenheter\\\n    \\ skal ha uteplass p\\xE5 b\\xE5de \\xF8stsiden og vestsiden av bebyggelsen.  \\n\\n\\\n    \\  3 \\n\\xA74.11 Alle boenheter skal v\\xE6re gjennomg\\xE5ende og ha minst ett soverom\\\n    \\ plassert p\\xE5 vestsiden og \\n\\xF8stsiden. Eventuelt \\xF8kt lydisolasjon i fasade\\\n    \\ i minst ett soverom i hver boenhet. \\n \\nTeknisk plan \\n\\xA74.12 Det stilles\\\n    \\ teknisk plan for VA, overvannsh\\xE5ndtering og str\\xF8mforsyning f\\xF8r \\nigangsettingstillatelse\\\n    \\ kan gis innenfor omr\\xE5det BKS. Det b\\xF8r legge til rette for \\xE5pne \\nvannveier\\\n    \\ for overvannsh\\xE5ndtering. Dersom andre l\\xF8sninger velges skal det begrunnes\\\n    \\ \\nhvorfor naturbaserte l\\xF8sninger velges bort. \\n\\xA74.13 V/A- anlegg samt\\\n    \\ vei skal dimensjoneres og opparbeides i samsvar med til enhver tids \\ngjeldende\\\n    \\ \\xABRetningslinjer for vei, vann og avl\\xF8p\\xBB for Evje og Hornnes kommune.\\\n    \\ Det skal \\nsikres teknisk godkjenning av offentlig samferdselsanlegg. \\n\\xA7\\\n    4.14 Det skal f\\xF8r utbygging avklares hvordan det nye utbyggingsomr\\xE5det i\\\n    \\ planomr\\xE5det skal \\nforsynes med elektrisk str\\xF8m. Det m\\xE5 avklares i\\\n    \\ hvilken grad eksisterende ledninger/kabler \\neventuelt kan benyttes og om nye\\\n    \\ ledninger/kabler m\\xE5 legges om og om det er behov for \\nny(e) nettstasjon(er).\\\n    \\ \\n \\nUtforming av tomt \\n\\xA74.15 Situasjonsplan: Ved s\\xF8knad om tillatelse\\\n    \\ til tiltak skal situasjonsplan vedlegges i tilpasset \\nm\\xE5lestokk som viser\\\n    \\ plassering av bebyggelse og h\\xF8yde. Situasjonsplan skal ogs\\xE5 vise \\nplassering\\\n    \\ av parkering, avkj\\xF8rsel og evt. st\\xF8ttemurer.  \\n\\xA74.16 Renovasjon: Areal\\\n    \\ for renovasjon skal vises p\\xE5 situasjonsplan. Situasjonsplanen skal vise at\\\n    \\ \\nrenovasjonsbil har tilstrekkelig snuareal innenfor planomr\\xE5det.  \\n\\xA7\\\n    4.17 Forst\\xF8tningsmur: Det tillattes forst\\xF8tningsmurer for \\xE5 tilpasse\\\n    \\ terrenget. Forst\\xF8tningsmurer \\ntillates oppf\\xF8rt utenfor byggegrense. Maks\\\n    \\ tillatt h\\xF8yde p\\xE5 forst\\xF8tningsmurer er 2,5 meter.  \\n\\xA74.18 Det stilles\\\n    \\ estetisk krav til utforming av fylling / naturstein plastret skr\\xE5ning mot\\\n    \\ bekk. \\nSkr\\xE5ning skal jord klees, tils\\xE5es og sikres mot erosjon. \\n \\n\\\n    Forsamlingslokale for religionsut\\xF8velse - BR \\n \\n\\xA74.19 Omr\\xE5det skal\\\n    \\ benyttes til nytt sentrumsn\\xE6rt bedehus i n\\xF8dvendig grad og utstrekning\\\n    \\ \\n\\xA74.20 Bygninger kan oppf\\xF8res med gesimsh\\xF8yde 8,0 meter og m\\xF8neh\\xF8\\\n    yde 10,5 meter. \\n\\xA74.21 BYA for arealform\\xE5let skal v\\xE6re maksimalt %-BYA=\\\n    \\ 50. Areal for parkering medregnes ikke i \\n%BYA \\n\\xA74.22 Det skal avsettes\\\n    \\ tilstrekkelig med parkeringsareal til gjeldende aktivitet innenfor regulert\\\n    \\ \\nomr\\xE5de. Parkeringsbehovet for bedehuset kan l\\xF8ses b\\xE5de innenfor BR\\\n    \\ og SPA. \\n\\xA74.23 Arealutnyttelse utover dette skal opparbeides parkmessig\\\n    \\ og v\\xE6re tilgjengelig for \\nallmennheten. \\n\\xA74.24 Oppgitt gesimsh\\xF8yde\\\n    \\ og m\\xF8neh\\xF8yde skal regnes ut fra gjennomsnittlig h\\xF8yde p\\xE5 tomta/\\\n    \\ \\nomr\\xE5det f\\xF8r opparbeidelse begynner. \\n\\xA74.25 Innenfor omr\\xE5det BR\\\n    \\ tillates det internveier og parkeringsplasser. \\n \\nIdrettsanlegg - BIA \\n\\xA7\\\n    4.26 Innenfor omr\\xE5det er det tillatt med tiltak som fremmer idrettsaktiviteter.\\\n    \\  \\n \\nEnergianlegg - BE \\n\\xA74.27 Innenfor omr\\xE5det er det tillatt plassering\\\n    \\ av trafo og infrastruktur i sammenheng med dette. \\n \\n  \\n\\n  4 \\n\\xA75. Samferdselsanlegg\\\n    \\ og teknisk infrastruktur (pbl 12-5 nr. 2) \\nVeg (o_SV1) \\n\\xA75.1 Veien o_SV1\\\n    \\ er adkomst for alle tilgrensende eiendommer. \\nDet skal opparbeides et fysisk\\\n    \\ skille mellom o_SV1 og omkringliggende arealform\\xE5l SPA, GF \\nog SGS. Adkomst\\\n    \\ til SPA og BR skal ikke v\\xE6re rett ovenfor hverandre. \\n \\n \\n \\nVeg (o_SV3)\\\n    \\ \\n\\xA75.2 Veien o_SV3-er adkomst for boligomr\\xE5de BKS og BR samt atkomst til\\\n    \\ o_SPA. Plasseringer av \\navkj\\xF8rsler langs o_SV3 er ikke endelige og tillates\\\n    \\ justert i samr\\xE5d med veieier. \\n \\nFortau (o_SF1-2) \\n\\xA75.3 o_SF1-2 er\\\n    \\ regulert til offentlig fortau med en bredde p\\xE5 3 meter. \\n \\nParkering (o_SPA)\\\n    \\ \\n\\xA75.4 o_SPA er offentlig parkeringsplass. \\n\\xA75.5 Parkeringsbehov for\\\n    \\ bedehuset kan l\\xF8ses innenfor o_SPA. \\n\\xA75.6 Det tillates etablert ladestasjoner\\\n    \\ innenfor omr\\xE5det.  \\n\\xA75.7 Atkomst til SPA og SGS skal ikke anlegges vertikalt\\\n    \\ rett overfor hverandre. \\n \\n \\n\\xA76. Gr\\xF8nnstruktur (pbl 12-5 nr. 3) \\n\\\n    \\ \\nFriomr\\xE5de (o_GF1-3) \\n\\xA76.1 Omr\\xE5de for friomr\\xE5de/gr\\xF8ntstruktur\\\n    \\ GF1-GF3 er til fri ferdsel for allmenheten. \\n\\xA76.2 I omr\\xE5dene er det tillat\\\n    \\ oppf\\xF8rt bebyggelse og andre tekniske installasjoner som typisk \\nberiker\\\n    \\ bruken av omr\\xE5de. \\n\\xA76.3 Innenfor omr\\xE5det GF1 skal det opparbeides\\\n    \\ et felles leke- og uteoppholdsareal for hele \\nplanomr\\xE5det. Lekeplassen skal\\\n    \\ utstyres med sand, benk og min. 3 ulike lekeapparater. \\n\\xA76.4 Det tillates\\\n    \\ avkj\\xF8rsel for BR over o_GF3 \\n\\xA76.5 Bestemmelsesomr\\xE5de #02 SN\\xD8: Innenfor\\\n    \\ omr\\xE5det kan det anlegges opplag for sn\\xF8. \\n\\xA76.6 Det tillates \\xE5 legge\\\n    \\ kabler i bakken innenfor omr\\xE5de avsatt til friomr\\xE5de. \\n\\xA76.7 Adkomst\\\n    \\ til lekearealer skal v\\xE6re universelt utformet. \\n \\nTurdrag (GTD1-2) \\n\\xA7\\\n    6.8 Omr\\xE5dene skal benyttes til turveier. \\n \\n \\n \\nDato 11.05.2022 ", images: [],\n  metadata: {num_pages: 4}}\n\n\nReturn the correct JSON response within a ```json codeblock. not the JSON_SCHEMA'}], model='azure/gpt-4o-mini', temperature=0, max_tokens=4000, timeout=3000)[0m
python_service-1  | [92m11:22:42 - LiteLLM:DEBUG[0m: utils.py:298 - 
python_service-1  | 
python_service-1  | DEBUG:LiteLLM:
python_service-1  | 
python_service-1  | [92m11:22:42 - LiteLLM:DEBUG[0m: litellm_logging.py:377 - self.optional_params: {}
python_service-1  | DEBUG:LiteLLM:self.optional_params: {}
python_service-1  | [92m11:22:42 - LiteLLM:DEBUG[0m: utils.py:298 - SYNC kwargs[caching]: False; litellm.cache: None; kwargs.get('cache')['no-cache']: False
python_service-1  | DEBUG:LiteLLM:SYNC kwargs[caching]: False; litellm.cache: None; kwargs.get('cache')['no-cache']: False
python_service-1  | [92m11:22:42 - LiteLLM:DEBUG[0m: transformation.py:126 - Translating developer role to system role for non-OpenAI providers.
python_service-1  | DEBUG:LiteLLM:Translating developer role to system role for non-OpenAI providers.
python_service-1  | [92m11:22:42 - LiteLLM:INFO[0m: utils.py:2905 - 
python_service-1  | LiteLLM completion() model= gpt-4o-mini; provider = azure
python_service-1  | INFO:LiteLLM:
python_service-1  | LiteLLM completion() model= gpt-4o-mini; provider = azure
python_service-1  | [92m11:22:42 - LiteLLM:DEBUG[0m: utils.py:2908 - 
python_service-1  | LiteLLM: Params passed to completion() {'model': 'gpt-4o-mini', 'functions': None, 'function_call': None, 'temperature': 0, 'top_p': None, 'n': None, 'stream': None, 'stream_options': None, 'stop': None, 'max_tokens': 4000, 'max_completion_tokens': None, 'modalities': None, 'prediction': None, 'audio': None, 'presence_penalty': None, 'frequency_penalty': None, 'logit_bias': None, 'user': None, 'custom_llm_provider': 'azure', 'response_format': None, 'seed': None, 'tools': None, 'tool_choice': None, 'max_retries': None, 'logprobs': None, 'top_logprobs': None, 'extra_headers': None, 'api_version': None, 'parallel_tool_calls': None, 'drop_params': None, 'reasoning_effort': None, 'additional_drop_params': None, 'messages': [{'role': 'system', 'content': 'You are a server API that receives document information and returns specific fields in JSON format.\n\n\n        As a genius expert, your task is to understand the content and provide\n        the parsed objects in json that match the following json_schema:\n\n\n        {\n  "description": "Contract for field extraction from regulatory documents.\\n\\nDefines the structure and prompt for extracting regulation codes from\\nNorwegian planning documents (plankart and bestemmelser).\\n\\nAttributes:\\n    fields (Set[str]): Set of extracted regulation codes",\n  "properties": {\n    "fields": {\n      "items": {\n        "type": "string"\n      },\n      "title": "Fields",\n      "type": "array",\n      "uniqueItems": true\n    }\n  },\n  "required": [\n    "fields"\n  ],\n  "title": "FieldExtractContract",\n  "type": "object"\n}\n\n        Make sure to return an instance of the JSON, not the schema itself\n'}, {'role': 'user', 'content': '##Content\n\n{content: "  1 \\n  \\n \\n \\nReguleringsbestemmelser  \\nfor \\nSt\\xF8peritomta \\n \\n\\\n    Plan ID: 202102 \\nPlankart dato: 11.05.2022 \\nReguleringsbestemmelser dato: 11.05.2022\\\n    \\ \\nVedtatt PS 59/22: 16.06.2022 \\n  \\n \\n\\xA71. Planform\\xE5l \\nForm\\xE5let med\\\n    \\ planen er \\xE5 tilrettelegge for konsentrert bebyggelse med tilh\\xF8rende anlegg.\\\n    \\ \\nPlanen omfatter ogs\\xE5 kirke/annen religionsut\\xF8velse, parkeringsanlegg\\\n    \\ og idrett/park.  \\n \\nPlanen inneholder f\\xF8lgende form\\xE5l (Pbl. \\xA7 12-5):\\\n    \\ \\n \\n\\xA71.1 Bebyggelse og anlegg (pbl \\xA712-5,nr 1) \\nBoligbebyggelse- Konsentrert\\\n    \\ sm\\xE5husbebyggelse (BKS) \\nForsamlingslokale for religionsut\\xF8velse (BR)\\\n    \\ \\nIdrettsanlegg (BIA) \\nEnergianlegg (BE) \\n \\n\\xA71.2 Samferdselsanlegg og\\\n    \\ teknisk infrastruktur (pbl \\xA712-5, nr 2) \\nVeg (o_SV1 og 3) \\nFortau (o_SF)\\\n    \\ \\nParkering(o_SPA) \\n \\n\\xA71.3 Gr\\xF8nnstruktur (pbl \\xA712-5,2. ledd nr 3)\\\n    \\ \\nFriomr\\xE5de (o_GF1-3) \\nTurdrag (o_GTD1-2) \\n \\n \\n  \\n\\n\\n  2 \\n\\xA72. Rekkef\\xF8\\\n    lgebestemmelser (pbl \\xA7 12-7 nr. 10) \\n \\n\\xA72.1 F\\xF8r midlertidig brukstillatelse\\\n    \\ for BKS skal o_SV3 v\\xE6re ferdig opparbeidet.  \\n\\xA72.2 F\\xF8r midlertidig\\\n    \\ brukstillatelse for 1. boenhet p\\xE5 BKS skal lekeplass innenfor GF1 v\\xE6re\\\n    \\ ferdig \\nopparbeidet. \\n\\xA72.3 F\\xF8r midlertidig brukstillatelse p\\xE5 5.\\\n    \\ boenhet p\\xE5 BKS skal o_GTD1-2 v\\xE6re ferdig opparbeidet.  \\n\\xA72.4 F\\xF8\\\n    r midlertidig brukstillatelse for BKS skal o_SF v\\xE6re ferdig opparbeidet. \\n\\\n    \\xA72.5 F\\xF8r ferdigattest p\\xE5 BR, skal o_SF og o_SPA v\\xE6re ferdig opparbeidet.\\\n    \\ \\n \\n \\n \\n \\n \\n\\xA73. Fellesbestemmelser \\n\\xA73.1 Bygge- og anleggsst\\xF8\\\n    y skal ikke overskride st\\xF8ygrensen i tabell 4 i retningslinje for behandling\\\n    \\ \\nav st\\xF8y i arealplanlegging (T-1442/2021). St\\xF8yende aktivitet skal forega\\u030A\\\n    \\ p\\xE5 dagtid. \\n\\xA74. Bebyggelse og anlegg (pbl 12-5 nr. 1) \\nBoligbebyggelse-konsentrert\\\n    \\ sm\\xE5husbebyggelse - BKS \\n \\n\\xA74.1 Bebyggelse: Det tillates fire tomannsboliger\\\n    \\ p\\xE5 tomten. Totalt 8 boenheter.   \\n\\xA74.2 Byggegrenser: Plassering av nye\\\n    \\ tiltak skal skje innenfor byggegrensene. For \\ngarasje/carport/bod mindre enn\\\n    \\ 50 m2 BYA gjelder byggegrense p\\xE5 1 meter fra tomtegrense. \\nTerrenginngrep\\\n    \\ og grunnarbeider i forbindelse med opparbeidelse av tomtene tillattes \\nutenfor\\\n    \\ byggegrense. Avkj\\xF8rsel og parkering tillates utenfor byggegrense. \\n\\xA7\\\n    4.3 Garasje/Carport: Alle boenheter skal ha minst en parkering under tak til disposisjon.\\\n    \\  \\n\\xA74.4 Bestemmelsesomr\\xE5de #01 SN\\xD8: Innenfor omr\\xE5det kan det anlegges\\\n    \\ opplag for sn\\xF8. \\n \\nGrad av utnytting \\n\\xA74.5 Utnyttelsesgrad: BYA for\\\n    \\ omr\\xE5det BKS skal v\\xE6re maksimalt %-BYA= 40%. Overbygg til \\nrenovasjon\\\n    \\ eller dunker medregnes ikke i %-BYA. \\n\\xA74.6 Parkering: Det skal avsettes\\\n    \\ 2 parkeringsplasser for hver boenhet, hvor en av disse skal v\\xE6re i \\ngarasje/carport.\\\n    \\ BYA for parkering er 3x6=18m2 per plass. \\n \\nH\\xF8yder \\u2013 Utforming av\\\n    \\ bebyggelse \\n\\xA74.7 Planeringsh\\xF8yder: Maksimal planeringsh\\xF8yde er angitt\\\n    \\ i plankart. Maks planeringsh\\xF8yde er \\nK+182. \\n\\xA74.8 Takform: Bebyggelse\\\n    \\ skal ha saltak med en takvinkel mellom 30 - 40 grader.  \\n\\xA74.9 Takh\\xF8yder:\\\n    \\ Tillate takh\\xF8yder er angitt i tabellen under. H\\xF8yder regnes fra planert\\\n    \\ terreng. \\n \\n Saltak \\nM\\xF8ne 6,0 m \\nGesimsh\\xF8yde 3,5 m \\nTakvinkel 30-40\\\n    \\ grader \\n \\nSt\\xF8yf\\xF8lsom bebyggelse \\nF\\xF8r det tillates tiltak innenfor\\\n    \\ omr\\xE5det skal det gj\\xF8res st\\xF8yskjermede tiltak.   \\n\\xA74.10 Alle boenheter\\\n    \\ skal ha uteplass p\\xE5 b\\xE5de \\xF8stsiden og vestsiden av bebyggelsen.  \\n\\n\\\n    \\  3 \\n\\xA74.11 Alle boenheter skal v\\xE6re gjennomg\\xE5ende og ha minst ett soverom\\\n    \\ plassert p\\xE5 vestsiden og \\n\\xF8stsiden. Eventuelt \\xF8kt lydisolasjon i fasade\\\n    \\ i minst ett soverom i hver boenhet. \\n \\nTeknisk plan \\n\\xA74.12 Det stilles\\\n    \\ teknisk plan for VA, overvannsh\\xE5ndtering og str\\xF8mforsyning f\\xF8r \\nigangsettingstillatelse\\\n    \\ kan gis innenfor omr\\xE5det BKS. Det b\\xF8r legge til rette for \\xE5pne \\nvannveier\\\n    \\ for overvannsh\\xE5ndtering. Dersom andre l\\xF8sninger velges skal det begrunnes\\\n    \\ \\nhvorfor naturbaserte l\\xF8sninger velges bort. \\n\\xA74.13 V/A- anlegg samt\\\n    \\ vei skal dimensjoneres og opparbeides i samsvar med til enhver tids \\ngjeldende\\\n    \\ \\xABRetningslinjer for vei, vann og avl\\xF8p\\xBB for Evje og Hornnes kommune.\\\n    \\ Det skal \\nsikres teknisk godkjenning av offentlig samferdselsanlegg. \\n\\xA7\\\n    4.14 Det skal f\\xF8r utbygging avklares hvordan det nye utbyggingsomr\\xE5det i\\\n    \\ planomr\\xE5det skal \\nforsynes med elektrisk str\\xF8m. Det m\\xE5 avklares i\\\n    \\ hvilken grad eksisterende ledninger/kabler \\neventuelt kan benyttes og om nye\\\n    \\ ledninger/kabler m\\xE5 legges om og om det er behov for \\nny(e) nettstasjon(er).\\\n    \\ \\n \\nUtforming av tomt \\n\\xA74.15 Situasjonsplan: Ved s\\xF8knad om tillatelse\\\n    \\ til tiltak skal situasjonsplan vedlegges i tilpasset \\nm\\xE5lestokk som viser\\\n    \\ plassering av bebyggelse og h\\xF8yde. Situasjonsplan skal ogs\\xE5 vise \\nplassering\\\n    \\ av parkering, avkj\\xF8rsel og evt. st\\xF8ttemurer.  \\n\\xA74.16 Renovasjon: Areal\\\n    \\ for renovasjon skal vises p\\xE5 situasjonsplan. Situasjonsplanen skal vise at\\\n    \\ \\nrenovasjonsbil har tilstrekkelig snuareal innenfor planomr\\xE5det.  \\n\\xA7\\\n    4.17 Forst\\xF8tningsmur: Det tillattes forst\\xF8tningsmurer for \\xE5 tilpasse\\\n    \\ terrenget. Forst\\xF8tningsmurer \\ntillates oppf\\xF8rt utenfor byggegrense. Maks\\\n    \\ tillatt h\\xF8yde p\\xE5 forst\\xF8tningsmurer er 2,5 meter.  \\n\\xA74.18 Det stilles\\\n    \\ estetisk krav til utforming av fylling / naturstein plastret skr\\xE5ning mot\\\n    \\ bekk. \\nSkr\\xE5ning skal jord klees, tils\\xE5es og sikres mot erosjon. \\n \\n\\\n    Forsamlingslokale for religionsut\\xF8velse - BR \\n \\n\\xA74.19 Omr\\xE5det skal\\\n    \\ benyttes til nytt sentrumsn\\xE6rt bedehus i n\\xF8dvendig grad og utstrekning\\\n    \\ \\n\\xA74.20 Bygninger kan oppf\\xF8res med gesimsh\\xF8yde 8,0 meter og m\\xF8neh\\xF8\\\n    yde 10,5 meter. \\n\\xA74.21 BYA for arealform\\xE5let skal v\\xE6re maksimalt %-BYA=\\\n    \\ 50. Areal for parkering medregnes ikke i \\n%BYA \\n\\xA74.22 Det skal avsettes\\\n    \\ tilstrekkelig med parkeringsareal til gjeldende aktivitet innenfor regulert\\\n    \\ \\nomr\\xE5de. Parkeringsbehovet for bedehuset kan l\\xF8ses b\\xE5de innenfor BR\\\n    \\ og SPA. \\n\\xA74.23 Arealutnyttelse utover dette skal opparbeides parkmessig\\\n    \\ og v\\xE6re tilgjengelig for \\nallmennheten. \\n\\xA74.24 Oppgitt gesimsh\\xF8yde\\\n    \\ og m\\xF8neh\\xF8yde skal regnes ut fra gjennomsnittlig h\\xF8yde p\\xE5 tomta/\\\n    \\ \\nomr\\xE5det f\\xF8r opparbeidelse begynner. \\n\\xA74.25 Innenfor omr\\xE5det BR\\\n    \\ tillates det internveier og parkeringsplasser. \\n \\nIdrettsanlegg - BIA \\n\\xA7\\\n    4.26 Innenfor omr\\xE5det er det tillatt med tiltak som fremmer idrettsaktiviteter.\\\n    \\  \\n \\nEnergianlegg - BE \\n\\xA74.27 Innenfor omr\\xE5det er det tillatt plassering\\\n    \\ av trafo og infrastruktur i sammenheng med dette. \\n \\n  \\n\\n  4 \\n\\xA75. Samferdselsanlegg\\\n    \\ og teknisk infrastruktur (pbl 12-5 nr. 2) \\nVeg (o_SV1) \\n\\xA75.1 Veien o_SV1\\\n    \\ er adkomst for alle tilgrensende eiendommer. \\nDet skal opparbeides et fysisk\\\n    \\ skille mellom o_SV1 og omkringliggende arealform\\xE5l SPA, GF \\nog SGS. Adkomst\\\n    \\ til SPA og BR skal ikke v\\xE6re rett ovenfor hverandre. \\n \\n \\n \\nVeg (o_SV3)\\\n    \\ \\n\\xA75.2 Veien o_SV3-er adkomst for boligomr\\xE5de BKS og BR samt atkomst til\\\n    \\ o_SPA. Plasseringer av \\navkj\\xF8rsler langs o_SV3 er ikke endelige og tillates\\\n    \\ justert i samr\\xE5d med veieier. \\n \\nFortau (o_SF1-2) \\n\\xA75.3 o_SF1-2 er\\\n    \\ regulert til offentlig fortau med en bredde p\\xE5 3 meter. \\n \\nParkering (o_SPA)\\\n    \\ \\n\\xA75.4 o_SPA er offentlig parkeringsplass. \\n\\xA75.5 Parkeringsbehov for\\\n    \\ bedehuset kan l\\xF8ses innenfor o_SPA. \\n\\xA75.6 Det tillates etablert ladestasjoner\\\n    \\ innenfor omr\\xE5det.  \\n\\xA75.7 Atkomst til SPA og SGS skal ikke anlegges vertikalt\\\n    \\ rett overfor hverandre. \\n \\n \\n\\xA76. Gr\\xF8nnstruktur (pbl 12-5 nr. 3) \\n\\\n    \\ \\nFriomr\\xE5de (o_GF1-3) \\n\\xA76.1 Omr\\xE5de for friomr\\xE5de/gr\\xF8ntstruktur\\\n    \\ GF1-GF3 er til fri ferdsel for allmenheten. \\n\\xA76.2 I omr\\xE5dene er det tillat\\\n    \\ oppf\\xF8rt bebyggelse og andre tekniske installasjoner som typisk \\nberiker\\\n    \\ bruken av omr\\xE5de. \\n\\xA76.3 Innenfor omr\\xE5det GF1 skal det opparbeides\\\n    \\ et felles leke- og uteoppholdsareal for hele \\nplanomr\\xE5det. Lekeplassen skal\\\n    \\ utstyres med sand, benk og min. 3 ulike lekeapparater. \\n\\xA76.4 Det tillates\\\n    \\ avkj\\xF8rsel for BR over o_GF3 \\n\\xA76.5 Bestemmelsesomr\\xE5de #02 SN\\xD8: Innenfor\\\n    \\ omr\\xE5det kan det anlegges opplag for sn\\xF8. \\n\\xA76.6 Det tillates \\xE5 legge\\\n    \\ kabler i bakken innenfor omr\\xE5de avsatt til friomr\\xE5de. \\n\\xA76.7 Adkomst\\\n    \\ til lekearealer skal v\\xE6re universelt utformet. \\n \\nTurdrag (GTD1-2) \\n\\xA7\\\n    6.8 Omr\\xE5dene skal benyttes til turveier. \\n \\n \\n \\nDato 11.05.2022 ", images: [],\n  metadata: {num_pages: 4}}\n\n\nReturn the correct JSON response within a ```json codeblock. not the JSON_SCHEMA'}]}
python_service-1  | DEBUG:LiteLLM:
python_service-1  | LiteLLM: Params passed to completion() {'model': 'gpt-4o-mini', 'functions': None, 'function_call': None, 'temperature': 0, 'top_p': None, 'n': None, 'stream': None, 'stream_options': None, 'stop': None, 'max_tokens': 4000, 'max_completion_tokens': None, 'modalities': None, 'prediction': None, 'audio': None, 'presence_penalty': None, 'frequency_penalty': None, 'logit_bias': None, 'user': None, 'custom_llm_provider': 'azure', 'response_format': None, 'seed': None, 'tools': None, 'tool_choice': None, 'max_retries': None, 'logprobs': None, 'top_logprobs': None, 'extra_headers': None, 'api_version': None, 'parallel_tool_calls': None, 'drop_params': None, 'reasoning_effort': None, 'additional_drop_params': None, 'messages': [{'role': 'system', 'content': 'You are a server API that receives document information and returns specific fields in JSON format.\n\n\n        As a genius expert, your task is to understand the content and provide\n        the parsed objects in json that match the following json_schema:\n\n\n        {\n  "description": "Contract for field extraction from regulatory documents.\\n\\nDefines the structure and prompt for extracting regulation codes from\\nNorwegian planning documents (plankart and bestemmelser).\\n\\nAttributes:\\n    fields (Set[str]): Set of extracted regulation codes",\n  "properties": {\n    "fields": {\n      "items": {\n        "type": "string"\n      },\n      "title": "Fields",\n      "type": "array",\n      "uniqueItems": true\n    }\n  },\n  "required": [\n    "fields"\n  ],\n  "title": "FieldExtractContract",\n  "type": "object"\n}\n\n        Make sure to return an instance of the JSON, not the schema itself\n'}, {'role': 'user', 'content': '##Content\n\n{content: "  1 \\n  \\n \\n \\nReguleringsbestemmelser  \\nfor \\nSt\\xF8peritomta \\n \\n\\\n    Plan ID: 202102 \\nPlankart dato: 11.05.2022 \\nReguleringsbestemmelser dato: 11.05.2022\\\n    \\ \\nVedtatt PS 59/22: 16.06.2022 \\n  \\n \\n\\xA71. Planform\\xE5l \\nForm\\xE5let med\\\n    \\ planen er \\xE5 tilrettelegge for konsentrert bebyggelse med tilh\\xF8rende anlegg.\\\n    \\ \\nPlanen omfatter ogs\\xE5 kirke/annen religionsut\\xF8velse, parkeringsanlegg\\\n    \\ og idrett/park.  \\n \\nPlanen inneholder f\\xF8lgende form\\xE5l (Pbl. \\xA7 12-5):\\\n    \\ \\n \\n\\xA71.1 Bebyggelse og anlegg (pbl \\xA712-5,nr 1) \\nBoligbebyggelse- Konsentrert\\\n    \\ sm\\xE5husbebyggelse (BKS) \\nForsamlingslokale for religionsut\\xF8velse (BR)\\\n    \\ \\nIdrettsanlegg (BIA) \\nEnergianlegg (BE) \\n \\n\\xA71.2 Samferdselsanlegg og\\\n    \\ teknisk infrastruktur (pbl \\xA712-5, nr 2) \\nVeg (o_SV1 og 3) \\nFortau (o_SF)\\\n    \\ \\nParkering(o_SPA) \\n \\n\\xA71.3 Gr\\xF8nnstruktur (pbl \\xA712-5,2. ledd nr 3)\\\n    \\ \\nFriomr\\xE5de (o_GF1-3) \\nTurdrag (o_GTD1-2) \\n \\n \\n  \\n\\n\\n  2 \\n\\xA72. Rekkef\\xF8\\\n    lgebestemmelser (pbl \\xA7 12-7 nr. 10) \\n \\n\\xA72.1 F\\xF8r midlertidig brukstillatelse\\\n    \\ for BKS skal o_SV3 v\\xE6re ferdig opparbeidet.  \\n\\xA72.2 F\\xF8r midlertidig\\\n    \\ brukstillatelse for 1. boenhet p\\xE5 BKS skal lekeplass innenfor GF1 v\\xE6re\\\n    \\ ferdig \\nopparbeidet. \\n\\xA72.3 F\\xF8r midlertidig brukstillatelse p\\xE5 5.\\\n    \\ boenhet p\\xE5 BKS skal o_GTD1-2 v\\xE6re ferdig opparbeidet.  \\n\\xA72.4 F\\xF8\\\n    r midlertidig brukstillatelse for BKS skal o_SF v\\xE6re ferdig opparbeidet. \\n\\\n    \\xA72.5 F\\xF8r ferdigattest p\\xE5 BR, skal o_SF og o_SPA v\\xE6re ferdig opparbeidet.\\\n    \\ \\n \\n \\n \\n \\n \\n\\xA73. Fellesbestemmelser \\n\\xA73.1 Bygge- og anleggsst\\xF8\\\n    y skal ikke overskride st\\xF8ygrensen i tabell 4 i retningslinje for behandling\\\n    \\ \\nav st\\xF8y i arealplanlegging (T-1442/2021). St\\xF8yende aktivitet skal forega\\u030A\\\n    \\ p\\xE5 dagtid. \\n\\xA74. Bebyggelse og anlegg (pbl 12-5 nr. 1) \\nBoligbebyggelse-konsentrert\\\n    \\ sm\\xE5husbebyggelse - BKS \\n \\n\\xA74.1 Bebyggelse: Det tillates fire tomannsboliger\\\n    \\ p\\xE5 tomten. Totalt 8 boenheter.   \\n\\xA74.2 Byggegrenser: Plassering av nye\\\n    \\ tiltak skal skje innenfor byggegrensene. For \\ngarasje/carport/bod mindre enn\\\n    \\ 50 m2 BYA gjelder byggegrense p\\xE5 1 meter fra tomtegrense. \\nTerrenginngrep\\\n    \\ og grunnarbeider i forbindelse med opparbeidelse av tomtene tillattes \\nutenfor\\\n    \\ byggegrense. Avkj\\xF8rsel og parkering tillates utenfor byggegrense. \\n\\xA7\\\n    4.3 Garasje/Carport: Alle boenheter skal ha minst en parkering under tak til disposisjon.\\\n    \\  \\n\\xA74.4 Bestemmelsesomr\\xE5de #01 SN\\xD8: Innenfor omr\\xE5det kan det anlegges\\\n    \\ opplag for sn\\xF8. \\n \\nGrad av utnytting \\n\\xA74.5 Utnyttelsesgrad: BYA for\\\n    \\ omr\\xE5det BKS skal v\\xE6re maksimalt %-BYA= 40%. Overbygg til \\nrenovasjon\\\n    \\ eller dunker medregnes ikke i %-BYA. \\n\\xA74.6 Parkering: Det skal avsettes\\\n    \\ 2 parkeringsplasser for hver boenhet, hvor en av disse skal v\\xE6re i \\ngarasje/carport.\\\n    \\ BYA for parkering er 3x6=18m2 per plass. \\n \\nH\\xF8yder \\u2013 Utforming av\\\n    \\ bebyggelse \\n\\xA74.7 Planeringsh\\xF8yder: Maksimal planeringsh\\xF8yde er angitt\\\n    \\ i plankart. Maks planeringsh\\xF8yde er \\nK+182. \\n\\xA74.8 Takform: Bebyggelse\\\n    \\ skal ha saltak med en takvinkel mellom 30 - 40 grader.  \\n\\xA74.9 Takh\\xF8yder:\\\n    \\ Tillate takh\\xF8yder er angitt i tabellen under. H\\xF8yder regnes fra planert\\\n    \\ terreng. \\n \\n Saltak \\nM\\xF8ne 6,0 m \\nGesimsh\\xF8yde 3,5 m \\nTakvinkel 30-40\\\n    \\ grader \\n \\nSt\\xF8yf\\xF8lsom bebyggelse \\nF\\xF8r det tillates tiltak innenfor\\\n    \\ omr\\xE5det skal det gj\\xF8res st\\xF8yskjermede tiltak.   \\n\\xA74.10 Alle boenheter\\\n    \\ skal ha uteplass p\\xE5 b\\xE5de \\xF8stsiden og vestsiden av bebyggelsen.  \\n\\n\\\n    \\  3 \\n\\xA74.11 Alle boenheter skal v\\xE6re gjennomg\\xE5ende og ha minst ett soverom\\\n    \\ plassert p\\xE5 vestsiden og \\n\\xF8stsiden. Eventuelt \\xF8kt lydisolasjon i fasade\\\n    \\ i minst ett soverom i hver boenhet. \\n \\nTeknisk plan \\n\\xA74.12 Det stilles\\\n    \\ teknisk plan for VA, overvannsh\\xE5ndtering og str\\xF8mforsyning f\\xF8r \\nigangsettingstillatelse\\\n    \\ kan gis innenfor omr\\xE5det BKS. Det b\\xF8r legge til rette for \\xE5pne \\nvannveier\\\n    \\ for overvannsh\\xE5ndtering. Dersom andre l\\xF8sninger velges skal det begrunnes\\\n    \\ \\nhvorfor naturbaserte l\\xF8sninger velges bort. \\n\\xA74.13 V/A- anlegg samt\\\n    \\ vei skal dimensjoneres og opparbeides i samsvar med til enhver tids \\ngjeldende\\\n    \\ \\xABRetningslinjer for vei, vann og avl\\xF8p\\xBB for Evje og Hornnes kommune.\\\n    \\ Det skal \\nsikres teknisk godkjenning av offentlig samferdselsanlegg. \\n\\xA7\\\n    4.14 Det skal f\\xF8r utbygging avklares hvordan det nye utbyggingsomr\\xE5det i\\\n    \\ planomr\\xE5det skal \\nforsynes med elektrisk str\\xF8m. Det m\\xE5 avklares i\\\n    \\ hvilken grad eksisterende ledninger/kabler \\neventuelt kan benyttes og om nye\\\n    \\ ledninger/kabler m\\xE5 legges om og om det er behov for \\nny(e) nettstasjon(er).\\\n    \\ \\n \\nUtforming av tomt \\n\\xA74.15 Situasjonsplan: Ved s\\xF8knad om tillatelse\\\n    \\ til tiltak skal situasjonsplan vedlegges i tilpasset \\nm\\xE5lestokk som viser\\\n    \\ plassering av bebyggelse og h\\xF8yde. Situasjonsplan skal ogs\\xE5 vise \\nplassering\\\n    \\ av parkering, avkj\\xF8rsel og evt. st\\xF8ttemurer.  \\n\\xA74.16 Renovasjon: Areal\\\n    \\ for renovasjon skal vises p\\xE5 situasjonsplan. Situasjonsplanen skal vise at\\\n    \\ \\nrenovasjonsbil har tilstrekkelig snuareal innenfor planomr\\xE5det.  \\n\\xA7\\\n    4.17 Forst\\xF8tningsmur: Det tillattes forst\\xF8tningsmurer for \\xE5 tilpasse\\\n    \\ terrenget. Forst\\xF8tningsmurer \\ntillates oppf\\xF8rt utenfor byggegrense. Maks\\\n    \\ tillatt h\\xF8yde p\\xE5 forst\\xF8tningsmurer er 2,5 meter.  \\n\\xA74.18 Det stilles\\\n    \\ estetisk krav til utforming av fylling / naturstein plastret skr\\xE5ning mot\\\n    \\ bekk. \\nSkr\\xE5ning skal jord klees, tils\\xE5es og sikres mot erosjon. \\n \\n\\\n    Forsamlingslokale for religionsut\\xF8velse - BR \\n \\n\\xA74.19 Omr\\xE5det skal\\\n    \\ benyttes til nytt sentrumsn\\xE6rt bedehus i n\\xF8dvendig grad og utstrekning\\\n    \\ \\n\\xA74.20 Bygninger kan oppf\\xF8res med gesimsh\\xF8yde 8,0 meter og m\\xF8neh\\xF8\\\n    yde 10,5 meter. \\n\\xA74.21 BYA for arealform\\xE5let skal v\\xE6re maksimalt %-BYA=\\\n    \\ 50. Areal for parkering medregnes ikke i \\n%BYA \\n\\xA74.22 Det skal avsettes\\\n    \\ tilstrekkelig med parkeringsareal til gjeldende aktivitet innenfor regulert\\\n    \\ \\nomr\\xE5de. Parkeringsbehovet for bedehuset kan l\\xF8ses b\\xE5de innenfor BR\\\n    \\ og SPA. \\n\\xA74.23 Arealutnyttelse utover dette skal opparbeides parkmessig\\\n    \\ og v\\xE6re tilgjengelig for \\nallmennheten. \\n\\xA74.24 Oppgitt gesimsh\\xF8yde\\\n    \\ og m\\xF8neh\\xF8yde skal regnes ut fra gjennomsnittlig h\\xF8yde p\\xE5 tomta/\\\n    \\ \\nomr\\xE5det f\\xF8r opparbeidelse begynner. \\n\\xA74.25 Innenfor omr\\xE5det BR\\\n    \\ tillates det internveier og parkeringsplasser. \\n \\nIdrettsanlegg - BIA \\n\\xA7\\\n    4.26 Innenfor omr\\xE5det er det tillatt med tiltak som fremmer idrettsaktiviteter.\\\n    \\  \\n \\nEnergianlegg - BE \\n\\xA74.27 Innenfor omr\\xE5det er det tillatt plassering\\\n    \\ av trafo og infrastruktur i sammenheng med dette. \\n \\n  \\n\\n  4 \\n\\xA75. Samferdselsanlegg\\\n    \\ og teknisk infrastruktur (pbl 12-5 nr. 2) \\nVeg (o_SV1) \\n\\xA75.1 Veien o_SV1\\\n    \\ er adkomst for alle tilgrensende eiendommer. \\nDet skal opparbeides et fysisk\\\n    \\ skille mellom o_SV1 og omkringliggende arealform\\xE5l SPA, GF \\nog SGS. Adkomst\\\n    \\ til SPA og BR skal ikke v\\xE6re rett ovenfor hverandre. \\n \\n \\n \\nVeg (o_SV3)\\\n    \\ \\n\\xA75.2 Veien o_SV3-er adkomst for boligomr\\xE5de BKS og BR samt atkomst til\\\n    \\ o_SPA. Plasseringer av \\navkj\\xF8rsler langs o_SV3 er ikke endelige og tillates\\\n    \\ justert i samr\\xE5d med veieier. \\n \\nFortau (o_SF1-2) \\n\\xA75.3 o_SF1-2 er\\\n    \\ regulert til offentlig fortau med en bredde p\\xE5 3 meter. \\n \\nParkering (o_SPA)\\\n    \\ \\n\\xA75.4 o_SPA er offentlig parkeringsplass. \\n\\xA75.5 Parkeringsbehov for\\\n    \\ bedehuset kan l\\xF8ses innenfor o_SPA. \\n\\xA75.6 Det tillates etablert ladestasjoner\\\n    \\ innenfor omr\\xE5det.  \\n\\xA75.7 Atkomst til SPA og SGS skal ikke anlegges vertikalt\\\n    \\ rett overfor hverandre. \\n \\n \\n\\xA76. Gr\\xF8nnstruktur (pbl 12-5 nr. 3) \\n\\\n    \\ \\nFriomr\\xE5de (o_GF1-3) \\n\\xA76.1 Omr\\xE5de for friomr\\xE5de/gr\\xF8ntstruktur\\\n    \\ GF1-GF3 er til fri ferdsel for allmenheten. \\n\\xA76.2 I omr\\xE5dene er det tillat\\\n    \\ oppf\\xF8rt bebyggelse og andre tekniske installasjoner som typisk \\nberiker\\\n    \\ bruken av omr\\xE5de. \\n\\xA76.3 Innenfor omr\\xE5det GF1 skal det opparbeides\\\n    \\ et felles leke- og uteoppholdsareal for hele \\nplanomr\\xE5det. Lekeplassen skal\\\n    \\ utstyres med sand, benk og min. 3 ulike lekeapparater. \\n\\xA76.4 Det tillates\\\n    \\ avkj\\xF8rsel for BR over o_GF3 \\n\\xA76.5 Bestemmelsesomr\\xE5de #02 SN\\xD8: Innenfor\\\n    \\ omr\\xE5det kan det anlegges opplag for sn\\xF8. \\n\\xA76.6 Det tillates \\xE5 legge\\\n    \\ kabler i bakken innenfor omr\\xE5de avsatt til friomr\\xE5de. \\n\\xA76.7 Adkomst\\\n    \\ til lekearealer skal v\\xE6re universelt utformet. \\n \\nTurdrag (GTD1-2) \\n\\xA7\\\n    6.8 Omr\\xE5dene skal benyttes til turveier. \\n \\n \\n \\nDato 11.05.2022 ", images: [],\n  metadata: {num_pages: 4}}\n\n\nReturn the correct JSON response within a ```json codeblock. not the JSON_SCHEMA'}]}
python_service-1  | [92m11:22:42 - LiteLLM:DEBUG[0m: utils.py:2911 - 
python_service-1  | LiteLLM: Non-Default params passed to completion() {'temperature': 0, 'max_tokens': 4000}
python_service-1  | DEBUG:LiteLLM:
python_service-1  | LiteLLM: Non-Default params passed to completion() {'temperature': 0, 'max_tokens': 4000}
python_service-1  | [92m11:22:42 - LiteLLM:DEBUG[0m: utils.py:3511 - Azure optional params - api_version: api_version=None, litellm.api_version=2024-08-01-preview, os.environ['AZURE_API_VERSION']=None
python_service-1  | DEBUG:LiteLLM:Azure optional params - api_version: api_version=None, litellm.api_version=2024-08-01-preview, os.environ['AZURE_API_VERSION']=None
python_service-1  | [92m11:22:42 - LiteLLM:DEBUG[0m: utils.py:298 - Final returned optional params: {'temperature': 0, 'max_tokens': 4000, 'extra_body': {}}
python_service-1  | DEBUG:LiteLLM:Final returned optional params: {'temperature': 0, 'max_tokens': 4000, 'extra_body': {}}
python_service-1  | [92m11:22:42 - LiteLLM:DEBUG[0m: litellm_logging.py:377 - self.optional_params: {'temperature': 0, 'max_tokens': 4000, 'extra_body': {}}
python_service-1  | DEBUG:LiteLLM:self.optional_params: {'temperature': 0, 'max_tokens': 4000, 'extra_body': {}}
python_service-1  | [92m11:22:42 - LiteLLM:DEBUG[0m: litellm_logging.py:634 - [92m
python_service-1  | 
python_service-1  | POST Request Sent from LiteLLM:
python_service-1  | curl -X POST \
python_service-1  | https://kartai-openai.openai.azure.com \
python_service-1  | -H 'api_key: Dm20Qg2RomLirlz8icux5Y3XavqI2BfAwmuOdjuI********************************************' -H 'azure_ad_token: *****' \
python_service-1  | -d '{'model': 'gpt-4o-mini', 'messages': [{'role': 'system', 'content': 'You are a server API that receives document information and returns specific fields in JSON format.\n\n\n        As a genius expert, your task is to understand the content and provide\n        the parsed objects in json that match the following json_schema:\n\n\n        {\n  "description": "Contract for field extraction from regulatory documents.\\n\\nDefines the structure and prompt for extracting regulation codes from\\nNorwegian planning documents (plankart and bestemmelser).\\n\\nAttributes:\\n    fields (Set[str]): Set of extracted regulation codes",\n  "properties": {\n    "fields": {\n      "items": {\n        "type": "string"\n      },\n      "title": "Fields",\n      "type": "array",\n      "uniqueItems": true\n    }\n  },\n  "required": [\n    "fields"\n  ],\n  "title": "FieldExtractContract",\n  "type": "object"\n}\n\n        Make sure to return an instance of the JSON, not the schema itself\n'}, {'role': 'user', 'content': '##Content\n\n{content: "  1 \\n  \\n \\n \\nReguleringsbestemmelser  \\nfor \\nSt\\xF8peritomta \\n \\n\\\n    Plan ID: 202102 \\nPlankart dato: 11.05.2022 \\nReguleringsbestemmelser dato: 11.05.2022\\\n    \\ \\nVedtatt PS 59/22: 16.06.2022 \\n  \\n \\n\\xA71. Planform\\xE5l \\nForm\\xE5let med\\\n    \\ planen er \\xE5 tilrettelegge for konsentrert bebyggelse med tilh\\xF8rende anlegg.\\\n    \\ \\nPlanen omfatter ogs\\xE5 kirke/annen religionsut\\xF8velse, parkeringsanlegg\\\n    \\ og idrett/park.  \\n \\nPlanen inneholder f\\xF8lgende form\\xE5l (Pbl. \\xA7 12-5):\\\n    \\ \\n \\n\\xA71.1 Bebyggelse og anlegg (pbl \\xA712-5,nr 1) \\nBoligbebyggelse- Konsentrert\\\n    \\ sm\\xE5husbebyggelse (BKS) \\nForsamlingslokale for religionsut\\xF8velse (BR)\\\n    \\ \\nIdrettsanlegg (BIA) \\nEnergianlegg (BE) \\n \\n\\xA71.2 Samferdselsanlegg og\\\n    \\ teknisk infrastruktur (pbl \\xA712-5, nr 2) \\nVeg (o_SV1 og 3) \\nFortau (o_SF)\\\n    \\ \\nParkering(o_SPA) \\n \\n\\xA71.3 Gr\\xF8nnstruktur (pbl \\xA712-5,2. ledd nr 3)\\\n    \\ \\nFriomr\\xE5de (o_GF1-3) \\nTurdrag (o_GTD1-2) \\n \\n \\n  \\n\\n\\n  2 \\n\\xA72. Rekkef\\xF8\\\n    lgebestemmelser (pbl \\xA7 12-7 nr. 10) \\n \\n\\xA72.1 F\\xF8r midlertidig brukstillatelse\\\n    \\ for BKS skal o_SV3 v\\xE6re ferdig opparbeidet.  \\n\\xA72.2 F\\xF8r midlertidig\\\n    \\ brukstillatelse for 1. boenhet p\\xE5 BKS skal lekeplass innenfor GF1 v\\xE6re\\\n    \\ ferdig \\nopparbeidet. \\n\\xA72.3 F\\xF8r midlertidig brukstillatelse p\\xE5 5.\\\n    \\ boenhet p\\xE5 BKS skal o_GTD1-2 v\\xE6re ferdig opparbeidet.  \\n\\xA72.4 F\\xF8\\\n    r midlertidig brukstillatelse for BKS skal o_SF v\\xE6re ferdig opparbeidet. \\n\\\n    \\xA72.5 F\\xF8r ferdigattest p\\xE5 BR, skal o_SF og o_SPA v\\xE6re ferdig opparbeidet.\\\n    \\ \\n \\n \\n \\n \\n \\n\\xA73. Fellesbestemmelser \\n\\xA73.1 Bygge- og anleggsst\\xF8\\\n    y skal ikke overskride st\\xF8ygrensen i tabell 4 i retningslinje for behandling\\\n    \\ \\nav st\\xF8y i arealplanlegging (T-1442/2021). St\\xF8yende aktivitet skal forega\\u030A\\\n    \\ p\\xE5 dagtid. \\n\\xA74. Bebyggelse og anlegg (pbl 12-5 nr. 1) \\nBoligbebyggelse-konsentrert\\\n    \\ sm\\xE5husbebyggelse - BKS \\n \\n\\xA74.1 Bebyggelse: Det tillates fire tomannsboliger\\\n    \\ p\\xE5 tomten. Totalt 8 boenheter.   \\n\\xA74.2 Byggegrenser: Plassering av nye\\\n    \\ tiltak skal skje innenfor byggegrensene. For \\ngarasje/carport/bod mindre enn\\\n    \\ 50 m2 BYA gjelder byggegrense p\\xE5 1 meter fra tomtegrense. \\nTerrenginngrep\\\n    \\ og grunnarbeider i forbindelse med opparbeidelse av tomtene tillattes \\nutenfor\\\n    \\ byggegrense. Avkj\\xF8rsel og parkering tillates utenfor byggegrense. \\n\\xA7\\\n    4.3 Garasje/Carport: Alle boenheter skal ha minst en parkering under tak til disposisjon.\\\n    \\  \\n\\xA74.4 Bestemmelsesomr\\xE5de #01 SN\\xD8: Innenfor omr\\xE5det kan det anlegges\\\n    \\ opplag for sn\\xF8. \\n \\nGrad av utnytting \\n\\xA74.5 Utnyttelsesgrad: BYA for\\\n    \\ omr\\xE5det BKS skal v\\xE6re maksimalt %-BYA= 40%. Overbygg til \\nrenovasjon\\\n    \\ eller dunker medregnes ikke i %-BYA. \\n\\xA74.6 Parkering: Det skal avsettes\\\n    \\ 2 parkeringsplasser for hver boenhet, hvor en av disse skal v\\xE6re i \\ngarasje/carport.\\\n    \\ BYA for parkering er 3x6=18m2 per plass. \\n \\nH\\xF8yder \\u2013 Utforming av\\\n    \\ bebyggelse \\n\\xA74.7 Planeringsh\\xF8yder: Maksimal planeringsh\\xF8yde er angitt\\\n    \\ i plankart. Maks planeringsh\\xF8yde er \\nK+182. \\n\\xA74.8 Takform: Bebyggelse\\\n    \\ skal ha saltak med en takvinkel mellom 30 - 40 grader.  \\n\\xA74.9 Takh\\xF8yder:\\\n    \\ Tillate takh\\xF8yder er angitt i tabellen under. H\\xF8yder regnes fra planert\\\n    \\ terreng. \\n \\n Saltak \\nM\\xF8ne 6,0 m \\nGesimsh\\xF8yde 3,5 m \\nTakvinkel 30-40\\\n    \\ grader \\n \\nSt\\xF8yf\\xF8lsom bebyggelse \\nF\\xF8r det tillates tiltak innenfor\\\n    \\ omr\\xE5det skal det gj\\xF8res st\\xF8yskjermede tiltak.   \\n\\xA74.10 Alle boenheter\\\n    \\ skal ha uteplass p\\xE5 b\\xE5de \\xF8stsiden og vestsiden av bebyggelsen.  \\n\\n\\\n    \\  3 \\n\\xA74.11 Alle boenheter skal v\\xE6re gjennomg\\xE5ende og ha minst ett soverom\\\n    \\ plassert p\\xE5 vestsiden og \\n\\xF8stsiden. Eventuelt \\xF8kt lydisolasjon i fasade\\\n    \\ i minst ett soverom i hver boenhet. \\n \\nTeknisk plan \\n\\xA74.12 Det stilles\\\n    \\ teknisk plan for VA, overvannsh\\xE5ndtering og str\\xF8mforsyning f\\xF8r \\nigangsettingstillatelse\\\n    \\ kan gis innenfor omr\\xE5det BKS. Det b\\xF8r legge til rette for \\xE5pne \\nvannveier\\\n    \\ for overvannsh\\xE5ndtering. Dersom andre l\\xF8sninger velges skal det begrunnes\\\n    \\ \\nhvorfor naturbaserte l\\xF8sninger velges bort. \\n\\xA74.13 V/A- anlegg samt\\\n    \\ vei skal dimensjoneres og opparbeides i samsvar med til enhver tids \\ngjeldende\\\n    \\ \\xABRetningslinjer for vei, vann og avl\\xF8p\\xBB for Evje og Hornnes kommune.\\\n    \\ Det skal \\nsikres teknisk godkjenning av offentlig samferdselsanlegg. \\n\\xA7\\\n    4.14 Det skal f\\xF8r utbygging avklares hvordan det nye utbyggingsomr\\xE5det i\\\n    \\ planomr\\xE5det skal \\nforsynes med elektrisk str\\xF8m. Det m\\xE5 avklares i\\\n    \\ hvilken grad eksisterende ledninger/kabler \\neventuelt kan benyttes og om nye\\\n    \\ ledninger/kabler m\\xE5 legges om og om det er behov for \\nny(e) nettstasjon(er).\\\n    \\ \\n \\nUtforming av tomt \\n\\xA74.15 Situasjonsplan: Ved s\\xF8knad om tillatelse\\\n    \\ til tiltak skal situasjonsplan vedlegges i tilpasset \\nm\\xE5lestokk som viser\\\n    \\ plassering av bebyggelse og h\\xF8yde. Situasjonsplan skal ogs\\xE5 vise \\nplassering\\\n    \\ av parkering, avkj\\xF8rsel og evt. st\\xF8ttemurer.  \\n\\xA74.16 Renovasjon: Areal\\\n    \\ for renovasjon skal vises p\\xE5 situasjonsplan. Situasjonsplanen skal vise at\\\n    \\ \\nrenovasjonsbil har tilstrekkelig snuareal innenfor planomr\\xE5det.  \\n\\xA7\\\n    4.17 Forst\\xF8tningsmur: Det tillattes forst\\xF8tningsmurer for \\xE5 tilpasse\\\n    \\ terrenget. Forst\\xF8tningsmurer \\ntillates oppf\\xF8rt utenfor byggegrense. Maks\\\n    \\ tillatt h\\xF8yde p\\xE5 forst\\xF8tningsmurer er 2,5 meter.  \\n\\xA74.18 Det stilles\\\n    \\ estetisk krav til utforming av fylling / naturstein plastret skr\\xE5ning mot\\\n    \\ bekk. \\nSkr\\xE5ning skal jord klees, tils\\xE5es og sikres mot erosjon. \\n \\n\\\n    Forsamlingslokale for religionsut\\xF8velse - BR \\n \\n\\xA74.19 Omr\\xE5det skal\\\n    \\ benyttes til nytt sentrumsn\\xE6rt bedehus i n\\xF8dvendig grad og utstrekning\\\n    \\ \\n\\xA74.20 Bygninger kan oppf\\xF8res med gesimsh\\xF8yde 8,0 meter og m\\xF8neh\\xF8\\\n    yde 10,5 meter. \\n\\xA74.21 BYA for arealform\\xE5let skal v\\xE6re maksimalt %-BYA=\\\n    \\ 50. Areal for parkering medregnes ikke i \\n%BYA \\n\\xA74.22 Det skal avsettes\\\n    \\ tilstrekkelig med parkeringsareal til gjeldende aktivitet innenfor regulert\\\n    \\ \\nomr\\xE5de. Parkeringsbehovet for bedehuset kan l\\xF8ses b\\xE5de innenfor BR\\\n    \\ og SPA. \\n\\xA74.23 Arealutnyttelse utover dette skal opparbeides parkmessig\\\n    \\ og v\\xE6re tilgjengelig for \\nallmennheten. \\n\\xA74.24 Oppgitt gesimsh\\xF8yde\\\n    \\ og m\\xF8neh\\xF8yde skal regnes ut fra gjennomsnittlig h\\xF8yde p\\xE5 tomta/\\\n    \\ \\nomr\\xE5det f\\xF8r opparbeidelse begynner. \\n\\xA74.25 Innenfor omr\\xE5det BR\\\n    \\ tillates det internveier og parkeringsplasser. \\n \\nIdrettsanlegg - BIA \\n\\xA7\\\n    4.26 Innenfor omr\\xE5det er det tillatt med tiltak som fremmer idrettsaktiviteter.\\\n    \\  \\n \\nEnergianlegg - BE \\n\\xA74.27 Innenfor omr\\xE5det er det tillatt plassering\\\n    \\ av trafo og infrastruktur i sammenheng med dette. \\n \\n  \\n\\n  4 \\n\\xA75. Samferdselsanlegg\\\n    \\ og teknisk infrastruktur (pbl 12-5 nr. 2) \\nVeg (o_SV1) \\n\\xA75.1 Veien o_SV1\\\n    \\ er adkomst for alle tilgrensende eiendommer. \\nDet skal opparbeides et fysisk\\\n    \\ skille mellom o_SV1 og omkringliggende arealform\\xE5l SPA, GF \\nog SGS. Adkomst\\\n    \\ til SPA og BR skal ikke v\\xE6re rett ovenfor hverandre. \\n \\n \\n \\nVeg (o_SV3)\\\n    \\ \\n\\xA75.2 Veien o_SV3-er adkomst for boligomr\\xE5de BKS og BR samt atkomst til\\\n    \\ o_SPA. Plasseringer av \\navkj\\xF8rsler langs o_SV3 er ikke endelige og tillates\\\n    \\ justert i samr\\xE5d med veieier. \\n \\nFortau (o_SF1-2) \\n\\xA75.3 o_SF1-2 er\\\n    \\ regulert til offentlig fortau med en bredde p\\xE5 3 meter. \\n \\nParkering (o_SPA)\\\n    \\ \\n\\xA75.4 o_SPA er offentlig parkeringsplass. \\n\\xA75.5 Parkeringsbehov for\\\n    \\ bedehuset kan l\\xF8ses innenfor o_SPA. \\n\\xA75.6 Det tillates etablert ladestasjoner\\\n    \\ innenfor omr\\xE5det.  \\n\\xA75.7 Atkomst til SPA og SGS skal ikke anlegges vertikalt\\\n    \\ rett overfor hverandre. \\n \\n \\n\\xA76. Gr\\xF8nnstruktur (pbl 12-5 nr. 3) \\n\\\n    \\ \\nFriomr\\xE5de (o_GF1-3) \\n\\xA76.1 Omr\\xE5de for friomr\\xE5de/gr\\xF8ntstruktur\\\n    \\ GF1-GF3 er til fri ferdsel for allmenheten. \\n\\xA76.2 I omr\\xE5dene er det tillat\\\n    \\ oppf\\xF8rt bebyggelse og andre tekniske installasjoner som typisk \\nberiker\\\n    \\ bruken av omr\\xE5de. \\n\\xA76.3 Innenfor omr\\xE5det GF1 skal det opparbeides\\\n    \\ et felles leke- og uteoppholdsareal for hele \\nplanomr\\xE5det. Lekeplassen skal\\\n    \\ utstyres med sand, benk og min. 3 ulike lekeapparater. \\n\\xA76.4 Det tillates\\\n    \\ avkj\\xF8rsel for BR over o_GF3 \\n\\xA76.5 Bestemmelsesomr\\xE5de #02 SN\\xD8: Innenfor\\\n    \\ omr\\xE5det kan det anlegges opplag for sn\\xF8. \\n\\xA76.6 Det tillates \\xE5 legge\\\n    \\ kabler i bakken innenfor omr\\xE5de avsatt til friomr\\xE5de. \\n\\xA76.7 Adkomst\\\n    \\ til lekearealer skal v\\xE6re universelt utformet. \\n \\nTurdrag (GTD1-2) \\n\\xA7\\\n    6.8 Omr\\xE5dene skal benyttes til turveier. \\n \\n \\n \\nDato 11.05.2022 ", images: [],\n  metadata: {num_pages: 4}}\n\n\nReturn the correct JSON response within a ```json codeblock. not the JSON_SCHEMA'}], 'temperature': 0, 'max_tokens': 4000, 'extra_body': {}}'
python_service-1  | [0m
python_service-1  | 
python_service-1  | DEBUG:LiteLLM:[92m
python_service-1  | 
python_service-1  | POST Request Sent from LiteLLM:
python_service-1  | curl -X POST \
python_service-1  | https://kartai-openai.openai.azure.com \
python_service-1  | -H 'api_key: Dm20Qg2RomLirlz8icux5Y3XavqI2BfAwmuOdjuI********************************************' -H 'azure_ad_token: *****' \
python_service-1  | -d '{'model': 'gpt-4o-mini', 'messages': [{'role': 'system', 'content': 'You are a server API that receives document information and returns specific fields in JSON format.\n\n\n        As a genius expert, your task is to understand the content and provide\n        the parsed objects in json that match the following json_schema:\n\n\n        {\n  "description": "Contract for field extraction from regulatory documents.\\n\\nDefines the structure and prompt for extracting regulation codes from\\nNorwegian planning documents (plankart and bestemmelser).\\n\\nAttributes:\\n    fields (Set[str]): Set of extracted regulation codes",\n  "properties": {\n    "fields": {\n      "items": {\n        "type": "string"\n      },\n      "title": "Fields",\n      "type": "array",\n      "uniqueItems": true\n    }\n  },\n  "required": [\n    "fields"\n  ],\n  "title": "FieldExtractContract",\n  "type": "object"\n}\n\n        Make sure to return an instance of the JSON, not the schema itself\n'}, {'role': 'user', 'content': '##Content\n\n{content: "  1 \\n  \\n \\n \\nReguleringsbestemmelser  \\nfor \\nSt\\xF8peritomta \\n \\n\\\n    Plan ID: 202102 \\nPlankart dato: 11.05.2022 \\nReguleringsbestemmelser dato: 11.05.2022\\\n    \\ \\nVedtatt PS 59/22: 16.06.2022 \\n  \\n \\n\\xA71. Planform\\xE5l \\nForm\\xE5let med\\\n    \\ planen er \\xE5 tilrettelegge for konsentrert bebyggelse med tilh\\xF8rende anlegg.\\\n    \\ \\nPlanen omfatter ogs\\xE5 kirke/annen religionsut\\xF8velse, parkeringsanlegg\\\n    \\ og idrett/park.  \\n \\nPlanen inneholder f\\xF8lgende form\\xE5l (Pbl. \\xA7 12-5):\\\n    \\ \\n \\n\\xA71.1 Bebyggelse og anlegg (pbl \\xA712-5,nr 1) \\nBoligbebyggelse- Konsentrert\\\n    \\ sm\\xE5husbebyggelse (BKS) \\nForsamlingslokale for religionsut\\xF8velse (BR)\\\n    \\ \\nIdrettsanlegg (BIA) \\nEnergianlegg (BE) \\n \\n\\xA71.2 Samferdselsanlegg og\\\n    \\ teknisk infrastruktur (pbl \\xA712-5, nr 2) \\nVeg (o_SV1 og 3) \\nFortau (o_SF)\\\n    \\ \\nParkering(o_SPA) \\n \\n\\xA71.3 Gr\\xF8nnstruktur (pbl \\xA712-5,2. ledd nr 3)\\\n    \\ \\nFriomr\\xE5de (o_GF1-3) \\nTurdrag (o_GTD1-2) \\n \\n \\n  \\n\\n\\n  2 \\n\\xA72. Rekkef\\xF8\\\n    lgebestemmelser (pbl \\xA7 12-7 nr. 10) \\n \\n\\xA72.1 F\\xF8r midlertidig brukstillatelse\\\n    \\ for BKS skal o_SV3 v\\xE6re ferdig opparbeidet.  \\n\\xA72.2 F\\xF8r midlertidig\\\n    \\ brukstillatelse for 1. boenhet p\\xE5 BKS skal lekeplass innenfor GF1 v\\xE6re\\\n    \\ ferdig \\nopparbeidet. \\n\\xA72.3 F\\xF8r midlertidig brukstillatelse p\\xE5 5.\\\n    \\ boenhet p\\xE5 BKS skal o_GTD1-2 v\\xE6re ferdig opparbeidet.  \\n\\xA72.4 F\\xF8\\\n    r midlertidig brukstillatelse for BKS skal o_SF v\\xE6re ferdig opparbeidet. \\n\\\n    \\xA72.5 F\\xF8r ferdigattest p\\xE5 BR, skal o_SF og o_SPA v\\xE6re ferdig opparbeidet.\\\n    \\ \\n \\n \\n \\n \\n \\n\\xA73. Fellesbestemmelser \\n\\xA73.1 Bygge- og anleggsst\\xF8\\\n    y skal ikke overskride st\\xF8ygrensen i tabell 4 i retningslinje for behandling\\\n    \\ \\nav st\\xF8y i arealplanlegging (T-1442/2021). St\\xF8yende aktivitet skal forega\\u030A\\\n    \\ p\\xE5 dagtid. \\n\\xA74. Bebyggelse og anlegg (pbl 12-5 nr. 1) \\nBoligbebyggelse-konsentrert\\\n    \\ sm\\xE5husbebyggelse - BKS \\n \\n\\xA74.1 Bebyggelse: Det tillates fire tomannsboliger\\\n    \\ p\\xE5 tomten. Totalt 8 boenheter.   \\n\\xA74.2 Byggegrenser: Plassering av nye\\\n    \\ tiltak skal skje innenfor byggegrensene. For \\ngarasje/carport/bod mindre enn\\\n    \\ 50 m2 BYA gjelder byggegrense p\\xE5 1 meter fra tomtegrense. \\nTerrenginngrep\\\n    \\ og grunnarbeider i forbindelse med opparbeidelse av tomtene tillattes \\nutenfor\\\n    \\ byggegrense. Avkj\\xF8rsel og parkering tillates utenfor byggegrense. \\n\\xA7\\\n    4.3 Garasje/Carport: Alle boenheter skal ha minst en parkering under tak til disposisjon.\\\n    \\  \\n\\xA74.4 Bestemmelsesomr\\xE5de #01 SN\\xD8: Innenfor omr\\xE5det kan det anlegges\\\n    \\ opplag for sn\\xF8. \\n \\nGrad av utnytting \\n\\xA74.5 Utnyttelsesgrad: BYA for\\\n    \\ omr\\xE5det BKS skal v\\xE6re maksimalt %-BYA= 40%. Overbygg til \\nrenovasjon\\\n    \\ eller dunker medregnes ikke i %-BYA. \\n\\xA74.6 Parkering: Det skal avsettes\\\n    \\ 2 parkeringsplasser for hver boenhet, hvor en av disse skal v\\xE6re i \\ngarasje/carport.\\\n    \\ BYA for parkering er 3x6=18m2 per plass. \\n \\nH\\xF8yder \\u2013 Utforming av\\\n    \\ bebyggelse \\n\\xA74.7 Planeringsh\\xF8yder: Maksimal planeringsh\\xF8yde er angitt\\\n    \\ i plankart. Maks planeringsh\\xF8yde er \\nK+182. \\n\\xA74.8 Takform: Bebyggelse\\\n    \\ skal ha saltak med en takvinkel mellom 30 - 40 grader.  \\n\\xA74.9 Takh\\xF8yder:\\\n    \\ Tillate takh\\xF8yder er angitt i tabellen under. H\\xF8yder regnes fra planert\\\n    \\ terreng. \\n \\n Saltak \\nM\\xF8ne 6,0 m \\nGesimsh\\xF8yde 3,5 m \\nTakvinkel 30-40\\\n    \\ grader \\n \\nSt\\xF8yf\\xF8lsom bebyggelse \\nF\\xF8r det tillates tiltak innenfor\\\n    \\ omr\\xE5det skal det gj\\xF8res st\\xF8yskjermede tiltak.   \\n\\xA74.10 Alle boenheter\\\n    \\ skal ha uteplass p\\xE5 b\\xE5de \\xF8stsiden og vestsiden av bebyggelsen.  \\n\\n\\\n    \\  3 \\n\\xA74.11 Alle boenheter skal v\\xE6re gjennomg\\xE5ende og ha minst ett soverom\\\n    \\ plassert p\\xE5 vestsiden og \\n\\xF8stsiden. Eventuelt \\xF8kt lydisolasjon i fasade\\\n    \\ i minst ett soverom i hver boenhet. \\n \\nTeknisk plan \\n\\xA74.12 Det stilles\\\n    \\ teknisk plan for VA, overvannsh\\xE5ndtering og str\\xF8mforsyning f\\xF8r \\nigangsettingstillatelse\\\n    \\ kan gis innenfor omr\\xE5det BKS. Det b\\xF8r legge til rette for \\xE5pne \\nvannveier\\\n    \\ for overvannsh\\xE5ndtering. Dersom andre l\\xF8sninger velges skal det begrunnes\\\n    \\ \\nhvorfor naturbaserte l\\xF8sninger velges bort. \\n\\xA74.13 V/A- anlegg samt\\\n    \\ vei skal dimensjoneres og opparbeides i samsvar med til enhver tids \\ngjeldende\\\n    \\ \\xABRetningslinjer for vei, vann og avl\\xF8p\\xBB for Evje og Hornnes kommune.\\\n    \\ Det skal \\nsikres teknisk godkjenning av offentlig samferdselsanlegg. \\n\\xA7\\\n    4.14 Det skal f\\xF8r utbygging avklares hvordan det nye utbyggingsomr\\xE5det i\\\n    \\ planomr\\xE5det skal \\nforsynes med elektrisk str\\xF8m. Det m\\xE5 avklares i\\\n    \\ hvilken grad eksisterende ledninger/kabler \\neventuelt kan benyttes og om nye\\\n    \\ ledninger/kabler m\\xE5 legges om og om det er behov for \\nny(e) nettstasjon(er).\\\n    \\ \\n \\nUtforming av tomt \\n\\xA74.15 Situasjonsplan: Ved s\\xF8knad om tillatelse\\\n    \\ til tiltak skal situasjonsplan vedlegges i tilpasset \\nm\\xE5lestokk som viser\\\n    \\ plassering av bebyggelse og h\\xF8yde. Situasjonsplan skal ogs\\xE5 vise \\nplassering\\\n    \\ av parkering, avkj\\xF8rsel og evt. st\\xF8ttemurer.  \\n\\xA74.16 Renovasjon: Areal\\\n    \\ for renovasjon skal vises p\\xE5 situasjonsplan. Situasjonsplanen skal vise at\\\n    \\ \\nrenovasjonsbil har tilstrekkelig snuareal innenfor planomr\\xE5det.  \\n\\xA7\\\n    4.17 Forst\\xF8tningsmur: Det tillattes forst\\xF8tningsmurer for \\xE5 tilpasse\\\n    \\ terrenget. Forst\\xF8tningsmurer \\ntillates oppf\\xF8rt utenfor byggegrense. Maks\\\n    \\ tillatt h\\xF8yde p\\xE5 forst\\xF8tningsmurer er 2,5 meter.  \\n\\xA74.18 Det stilles\\\n    \\ estetisk krav til utforming av fylling / naturstein plastret skr\\xE5ning mot\\\n    \\ bekk. \\nSkr\\xE5ning skal jord klees, tils\\xE5es og sikres mot erosjon. \\n \\n\\\n    Forsamlingslokale for religionsut\\xF8velse - BR \\n \\n\\xA74.19 Omr\\xE5det skal\\\n    \\ benyttes til nytt sentrumsn\\xE6rt bedehus i n\\xF8dvendig grad og utstrekning\\\n    \\ \\n\\xA74.20 Bygninger kan oppf\\xF8res med gesimsh\\xF8yde 8,0 meter og m\\xF8neh\\xF8\\\n    yde 10,5 meter. \\n\\xA74.21 BYA for arealform\\xE5let skal v\\xE6re maksimalt %-BYA=\\\n    \\ 50. Areal for parkering medregnes ikke i \\n%BYA \\n\\xA74.22 Det skal avsettes\\\n    \\ tilstrekkelig med parkeringsareal til gjeldende aktivitet innenfor regulert\\\n    \\ \\nomr\\xE5de. Parkeringsbehovet for bedehuset kan l\\xF8ses b\\xE5de innenfor BR\\\n    \\ og SPA. \\n\\xA74.23 Arealutnyttelse utover dette skal opparbeides parkmessig\\\n    \\ og v\\xE6re tilgjengelig for \\nallmennheten. \\n\\xA74.24 Oppgitt gesimsh\\xF8yde\\\n    \\ og m\\xF8neh\\xF8yde skal regnes ut fra gjennomsnittlig h\\xF8yde p\\xE5 tomta/\\\n    \\ \\nomr\\xE5det f\\xF8r opparbeidelse begynner. \\n\\xA74.25 Innenfor omr\\xE5det BR\\\n    \\ tillates det internveier og parkeringsplasser. \\n \\nIdrettsanlegg - BIA \\n\\xA7\\\n    4.26 Innenfor omr\\xE5det er det tillatt med tiltak som fremmer idrettsaktiviteter.\\\n    \\  \\n \\nEnergianlegg - BE \\n\\xA74.27 Innenfor omr\\xE5det er det tillatt plassering\\\n    \\ av trafo og infrastruktur i sammenheng med dette. \\n \\n  \\n\\n  4 \\n\\xA75. Samferdselsanlegg\\\n    \\ og teknisk infrastruktur (pbl 12-5 nr. 2) \\nVeg (o_SV1) \\n\\xA75.1 Veien o_SV1\\\n    \\ er adkomst for alle tilgrensende eiendommer. \\nDet skal opparbeides et fysisk\\\n    \\ skille mellom o_SV1 og omkringliggende arealform\\xE5l SPA, GF \\nog SGS. Adkomst\\\n    \\ til SPA og BR skal ikke v\\xE6re rett ovenfor hverandre. \\n \\n \\n \\nVeg (o_SV3)\\\n    \\ \\n\\xA75.2 Veien o_SV3-er adkomst for boligomr\\xE5de BKS og BR samt atkomst til\\\n    \\ o_SPA. Plasseringer av \\navkj\\xF8rsler langs o_SV3 er ikke endelige og tillates\\\n    \\ justert i samr\\xE5d med veieier. \\n \\nFortau (o_SF1-2) \\n\\xA75.3 o_SF1-2 er\\\n    \\ regulert til offentlig fortau med en bredde p\\xE5 3 meter. \\n \\nParkering (o_SPA)\\\n    \\ \\n\\xA75.4 o_SPA er offentlig parkeringsplass. \\n\\xA75.5 Parkeringsbehov for\\\n    \\ bedehuset kan l\\xF8ses innenfor o_SPA. \\n\\xA75.6 Det tillates etablert ladestasjoner\\\n    \\ innenfor omr\\xE5det.  \\n\\xA75.7 Atkomst til SPA og SGS skal ikke anlegges vertikalt\\\n    \\ rett overfor hverandre. \\n \\n \\n\\xA76. Gr\\xF8nnstruktur (pbl 12-5 nr. 3) \\n\\\n    \\ \\nFriomr\\xE5de (o_GF1-3) \\n\\xA76.1 Omr\\xE5de for friomr\\xE5de/gr\\xF8ntstruktur\\\n    \\ GF1-GF3 er til fri ferdsel for allmenheten. \\n\\xA76.2 I omr\\xE5dene er det tillat\\\n    \\ oppf\\xF8rt bebyggelse og andre tekniske installasjoner som typisk \\nberiker\\\n    \\ bruken av omr\\xE5de. \\n\\xA76.3 Innenfor omr\\xE5det GF1 skal det opparbeides\\\n    \\ et felles leke- og uteoppholdsareal for hele \\nplanomr\\xE5det. Lekeplassen skal\\\n    \\ utstyres med sand, benk og min. 3 ulike lekeapparater. \\n\\xA76.4 Det tillates\\\n    \\ avkj\\xF8rsel for BR over o_GF3 \\n\\xA76.5 Bestemmelsesomr\\xE5de #02 SN\\xD8: Innenfor\\\n    \\ omr\\xE5det kan det anlegges opplag for sn\\xF8. \\n\\xA76.6 Det tillates \\xE5 legge\\\n    \\ kabler i bakken innenfor omr\\xE5de avsatt til friomr\\xE5de. \\n\\xA76.7 Adkomst\\\n    \\ til lekearealer skal v\\xE6re universelt utformet. \\n \\nTurdrag (GTD1-2) \\n\\xA7\\\n    6.8 Omr\\xE5dene skal benyttes til turveier. \\n \\n \\n \\nDato 11.05.2022 ", images: [],\n  metadata: {num_pages: 4}}\n\n\nReturn the correct JSON response within a ```json codeblock. not the JSON_SCHEMA'}], 'temperature': 0, 'max_tokens': 4000, 'extra_body': {}}'
python_service-1  | [0m
python_service-1  | 
python_service-1  | [92m11:23:40 - LiteLLM:DEBUG[0m: utils.py:298 - RAW RESPONSE:
python_service-1  | {"id": "chatcmpl-AzieZiv5ZKWFCHofSHxYOE65gqh6N", "choices": [{"finish_reason": "stop", "index": 0, "logprobs": null, "message": {"content": "```json\n{\n  \"fields\": [\n    \"Pbl. \u00a7 12-5\",\n    \"pbl \u00a7 12-5,nr 1\",\n    \"pbl \u00a7 12-5, nr 2\",\n    \"pbl \u00a7 12-5,2. ledd nr 3\",\n    \"pbl \u00a7 12-7 nr. 10\"\n  ]\n}\n```", "refusal": null, "role": "assistant", "audio": null, "function_call": null, "tool_calls": null}, "content_filter_results": {"hate": {"filtered": false, "severity": "safe"}, "protected_material_code": {"filtered": false, "detected": false}, "protected_material_text": {"filtered": false, "detected": false}, "self_harm": {"filtered": false, "severity": "safe"}, "sexual": {"filtered": false, "severity": "safe"}, "violence": {"filtered": false, "severity": "safe"}}}], "created": 1739273019, "model": "gpt-4o-mini-2024-07-18", "object": "chat.completion", "service_tier": null, "system_fingerprint": "fp_f3927aa00d", "usage": {"completion_tokens": 84, "prompt_tokens": 3976, "total_tokens": 4060, "completion_tokens_details": {"accepted_prediction_tokens": 0, "audio_tokens": 0, "reasoning_tokens": 0, "rejected_prediction_tokens": 0}, "prompt_tokens_details": {"audio_tokens": 0, "cached_tokens": 0}}, "prompt_filter_results": [{"prompt_index": 0, "content_filter_results": {"hate": {"filtered": false, "severity": "safe"}, "jailbreak": {"filtered": false, "detected": false}, "self_harm": {"filtered": false, "severity": "safe"}, "sexual": {"filtered": false, "severity": "safe"}, "violence": {"filtered": false, "severity": "safe"}}}]}
python_service-1  | 
python_service-1  | 
python_service-1  | DEBUG:LiteLLM:RAW RESPONSE:
python_service-1  | {"id": "chatcmpl-AzieZiv5ZKWFCHofSHxYOE65gqh6N", "choices": [{"finish_reason": "stop", "index": 0, "logprobs": null, "message": {"content": "```json\n{\n  \"fields\": [\n    \"Pbl. \u00a7 12-5\",\n    \"pbl \u00a7 12-5,nr 1\",\n    \"pbl \u00a7 12-5, nr 2\",\n    \"pbl \u00a7 12-5,2. ledd nr 3\",\n    \"pbl \u00a7 12-7 nr. 10\"\n  ]\n}\n```", "refusal": null, "role": "assistant", "audio": null, "function_call": null, "tool_calls": null}, "content_filter_results": {"hate": {"filtered": false, "severity": "safe"}, "protected_material_code": {"filtered": false, "detected": false}, "protected_material_text": {"filtered": false, "detected": false}, "self_harm": {"filtered": false, "severity": "safe"}, "sexual": {"filtered": false, "severity": "safe"}, "violence": {"filtered": false, "severity": "safe"}}}], "created": 1739273019, "model": "gpt-4o-mini-2024-07-18", "object": "chat.completion", "service_tier": null, "system_fingerprint": "fp_f3927aa00d", "usage": {"completion_tokens": 84, "prompt_tokens": 3976, "total_tokens": 4060, "completion_tokens_details": {"accepted_prediction_tokens": 0, "audio_tokens": 0, "reasoning_tokens": 0, "rejected_prediction_tokens": 0}, "prompt_tokens_details": {"audio_tokens": 0, "cached_tokens": 0}}, "prompt_filter_results": [{"prompt_index": 0, "content_filter_results": {"hate": {"filtered": false, "severity": "safe"}, "jailbreak": {"filtered": false, "detected": false}, "self_harm": {"filtered": false, "severity": "safe"}, "sexual": {"filtered": false, "severity": "safe"}, "violence": {"filtered": false, "severity": "safe"}}}]}
python_service-1  | 
python_service-1  | 
python_service-1  | [92m11:23:40 - LiteLLM:INFO[0m: utils.py:1084 - Wrapper: Completed Call, calling success_handler
python_service-1  | INFO:LiteLLM:Wrapper: Completed Call, calling success_handler
python_service-1  | [92m11:23:40 - LiteLLM:DEBUG[0m: cost_calculator.py:563 - completion_response _select_model_name_for_cost_calc: azure/gpt-4o-mini-2024-07-18
python_service-1  | DEBUG:LiteLLM:completion_response _select_model_name_for_cost_calc: azure/gpt-4o-mini-2024-07-18
python_service-1  | [92m11:23:40 - LiteLLM:DEBUG[0m: litellm_logging.py:1014 - Logging Details LiteLLM-Success Call: Cache_hit=None
python_service-1  | DEBUG:LiteLLM:Logging Details LiteLLM-Success Call: Cache_hit=None
python_service-1  | [92m11:23:40 - LiteLLM:DEBUG[0m: utils.py:4175 - checking potential_model_names in litellm.model_cost: {'split_model': 'gpt-4o-mini-2024-07-18', 'combined_model_name': 'azure/gpt-4o-mini-2024-07-18', 'stripped_model_name': 'gpt-4o-mini-2024-07-18', 'combined_stripped_model_name': 'azure/gpt-4o-mini-2024-07-18', 'custom_llm_provider': 'azure'}
python_service-1  | DEBUG:LiteLLM:checking potential_model_names in litellm.model_cost: {'split_model': 'gpt-4o-mini-2024-07-18', 'combined_model_name': 'azure/gpt-4o-mini-2024-07-18', 'stripped_model_name': 'gpt-4o-mini-2024-07-18', 'combined_stripped_model_name': 'azure/gpt-4o-mini-2024-07-18', 'custom_llm_provider': 'azure'}
python_service-1  | [92m11:23:40 - LiteLLM:DEBUG[0m: cost_calculator.py:563 - completion_response _select_model_name_for_cost_calc: azure/gpt-4o-mini-2024-07-18
python_service-1  | DEBUG:LiteLLM:completion_response _select_model_name_for_cost_calc: azure/gpt-4o-mini-2024-07-18
python_service-1  | [92m11:23:40 - LiteLLM:DEBUG[0m: utils.py:4453 - model_info: {'key': 'azure/gpt-4o-mini-2024-07-18', 'max_tokens': 16384, 'max_input_tokens': 128000, 'max_output_tokens': 16384, 'input_cost_per_token': 1.65e-07, 'cache_creation_input_token_cost': None, 'cache_read_input_token_cost': 7.5e-08, 'input_cost_per_character': None, 'input_cost_per_token_above_128k_tokens': None, 'input_cost_per_query': None, 'input_cost_per_second': None, 'input_cost_per_audio_token': None, 'output_cost_per_token': 6.6e-07, 'output_cost_per_audio_token': None, 'output_cost_per_character': None, 'output_cost_per_token_above_128k_tokens': None, 'output_cost_per_character_above_128k_tokens': None, 'output_cost_per_second': None, 'output_cost_per_image': None, 'output_vector_size': None, 'litellm_provider': 'azure', 'mode': 'chat', 'supports_system_messages': None, 'supports_response_schema': True, 'supports_vision': True, 'supports_function_calling': True, 'supports_tool_choice': True, 'supports_assistant_prefill': False, 'supports_prompt_caching': True, 'supports_audio_input': False, 'supports_audio_output': False, 'supports_pdf_input': False, 'supports_embedding_image_input': False, 'supports_native_streaming': None, 'tpm': None, 'rpm': None}
python_service-1  | DEBUG:LiteLLM:model_info: {'key': 'azure/gpt-4o-mini-2024-07-18', 'max_tokens': 16384, 'max_input_tokens': 128000, 'max_output_tokens': 16384, 'input_cost_per_token': 1.65e-07, 'cache_creation_input_token_cost': None, 'cache_read_input_token_cost': 7.5e-08, 'input_cost_per_character': None, 'input_cost_per_token_above_128k_tokens': None, 'input_cost_per_query': None, 'input_cost_per_second': None, 'input_cost_per_audio_token': None, 'output_cost_per_token': 6.6e-07, 'output_cost_per_audio_token': None, 'output_cost_per_character': None, 'output_cost_per_token_above_128k_tokens': None, 'output_cost_per_character_above_128k_tokens': None, 'output_cost_per_second': None, 'output_cost_per_image': None, 'output_vector_size': None, 'litellm_provider': 'azure', 'mode': 'chat', 'supports_system_messages': None, 'supports_response_schema': True, 'supports_vision': True, 'supports_function_calling': True, 'supports_tool_choice': True, 'supports_assistant_prefill': False, 'supports_prompt_caching': True, 'supports_audio_input': False, 'supports_audio_output': False, 'supports_pdf_input': False, 'supports_embedding_image_input': False, 'supports_native_streaming': None, 'tpm': None, 'rpm': None}
python_service-1  | [92m11:23:40 - LiteLLM:DEBUG[0m: litellm_logging.py:846 - response_cost: 0.00071148
python_service-1  | DEBUG:LiteLLM:response_cost: 0.00071148
python_service-1  | [92m11:23:40 - LiteLLM:DEBUG[0m: utils.py:4175 - checking potential_model_names in litellm.model_cost: {'split_model': 'gpt-4o-mini-2024-07-18', 'combined_model_name': 'azure/gpt-4o-mini-2024-07-18', 'stripped_model_name': 'gpt-4o-mini-2024-07-18', 'combined_stripped_model_name': 'azure/gpt-4o-mini-2024-07-18', 'custom_llm_provider': 'azure'}
python_service-1  | DEBUG:LiteLLM:checking potential_model_names in litellm.model_cost: {'split_model': 'gpt-4o-mini-2024-07-18', 'combined_model_name': 'azure/gpt-4o-mini-2024-07-18', 'stripped_model_name': 'gpt-4o-mini-2024-07-18', 'combined_stripped_model_name': 'azure/gpt-4o-mini-2024-07-18', 'custom_llm_provider': 'azure'}
python_service-1  | [92m11:23:40 - LiteLLM:DEBUG[0m: utils.py:4453 - model_info: {'key': 'azure/gpt-4o-mini-2024-07-18', 'max_tokens': 16384, 'max_input_tokens': 128000, 'max_output_tokens': 16384, 'input_cost_per_token': 1.65e-07, 'cache_creation_input_token_cost': None, 'cache_read_input_token_cost': 7.5e-08, 'input_cost_per_character': None, 'input_cost_per_token_above_128k_tokens': None, 'input_cost_per_query': None, 'input_cost_per_second': None, 'input_cost_per_audio_token': None, 'output_cost_per_token': 6.6e-07, 'output_cost_per_audio_token': None, 'output_cost_per_character': None, 'output_cost_per_token_above_128k_tokens': None, 'output_cost_per_character_above_128k_tokens': None, 'output_cost_per_second': None, 'output_cost_per_image': None, 'output_vector_size': None, 'litellm_provider': 'azure', 'mode': 'chat', 'supports_system_messages': None, 'supports_response_schema': True, 'supports_vision': True, 'supports_function_calling': True, 'supports_tool_choice': True, 'supports_assistant_prefill': False, 'supports_prompt_caching': True, 'supports_audio_input': False, 'supports_audio_output': False, 'supports_pdf_input': False, 'supports_embedding_image_input': False, 'supports_native_streaming': None, 'tpm': None, 'rpm': None}
python_service-1  | DEBUG:app.llm.extractor:Available base codes: set()
python_service-1  | DEBUG:LiteLLM:model_info: {'key': 'azure/gpt-4o-mini-2024-07-18', 'max_tokens': 16384, 'max_input_tokens': 128000, 'max_output_tokens': 16384, 'input_cost_per_token': 1.65e-07, 'cache_creation_input_token_cost': None, 'cache_read_input_token_cost': 7.5e-08, 'input_cost_per_character': None, 'input_cost_per_token_above_128k_tokens': None, 'input_cost_per_query': None, 'input_cost_per_second': None, 'input_cost_per_audio_token': None, 'output_cost_per_token': 6.6e-07, 'output_cost_per_audio_token': None, 'output_cost_per_character': None, 'output_cost_per_token_above_128k_tokens': None, 'output_cost_per_character_above_128k_tokens': None, 'output_cost_per_second': None, 'output_cost_per_image': None, 'output_vector_size': None, 'litellm_provider': 'azure', 'mode': 'chat', 'supports_system_messages': None, 'supports_response_schema': True, 'supports_vision': True, 'supports_function_calling': True, 'supports_tool_choice': True, 'supports_assistant_prefill': False, 'supports_prompt_caching': True, 'supports_audio_input': False, 'supports_audio_output': False, 'supports_pdf_input': False, 'supports_embedding_image_input': False, 'supports_native_streaming': None, 'tpm': None, 'rpm': None}
python_service-1  | [92m11:23:40 - LiteLLM:DEBUG[0m: litellm_logging.py:846 - response_cost: 0.00071148
python_service-1  | DEBUG:app.llm.extractor:Checking field: pbl ¬ß 12-5, nr 2
python_service-1  | DEBUG:LiteLLM:response_cost: 0.00071148
python_service-1  | [92m11:23:40 - LiteLLM:DEBUG[0m: utils.py:4175 - checking potential_model_names in litellm.model_cost: {'split_model': 'gpt-4o-mini-2024-07-18', 'combined_model_name': 'azure/gpt-4o-mini-2024-07-18', 'stripped_model_name': 'gpt-4o-mini-2024-07-18', 'combined_stripped_model_name': 'azure/gpt-4o-mini-2024-07-18', 'custom_llm_provider': 'azure'}
python_service-1  | WARNING:app.llm.extractor:No base codes available, using pattern matching
python_service-1  | DEBUG:app.llm.extractor:Checking field: pbl ¬ß 12-7 nr. 10
python_service-1  | DEBUG:LiteLLM:checking potential_model_names in litellm.model_cost: {'split_model': 'gpt-4o-mini-2024-07-18', 'combined_model_name': 'azure/gpt-4o-mini-2024-07-18', 'stripped_model_name': 'gpt-4o-mini-2024-07-18', 'combined_stripped_model_name': 'azure/gpt-4o-mini-2024-07-18', 'custom_llm_provider': 'azure'}
python_service-1  | [92m11:23:40 - LiteLLM:DEBUG[0m: utils.py:4453 - model_info: {'key': 'azure/gpt-4o-mini-2024-07-18', 'max_tokens': 16384, 'max_input_tokens': 128000, 'max_output_tokens': 16384, 'input_cost_per_token': 1.65e-07, 'cache_creation_input_token_cost': None, 'cache_read_input_token_cost': 7.5e-08, 'input_cost_per_character': None, 'input_cost_per_token_above_128k_tokens': None, 'input_cost_per_query': None, 'input_cost_per_second': None, 'input_cost_per_audio_token': None, 'output_cost_per_token': 6.6e-07, 'output_cost_per_audio_token': None, 'output_cost_per_character': None, 'output_cost_per_token_above_128k_tokens': None, 'output_cost_per_character_above_128k_tokens': None, 'output_cost_per_second': None, 'output_cost_per_image': None, 'output_vector_size': None, 'litellm_provider': 'azure', 'mode': 'chat', 'supports_system_messages': None, 'supports_response_schema': True, 'supports_vision': True, 'supports_function_calling': True, 'supports_tool_choice': True, 'supports_assistant_prefill': False, 'supports_prompt_caching': True, 'supports_audio_input': False, 'supports_audio_output': False, 'supports_pdf_input': False, 'supports_embedding_image_input': False, 'supports_native_streaming': None, 'tpm': None, 'rpm': None}
python_service-1  | WARNING:app.llm.extractor:No base codes available, using pattern matching
python_service-1  | DEBUG:app.llm.extractor:Checking field: pbl ¬ß 12-5,2. ledd nr 3
python_service-1  | DEBUG:LiteLLM:model_info: {'key': 'azure/gpt-4o-mini-2024-07-18', 'max_tokens': 16384, 'max_input_tokens': 128000, 'max_output_tokens': 16384, 'input_cost_per_token': 1.65e-07, 'cache_creation_input_token_cost': None, 'cache_read_input_token_cost': 7.5e-08, 'input_cost_per_character': None, 'input_cost_per_token_above_128k_tokens': None, 'input_cost_per_query': None, 'input_cost_per_second': None, 'input_cost_per_audio_token': None, 'output_cost_per_token': 6.6e-07, 'output_cost_per_audio_token': None, 'output_cost_per_character': None, 'output_cost_per_token_above_128k_tokens': None, 'output_cost_per_character_above_128k_tokens': None, 'output_cost_per_second': None, 'output_cost_per_image': None, 'output_vector_size': None, 'litellm_provider': 'azure', 'mode': 'chat', 'supports_system_messages': None, 'supports_response_schema': True, 'supports_vision': True, 'supports_function_calling': True, 'supports_tool_choice': True, 'supports_assistant_prefill': False, 'supports_prompt_caching': True, 'supports_audio_input': False, 'supports_audio_output': False, 'supports_pdf_input': False, 'supports_embedding_image_input': False, 'supports_native_streaming': None, 'tpm': None, 'rpm': None}
python_service-1  | [92m11:23:40 - LiteLLM:DEBUG[0m: litellm_logging.py:1040 - Logging Details LiteLLM-Success Call streaming complete
python_service-1  | WARNING:app.llm.extractor:No base codes available, using pattern matching
python_service-1  | DEBUG:app.llm.extractor:Checking field: Pbl. ¬ß 12-5
python_service-1  | WARNING:app.llm.extractor:No base codes available, using pattern matching
python_service-1  | DEBUG:app.llm.extractor:Checking field: pbl ¬ß 12-5,nr 1
python_service-1  | WARNING:app.llm.extractor:No base codes available, using pattern matching
python_service-1  | INFO:app.llm.extractor:Extracted fields: set()
python_service-1  | DEBUG:LiteLLM:Logging Details LiteLLM-Success Call streaming complete
python_service-1  | [92m11:23:40 - LiteLLM:DEBUG[0m: cost_calculator.py:563 - completion_response _select_model_name_for_cost_calc: azure/gpt-4o-mini-2024-07-18
python_service-1  | INFO:app.main:Field consistency check completed successfully
python_service-1  | INFO:     172.19.0.4:48216 - "POST /api/check-field-consistency HTTP/1.1" 200 OK
python_service-1  | DEBUG:LiteLLM:completion_response _select_model_name_for_cost_calc: azure/gpt-4o-mini-2024-07-18
python_service-1  | [92m11:23:40 - LiteLLM:DEBUG[0m: utils.py:4175 - checking potential_model_names in litellm.model_cost: {'split_model': 'gpt-4o-mini-2024-07-18', 'combined_model_name': 'azure/gpt-4o-mini-2024-07-18', 'stripped_model_name': 'gpt-4o-mini-2024-07-18', 'combined_stripped_model_name': 'azure/gpt-4o-mini-2024-07-18', 'custom_llm_provider': 'azure'}
python_service-1  | DEBUG:LiteLLM:checking potential_model_names in litellm.model_cost: {'split_model': 'gpt-4o-mini-2024-07-18', 'combined_model_name': 'azure/gpt-4o-mini-2024-07-18', 'stripped_model_name': 'gpt-4o-mini-2024-07-18', 'combined_stripped_model_name': 'azure/gpt-4o-mini-2024-07-18', 'custom_llm_provider': 'azure'}
python_service-1  | [92m11:23:40 - LiteLLM:DEBUG[0m: utils.py:4453 - model_info: {'key': 'azure/gpt-4o-mini-2024-07-18', 'max_tokens': 16384, 'max_input_tokens': 128000, 'max_output_tokens': 16384, 'input_cost_per_token': 1.65e-07, 'cache_creation_input_token_cost': None, 'cache_read_input_token_cost': 7.5e-08, 'input_cost_per_character': None, 'input_cost_per_token_above_128k_tokens': None, 'input_cost_per_query': None, 'input_cost_per_second': None, 'input_cost_per_audio_token': None, 'output_cost_per_token': 6.6e-07, 'output_cost_per_audio_token': None, 'output_cost_per_character': None, 'output_cost_per_token_above_128k_tokens': None, 'output_cost_per_character_above_128k_tokens': None, 'output_cost_per_second': None, 'output_cost_per_image': None, 'output_vector_size': None, 'litellm_provider': 'azure', 'mode': 'chat', 'supports_system_messages': None, 'supports_response_schema': True, 'supports_vision': True, 'supports_function_calling': True, 'supports_tool_choice': True, 'supports_assistant_prefill': False, 'supports_prompt_caching': True, 'supports_audio_input': False, 'supports_audio_output': False, 'supports_pdf_input': False, 'supports_embedding_image_input': False, 'supports_native_streaming': None, 'tpm': None, 'rpm': None}
python_service-1  | DEBUG:LiteLLM:model_info: {'key': 'azure/gpt-4o-mini-2024-07-18', 'max_tokens': 16384, 'max_input_tokens': 128000, 'max_output_tokens': 16384, 'input_cost_per_token': 1.65e-07, 'cache_creation_input_token_cost': None, 'cache_read_input_token_cost': 7.5e-08, 'input_cost_per_character': None, 'input_cost_per_token_above_128k_tokens': None, 'input_cost_per_query': None, 'input_cost_per_second': None, 'input_cost_per_audio_token': None, 'output_cost_per_token': 6.6e-07, 'output_cost_per_audio_token': None, 'output_cost_per_character': None, 'output_cost_per_token_above_128k_tokens': None, 'output_cost_per_character_above_128k_tokens': None, 'output_cost_per_second': None, 'output_cost_per_image': None, 'output_vector_size': None, 'litellm_provider': 'azure', 'mode': 'chat', 'supports_system_messages': None, 'supports_response_schema': True, 'supports_vision': True, 'supports_function_calling': True, 'supports_tool_choice': True, 'supports_assistant_prefill': False, 'supports_prompt_caching': True, 'supports_audio_input': False, 'supports_audio_output': False, 'supports_pdf_input': False, 'supports_embedding_image_input': False, 'supports_native_streaming': None, 'tpm': None, 'rpm': None}
python_service-1  | [92m11:23:40 - LiteLLM:DEBUG[0m: litellm_logging.py:861 - response_cost_failure_debug_information: {'error_str': "'CompletionUsage' object is not subscriptable", 'traceback_str': 'Traceback (most recent call last):\n  File "/usr/local/lib/python3.12/site-packages/litellm/litellm_core_utils/litellm_logging.py", line 843, in _response_cost_calculator\n    response_cost = litellm.response_cost_calculator(\n                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "/usr/local/lib/python3.12/site-packages/litellm/cost_calculator.py", line 833, in response_cost_calculator\n    raise e\n  File "/usr/local/lib/python3.12/site-packages/litellm/cost_calculator.py", line 821, in response_cost_calculator\n    response_cost = completion_cost(\n                    ^^^^^^^^^^^^^^^^\n  File "/usr/local/lib/python3.12/site-packages/litellm/cost_calculator.py", line 771, in completion_cost\n    raise e\n  File "/usr/local/lib/python3.12/site-packages/litellm/cost_calculator.py", line 750, in completion_cost\n    ) = cost_per_token(\n        ^^^^^^^^^^^^^^^\n  File "/usr/local/lib/python3.12/site-packages/litellm/cost_calculator.py", line 279, in cost_per_token\n    return azure_openai_cost_per_token(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "/usr/local/lib/python3.12/site-packages/litellm/llms/azure/cost_calculation.py", line 38, in cost_per_token\n    usage["completion_tokens"] * model_info["output_cost_per_token"]\n    ~~~~~^^^^^^^^^^^^^^^^^^^^^\nTypeError: \'CompletionUsage\' object is not subscriptable\n', 'model': 'gpt-4o-mini', 'cache_hit': None, 'custom_llm_provider': 'azure', 'base_model': None, 'call_type': 'completion', 'custom_pricing': False}
python_service-1  | DEBUG:LiteLLM:response_cost_failure_debug_information: {'error_str': "'CompletionUsage' object is not subscriptable", 'traceback_str': 'Traceback (most recent call last):\n  File "/usr/local/lib/python3.12/site-packages/litellm/litellm_core_utils/litellm_logging.py", line 843, in _response_cost_calculator\n    response_cost = litellm.response_cost_calculator(\n                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "/usr/local/lib/python3.12/site-packages/litellm/cost_calculator.py", line 833, in response_cost_calculator\n    raise e\n  File "/usr/local/lib/python3.12/site-packages/litellm/cost_calculator.py", line 821, in response_cost_calculator\n    response_cost = completion_cost(\n                    ^^^^^^^^^^^^^^^^\n  File "/usr/local/lib/python3.12/site-packages/litellm/cost_calculator.py", line 771, in completion_cost\n    raise e\n  File "/usr/local/lib/python3.12/site-packages/litellm/cost_calculator.py", line 750, in completion_cost\n    ) = cost_per_token(\n        ^^^^^^^^^^^^^^^\n  File "/usr/local/lib/python3.12/site-packages/litellm/cost_calculator.py", line 279, in cost_per_token\n    return azure_openai_cost_per_token(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "/usr/local/lib/python3.12/site-packages/litellm/llms/azure/cost_calculation.py", line 38, in cost_per_token\n    usage["completion_tokens"] * model_info["output_cost_per_token"]\n    ~~~~~^^^^^^^^^^^^^^^^^^^^^\nTypeError: \'CompletionUsage\' object is not subscriptable\n', 'model': 'gpt-4o-mini', 'cache_hit': None, 'custom_llm_provider': 'azure', 'base_model': None, 'call_type': 'completion', 'custom_pricing': False}
python_service-1  | [92m11:23:40 - LiteLLM:DEBUG[0m: utils.py:4175 - checking potential_model_names in litellm.model_cost: {'split_model': 'gpt-4o-mini-2024-07-18', 'combined_model_name': 'azure/gpt-4o-mini-2024-07-18', 'stripped_model_name': 'gpt-4o-mini-2024-07-18', 'combined_stripped_model_name': 'azure/gpt-4o-mini-2024-07-18', 'custom_llm_provider': 'azure'}
python_service-1  | DEBUG:LiteLLM:checking potential_model_names in litellm.model_cost: {'split_model': 'gpt-4o-mini-2024-07-18', 'combined_model_name': 'azure/gpt-4o-mini-2024-07-18', 'stripped_model_name': 'gpt-4o-mini-2024-07-18', 'combined_stripped_model_name': 'azure/gpt-4o-mini-2024-07-18', 'custom_llm_provider': 'azure'}
python_service-1  | [92m11:23:40 - LiteLLM:DEBUG[0m: utils.py:4453 - model_info: {'key': 'azure/gpt-4o-mini-2024-07-18', 'max_tokens': 16384, 'max_input_tokens': 128000, 'max_output_tokens': 16384, 'input_cost_per_token': 1.65e-07, 'cache_creation_input_token_cost': None, 'cache_read_input_token_cost': 7.5e-08, 'input_cost_per_character': None, 'input_cost_per_token_above_128k_tokens': None, 'input_cost_per_query': None, 'input_cost_per_second': None, 'input_cost_per_audio_token': None, 'output_cost_per_token': 6.6e-07, 'output_cost_per_audio_token': None, 'output_cost_per_character': None, 'output_cost_per_token_above_128k_tokens': None, 'output_cost_per_character_above_128k_tokens': None, 'output_cost_per_second': None, 'output_cost_per_image': None, 'output_vector_size': None, 'litellm_provider': 'azure', 'mode': 'chat', 'supports_system_messages': None, 'supports_response_schema': True, 'supports_vision': True, 'supports_function_calling': True, 'supports_tool_choice': True, 'supports_assistant_prefill': False, 'supports_prompt_caching': True, 'supports_audio_input': False, 'supports_audio_output': False, 'supports_pdf_input': False, 'supports_embedding_image_input': False, 'supports_native_streaming': None, 'tpm': None, 'rpm': None}
python_service-1  | DEBUG:LiteLLM:model_info: {'key': 'azure/gpt-4o-mini-2024-07-18', 'max_tokens': 16384, 'max_input_tokens': 128000, 'max_output_tokens': 16384, 'input_cost_per_token': 1.65e-07, 'cache_creation_input_token_cost': None, 'cache_read_input_token_cost': 7.5e-08, 'input_cost_per_character': None, 'input_cost_per_token_above_128k_tokens': None, 'input_cost_per_query': None, 'input_cost_per_second': None, 'input_cost_per_audio_token': None, 'output_cost_per_token': 6.6e-07, 'output_cost_per_audio_token': None, 'output_cost_per_character': None, 'output_cost_per_token_above_128k_tokens': None, 'output_cost_per_character_above_128k_tokens': None, 'output_cost_per_second': None, 'output_cost_per_image': None, 'output_vector_size': None, 'litellm_provider': 'azure', 'mode': 'chat', 'supports_system_messages': None, 'supports_response_schema': True, 'supports_vision': True, 'supports_function_calling': True, 'supports_tool_choice': True, 'supports_assistant_prefill': False, 'supports_prompt_caching': True, 'supports_audio_input': False, 'supports_audio_output': False, 'supports_pdf_input': False, 'supports_embedding_image_input': False, 'supports_native_streaming': None, 'tpm': None, 'rpm': None}
python_service-1  | DEBUG:python_multipart.multipart:Calling on_part_begin with no data
python_service-1  | DEBUG:python_multipart.multipart:Calling on_header_field with data[40:52]
python_service-1  | DEBUG:python_multipart.multipart:Calling on_header_value with data[54:69]
python_service-1  | DEBUG:python_multipart.multipart:Calling on_header_end with no data
python_service-1  | DEBUG:python_multipart.multipart:Calling on_header_field with data[71:90]
python_service-1  | DEBUG:python_multipart.multipart:Calling on_header_value with data[92:226]
python_service-1  | DEBUG:python_multipart.multipart:Calling on_header_end with no data
python_service-1  | DEBUG:python_multipart.multipart:Calling on_headers_finished with no data
python_service-1  | DEBUG:python_multipart.multipart:Calling on_part_data with data[230:105179]
python_service-1  | DEBUG:python_multipart.multipart:Calling on_part_data with data[0:262144]
python_service-1  | DEBUG:python_multipart.multipart:Calling on_part_data with data[0:163938]
python_service-1  | DEBUG:python_multipart.multipart:Calling on_part_end with no data
python_service-1  | DEBUG:python_multipart.multipart:Calling on_part_begin with no data
python_service-1  | DEBUG:python_multipart.multipart:Calling on_header_field with data[163980:163992]
python_service-1  | DEBUG:python_multipart.multipart:Calling on_header_value with data[163994:164009]
python_service-1  | DEBUG:python_multipart.multipart:Calling on_header_end with no data
python_service-1  | DEBUG:python_multipart.multipart:Calling on_header_field with data[164011:164030]
python_service-1  | DEBUG:python_multipart.multipart:Calling on_header_value with data[164032:164170]
python_service-1  | DEBUG:python_multipart.multipart:Calling on_header_end with no data
python_service-1  | DEBUG:python_multipart.multipart:Calling on_headers_finished with no data
python_service-1  | DEBUG:python_multipart.multipart:Calling on_part_data with data[164174:262144]
python_service-1  | DEBUG:python_multipart.multipart:Calling on_part_data with data[0:85027]
python_service-1  | DEBUG:python_multipart.multipart:Calling on_part_end with no data
python_service-1  | DEBUG:python_multipart.multipart:Calling on_end with no data
python_service-1  | INFO:app.main:Received files: plankart=258a9b3d-b9ab-4028-8356-100b460338f8.pdf, bestemmelser=35d22048-5184-415e-a5cd-973b026836f2.pdf
python_service-1  | DEBUG:app.llm.extractor:Raw text from PDF: [{'content': 'Alfred Uglands veg\nEvje aktivitetspark\n50/132\n50/40\nGudvangen\n49/70\n49/87\n42/12\n49/78\n49/8050/128\n50/139\n50/101\n50/89\n49/77\n49/83\n50/6650/127 50/151\n42/51\n49/10\n49/82\n49/86\n50/40\n50/40\n50/59\n50/71\n50/132\n50/148\n50/155\n50/158\n50/600\n42/25\n50/637\nBR\nBIA\no_SPA\no_GF3\no_GF1\no_GF2\no_GTD1\no_GTD2\nA=2889 m¬≤\n%-BYA=\n40%\nBKS\nA=3304 m¬≤\n%-BYA=45%\no_SV1\no_SV3\nf_BE\nH220\nH210\n#01 SN√ò\n#02 SN√ò\nPlanert terreng =c+182,0moh\nH320\nVegstenges\no_SF2\no_SF1\n√ò430350\n√ò430425\n√ò430500\n√ò430575\nN6494250\nN6494325 N6494400\nN6494475\nN\n01937.5m\nTegnforklaring\nReguleringsplan PBL 2008\n¬ß12-5. Nr. 1 - Bebyggelse og anlegg\nBoligbebyggelse-konsentrert\nsm√•husbebyggelseBKS\nForsamlingslokale for\nreligionsut√∏velseBR\nIdrettsanleggBIA\nEnergianleggBE\n¬ß12-5. Nr. 2 - Samferdselsanlegg og\nteknisk infrastruktur\nVeg SV\nFortau SF\nParkering SPA\n¬ß12-5. Nr. 3 - Gr√∏nnstruktur\nTurdrag GTD\nFriomr√•deGF\n¬ß12-6 - Hensynssoner\nR√∏d sone iht. T-1442H210\nGul sone iht. T-1442H220\nFlomfare H320\n¬ß12-7 - Bestemmelseomr√•der\nVilk√•r for bruk av arealer, bygninger\nog anlegg #0 SN√ò\nLinjesymbol\nGrense for st√∏ysone\nGrense for faresone\nPlanens begrensning\nForm√•lgrense\nBestemmelsegrense\nByggegrense\nFrisiktlinje\nPunktsymboler\nStenging av avkj√∏rsel\nAvkj√∏rsel - b√•de inn og utkj√∏ring\nKartopplysninger\nKilde for basiskart:\nDato for basiskart:\nKoordinatsystem:\nH√∏ydegrunnlag:\nEkvidistanse:\nKartm√•lestokk:\n1m1:750\nKartverket 05.11.2019\nETRS89.UTM-32N\nNN2000\nDato\nArealplan-ID:\nForslagsstiller:\nSAKS-\nNR\nDATO SIGN\nTEGNNR. DATO SIGN.\nMed tilh√∏rende reguleringsbestemmelser\nSAKSBEHANDLING ETTER PLAN- OG BYGNINGSLOVEN\nPLANEN ER UTARBEIDET AV:\nDato\nDato\nDato\nRevisjon\nRevisjonRevisjon\nKommunestyret sitt vedtak\nDet bekreftes at planen er i samsvar med kommunestyrets vedtak av 16.06.202223.06.2022Siv Therese Kile Lie\nPlansjef\n4219_202102\nDeep Capital Investments AS\n11.05.2022 S√ÖF\n2021/215 \n10.02.22\n18.03.21 \n 04.03.21\nEvje og Hornnes\nkommune\nDetaljregulering\nSt√∏peritomta\nPLANKONSULENT\n2. gangs behandling\nOffentlig ettersyn fra 17.03.2022  til 28.04.2022\n1. gangs behandling i Planutvalget\nKunngj√∏ring av oppstart av planarbeid\nOppstartsm√∏te 04.03.21\n4/22 \n42/22 19.05.22\n16.06.22 59/22 STL\nSTL\nSTL'}]...
python_service-1  | [92m11:27:01 - LiteLLM:DEBUG[0m: utils.py:298 - 
python_service-1  | 
python_service-1  | DEBUG:LiteLLM:
python_service-1  | 
python_service-1  | [92m11:27:01 - LiteLLM:DEBUG[0m: utils.py:298 - [92mRequest to litellm:[0m
python_service-1  | DEBUG:LiteLLM:[92mRequest to litellm:[0m
python_service-1  | [92m11:27:01 - LiteLLM:DEBUG[0m: utils.py:298 - [92mlitellm.completion(messages=[{'role': 'system', 'content': 'You are a server API that receives document information and returns specific fields in JSON format.\n\n\n        As a genius expert, your task is to understand the content and provide\n        the parsed objects in json that match the following json_schema:\n\n\n        {\n  "description": "Contract for field extraction from regulatory documents.\\n\\nDefines the structure and prompt for extracting regulation codes from\\nNorwegian planning documents (plankart and bestemmelser).\\n\\nAttributes:\\n    fields (Set[str]): Set of extracted regulation codes",\n  "properties": {\n    "fields": {\n      "items": {\n        "type": "string"\n      },\n      "title": "Fields",\n      "type": "array",\n      "uniqueItems": true\n    }\n  },\n  "required": [\n    "fields"\n  ],\n  "title": "FieldExtractContract",\n  "type": "object"\n}\n\n        Make sure to return an instance of the JSON, not the schema itself\n'}, {'role': 'user', 'content': '##Content\n\n{content: "Alfred Uglands veg\\nEvje aktivitetspark\\n50/132\\n50/40\\nGudvangen\\n49/70\\n\\\n    49/87\\n42/12\\n49/78\\n49/8050/128\\n50/139\\n50/101\\n50/89\\n49/77\\n49/83\\n50/6650/127\\\n    \\ 50/151\\n42/51\\n49/10\\n49/82\\n49/86\\n50/40\\n50/40\\n50/59\\n50/71\\n50/132\\n50/148\\n\\\n    50/155\\n50/158\\n50/600\\n42/25\\n50/637\\nBR\\nBIA\\no_SPA\\no_GF3\\no_GF1\\no_GF2\\no_GTD1\\n\\\n    o_GTD2\\nA=2889 m\\xB2\\n%-BYA=\\n40%\\nBKS\\nA=3304 m\\xB2\\n%-BYA=45%\\no_SV1\\no_SV3\\n\\\n    f_BE\\nH220\\nH210\\n#01 SN\\xD8\\n#02 SN\\xD8\\nPlanert terreng =c+182,0moh\\nH320\\n\\\n    Vegstenges\\no_SF2\\no_SF1\\n\\xD8430350\\n\\xD8430425\\n\\xD8430500\\n\\xD8430575\\nN6494250\\n\\\n    N6494325 N6494400\\nN6494475\\nN\\n01937.5m\\nTegnforklaring\\nReguleringsplan PBL\\\n    \\ 2008\\n\\xA712-5. Nr. 1 - Bebyggelse og anlegg\\nBoligbebyggelse-konsentrert\\n\\\n    sm\\xE5husbebyggelseBKS\\nForsamlingslokale for\\nreligionsut\\xF8velseBR\\nIdrettsanleggBIA\\n\\\n    EnergianleggBE\\n\\xA712-5. Nr. 2 - Samferdselsanlegg og\\nteknisk infrastruktur\\n\\\n    Veg SV\\nFortau SF\\nParkering SPA\\n\\xA712-5. Nr. 3 - Gr\\xF8nnstruktur\\nTurdrag\\\n    \\ GTD\\nFriomr\\xE5deGF\\n\\xA712-6 - Hensynssoner\\nR\\xF8d sone iht. T-1442H210\\n\\\n    Gul sone iht. T-1442H220\\nFlomfare H320\\n\\xA712-7 - Bestemmelseomr\\xE5der\\nVilk\\xE5\\\n    r for bruk av arealer, bygninger\\nog anlegg #0 SN\\xD8\\nLinjesymbol\\nGrense for\\\n    \\ st\\xF8ysone\\nGrense for faresone\\nPlanens begrensning\\nForm\\xE5lgrense\\nBestemmelsegrense\\n\\\n    Byggegrense\\nFrisiktlinje\\nPunktsymboler\\nStenging av avkj\\xF8rsel\\nAvkj\\xF8rsel\\\n    \\ - b\\xE5de inn og utkj\\xF8ring\\nKartopplysninger\\nKilde for basiskart:\\nDato\\\n    \\ for basiskart:\\nKoordinatsystem:\\nH\\xF8ydegrunnlag:\\nEkvidistanse:\\nKartm\\xE5\\\n    lestokk:\\n1m1:750\\nKartverket 05.11.2019\\nETRS89.UTM-32N\\nNN2000\\nDato\\nArealplan-ID:\\n\\\n    Forslagsstiller:\\nSAKS-\\nNR\\nDATO SIGN\\nTEGNNR. DATO SIGN.\\nMed tilh\\xF8rende\\\n    \\ reguleringsbestemmelser\\nSAKSBEHANDLING ETTER PLAN- OG BYGNINGSLOVEN\\nPLANEN\\\n    \\ ER UTARBEIDET AV:\\nDato\\nDato\\nDato\\nRevisjon\\nRevisjonRevisjon\\nKommunestyret\\\n    \\ sitt vedtak\\nDet bekreftes at planen er i samsvar med kommunestyrets vedtak\\\n    \\ av 16.06.202223.06.2022Siv Therese Kile Lie\\nPlansjef\\n4219_202102\\nDeep Capital\\\n    \\ Investments AS\\n11.05.2022 S\\xC5F\\n2021/215 \\n10.02.22\\n18.03.21 \\n 04.03.21\\n\\\n    Evje og Hornnes\\nkommune\\nDetaljregulering\\nSt\\xF8peritomta\\nPLANKONSULENT\\n2.\\\n    \\ gangs behandling\\nOffentlig ettersyn fra 17.03.2022  til 28.04.2022\\n1. gangs\\\n    \\ behandling i Planutvalget\\nKunngj\\xF8ring av oppstart av planarbeid\\nOppstartsm\\xF8\\\n    te 04.03.21\\n4/22 \\n42/22 19.05.22\\n16.06.22 59/22 STL\\nSTL\\nSTL", images: [],\n  metadata: {num_pages: 1}}\n\n\nReturn the correct JSON response within a ```json codeblock. not the JSON_SCHEMA'}], model='azure/gpt-4o-mini', temperature=0, max_tokens=4000, timeout=3000)[0m
python_service-1  | DEBUG:LiteLLM:[92mlitellm.completion(messages=[{'role': 'system', 'content': 'You are a server API that receives document information and returns specific fields in JSON format.\n\n\n        As a genius expert, your task is to understand the content and provide\n        the parsed objects in json that match the following json_schema:\n\n\n        {\n  "description": "Contract for field extraction from regulatory documents.\\n\\nDefines the structure and prompt for extracting regulation codes from\\nNorwegian planning documents (plankart and bestemmelser).\\n\\nAttributes:\\n    fields (Set[str]): Set of extracted regulation codes",\n  "properties": {\n    "fields": {\n      "items": {\n        "type": "string"\n      },\n      "title": "Fields",\n      "type": "array",\n      "uniqueItems": true\n    }\n  },\n  "required": [\n    "fields"\n  ],\n  "title": "FieldExtractContract",\n  "type": "object"\n}\n\n        Make sure to return an instance of the JSON, not the schema itself\n'}, {'role': 'user', 'content': '##Content\n\n{content: "Alfred Uglands veg\\nEvje aktivitetspark\\n50/132\\n50/40\\nGudvangen\\n49/70\\n\\\n    49/87\\n42/12\\n49/78\\n49/8050/128\\n50/139\\n50/101\\n50/89\\n49/77\\n49/83\\n50/6650/127\\\n    \\ 50/151\\n42/51\\n49/10\\n49/82\\n49/86\\n50/40\\n50/40\\n50/59\\n50/71\\n50/132\\n50/148\\n\\\n    50/155\\n50/158\\n50/600\\n42/25\\n50/637\\nBR\\nBIA\\no_SPA\\no_GF3\\no_GF1\\no_GF2\\no_GTD1\\n\\\n    o_GTD2\\nA=2889 m\\xB2\\n%-BYA=\\n40%\\nBKS\\nA=3304 m\\xB2\\n%-BYA=45%\\no_SV1\\no_SV3\\n\\\n    f_BE\\nH220\\nH210\\n#01 SN\\xD8\\n#02 SN\\xD8\\nPlanert terreng =c+182,0moh\\nH320\\n\\\n    Vegstenges\\no_SF2\\no_SF1\\n\\xD8430350\\n\\xD8430425\\n\\xD8430500\\n\\xD8430575\\nN6494250\\n\\\n    N6494325 N6494400\\nN6494475\\nN\\n01937.5m\\nTegnforklaring\\nReguleringsplan PBL\\\n    \\ 2008\\n\\xA712-5. Nr. 1 - Bebyggelse og anlegg\\nBoligbebyggelse-konsentrert\\n\\\n    sm\\xE5husbebyggelseBKS\\nForsamlingslokale for\\nreligionsut\\xF8velseBR\\nIdrettsanleggBIA\\n\\\n    EnergianleggBE\\n\\xA712-5. Nr. 2 - Samferdselsanlegg og\\nteknisk infrastruktur\\n\\\n    Veg SV\\nFortau SF\\nParkering SPA\\n\\xA712-5. Nr. 3 - Gr\\xF8nnstruktur\\nTurdrag\\\n    \\ GTD\\nFriomr\\xE5deGF\\n\\xA712-6 - Hensynssoner\\nR\\xF8d sone iht. T-1442H210\\n\\\n    Gul sone iht. T-1442H220\\nFlomfare H320\\n\\xA712-7 - Bestemmelseomr\\xE5der\\nVilk\\xE5\\\n    r for bruk av arealer, bygninger\\nog anlegg #0 SN\\xD8\\nLinjesymbol\\nGrense for\\\n    \\ st\\xF8ysone\\nGrense for faresone\\nPlanens begrensning\\nForm\\xE5lgrense\\nBestemmelsegrense\\n\\\n    Byggegrense\\nFrisiktlinje\\nPunktsymboler\\nStenging av avkj\\xF8rsel\\nAvkj\\xF8rsel\\\n    \\ - b\\xE5de inn og utkj\\xF8ring\\nKartopplysninger\\nKilde for basiskart:\\nDato\\\n    \\ for basiskart:\\nKoordinatsystem:\\nH\\xF8ydegrunnlag:\\nEkvidistanse:\\nKartm\\xE5\\\n    lestokk:\\n1m1:750\\nKartverket 05.11.2019\\nETRS89.UTM-32N\\nNN2000\\nDato\\nArealplan-ID:\\n\\\n    Forslagsstiller:\\nSAKS-\\nNR\\nDATO SIGN\\nTEGNNR. DATO SIGN.\\nMed tilh\\xF8rende\\\n    \\ reguleringsbestemmelser\\nSAKSBEHANDLING ETTER PLAN- OG BYGNINGSLOVEN\\nPLANEN\\\n    \\ ER UTARBEIDET AV:\\nDato\\nDato\\nDato\\nRevisjon\\nRevisjonRevisjon\\nKommunestyret\\\n    \\ sitt vedtak\\nDet bekreftes at planen er i samsvar med kommunestyrets vedtak\\\n    \\ av 16.06.202223.06.2022Siv Therese Kile Lie\\nPlansjef\\n4219_202102\\nDeep Capital\\\n    \\ Investments AS\\n11.05.2022 S\\xC5F\\n2021/215 \\n10.02.22\\n18.03.21 \\n 04.03.21\\n\\\n    Evje og Hornnes\\nkommune\\nDetaljregulering\\nSt\\xF8peritomta\\nPLANKONSULENT\\n2.\\\n    \\ gangs behandling\\nOffentlig ettersyn fra 17.03.2022  til 28.04.2022\\n1. gangs\\\n    \\ behandling i Planutvalget\\nKunngj\\xF8ring av oppstart av planarbeid\\nOppstartsm\\xF8\\\n    te 04.03.21\\n4/22 \\n42/22 19.05.22\\n16.06.22 59/22 STL\\nSTL\\nSTL", images: [],\n  metadata: {num_pages: 1}}\n\n\nReturn the correct JSON response within a ```json codeblock. not the JSON_SCHEMA'}], model='azure/gpt-4o-mini', temperature=0, max_tokens=4000, timeout=3000)[0m
python_service-1  | [92m11:27:01 - LiteLLM:DEBUG[0m: utils.py:298 - 
python_service-1  | 
python_service-1  | DEBUG:LiteLLM:
python_service-1  | 
python_service-1  | [92m11:27:01 - LiteLLM:DEBUG[0m: litellm_logging.py:377 - self.optional_params: {}
python_service-1  | DEBUG:LiteLLM:self.optional_params: {}
python_service-1  | [92m11:27:01 - LiteLLM:DEBUG[0m: utils.py:298 - SYNC kwargs[caching]: False; litellm.cache: None; kwargs.get('cache')['no-cache']: False
python_service-1  | DEBUG:LiteLLM:SYNC kwargs[caching]: False; litellm.cache: None; kwargs.get('cache')['no-cache']: False
python_service-1  | [92m11:27:01 - LiteLLM:DEBUG[0m: transformation.py:126 - Translating developer role to system role for non-OpenAI providers.
python_service-1  | DEBUG:LiteLLM:Translating developer role to system role for non-OpenAI providers.
python_service-1  | [92m11:27:01 - LiteLLM:INFO[0m: utils.py:2905 - 
python_service-1  | LiteLLM completion() model= gpt-4o-mini; provider = azure
python_service-1  | INFO:LiteLLM:
python_service-1  | LiteLLM completion() model= gpt-4o-mini; provider = azure
python_service-1  | [92m11:27:01 - LiteLLM:DEBUG[0m: utils.py:2908 - 
python_service-1  | LiteLLM: Params passed to completion() {'model': 'gpt-4o-mini', 'functions': None, 'function_call': None, 'temperature': 0, 'top_p': None, 'n': None, 'stream': None, 'stream_options': None, 'stop': None, 'max_tokens': 4000, 'max_completion_tokens': None, 'modalities': None, 'prediction': None, 'audio': None, 'presence_penalty': None, 'frequency_penalty': None, 'logit_bias': None, 'user': None, 'custom_llm_provider': 'azure', 'response_format': None, 'seed': None, 'tools': None, 'tool_choice': None, 'max_retries': None, 'logprobs': None, 'top_logprobs': None, 'extra_headers': None, 'api_version': None, 'parallel_tool_calls': None, 'drop_params': None, 'reasoning_effort': None, 'additional_drop_params': None, 'messages': [{'role': 'system', 'content': 'You are a server API that receives document information and returns specific fields in JSON format.\n\n\n        As a genius expert, your task is to understand the content and provide\n        the parsed objects in json that match the following json_schema:\n\n\n        {\n  "description": "Contract for field extraction from regulatory documents.\\n\\nDefines the structure and prompt for extracting regulation codes from\\nNorwegian planning documents (plankart and bestemmelser).\\n\\nAttributes:\\n    fields (Set[str]): Set of extracted regulation codes",\n  "properties": {\n    "fields": {\n      "items": {\n        "type": "string"\n      },\n      "title": "Fields",\n      "type": "array",\n      "uniqueItems": true\n    }\n  },\n  "required": [\n    "fields"\n  ],\n  "title": "FieldExtractContract",\n  "type": "object"\n}\n\n        Make sure to return an instance of the JSON, not the schema itself\n'}, {'role': 'user', 'content': '##Content\n\n{content: "Alfred Uglands veg\\nEvje aktivitetspark\\n50/132\\n50/40\\nGudvangen\\n49/70\\n\\\n    49/87\\n42/12\\n49/78\\n49/8050/128\\n50/139\\n50/101\\n50/89\\n49/77\\n49/83\\n50/6650/127\\\n    \\ 50/151\\n42/51\\n49/10\\n49/82\\n49/86\\n50/40\\n50/40\\n50/59\\n50/71\\n50/132\\n50/148\\n\\\n    50/155\\n50/158\\n50/600\\n42/25\\n50/637\\nBR\\nBIA\\no_SPA\\no_GF3\\no_GF1\\no_GF2\\no_GTD1\\n\\\n    o_GTD2\\nA=2889 m\\xB2\\n%-BYA=\\n40%\\nBKS\\nA=3304 m\\xB2\\n%-BYA=45%\\no_SV1\\no_SV3\\n\\\n    f_BE\\nH220\\nH210\\n#01 SN\\xD8\\n#02 SN\\xD8\\nPlanert terreng =c+182,0moh\\nH320\\n\\\n    Vegstenges\\no_SF2\\no_SF1\\n\\xD8430350\\n\\xD8430425\\n\\xD8430500\\n\\xD8430575\\nN6494250\\n\\\n    N6494325 N6494400\\nN6494475\\nN\\n01937.5m\\nTegnforklaring\\nReguleringsplan PBL\\\n    \\ 2008\\n\\xA712-5. Nr. 1 - Bebyggelse og anlegg\\nBoligbebyggelse-konsentrert\\n\\\n    sm\\xE5husbebyggelseBKS\\nForsamlingslokale for\\nreligionsut\\xF8velseBR\\nIdrettsanleggBIA\\n\\\n    EnergianleggBE\\n\\xA712-5. Nr. 2 - Samferdselsanlegg og\\nteknisk infrastruktur\\n\\\n    Veg SV\\nFortau SF\\nParkering SPA\\n\\xA712-5. Nr. 3 - Gr\\xF8nnstruktur\\nTurdrag\\\n    \\ GTD\\nFriomr\\xE5deGF\\n\\xA712-6 - Hensynssoner\\nR\\xF8d sone iht. T-1442H210\\n\\\n    Gul sone iht. T-1442H220\\nFlomfare H320\\n\\xA712-7 - Bestemmelseomr\\xE5der\\nVilk\\xE5\\\n    r for bruk av arealer, bygninger\\nog anlegg #0 SN\\xD8\\nLinjesymbol\\nGrense for\\\n    \\ st\\xF8ysone\\nGrense for faresone\\nPlanens begrensning\\nForm\\xE5lgrense\\nBestemmelsegrense\\n\\\n    Byggegrense\\nFrisiktlinje\\nPunktsymboler\\nStenging av avkj\\xF8rsel\\nAvkj\\xF8rsel\\\n    \\ - b\\xE5de inn og utkj\\xF8ring\\nKartopplysninger\\nKilde for basiskart:\\nDato\\\n    \\ for basiskart:\\nKoordinatsystem:\\nH\\xF8ydegrunnlag:\\nEkvidistanse:\\nKartm\\xE5\\\n    lestokk:\\n1m1:750\\nKartverket 05.11.2019\\nETRS89.UTM-32N\\nNN2000\\nDato\\nArealplan-ID:\\n\\\n    Forslagsstiller:\\nSAKS-\\nNR\\nDATO SIGN\\nTEGNNR. DATO SIGN.\\nMed tilh\\xF8rende\\\n    \\ reguleringsbestemmelser\\nSAKSBEHANDLING ETTER PLAN- OG BYGNINGSLOVEN\\nPLANEN\\\n    \\ ER UTARBEIDET AV:\\nDato\\nDato\\nDato\\nRevisjon\\nRevisjonRevisjon\\nKommunestyret\\\n    \\ sitt vedtak\\nDet bekreftes at planen er i samsvar med kommunestyrets vedtak\\\n    \\ av 16.06.202223.06.2022Siv Therese Kile Lie\\nPlansjef\\n4219_202102\\nDeep Capital\\\n    \\ Investments AS\\n11.05.2022 S\\xC5F\\n2021/215 \\n10.02.22\\n18.03.21 \\n 04.03.21\\n\\\n    Evje og Hornnes\\nkommune\\nDetaljregulering\\nSt\\xF8peritomta\\nPLANKONSULENT\\n2.\\\n    \\ gangs behandling\\nOffentlig ettersyn fra 17.03.2022  til 28.04.2022\\n1. gangs\\\n    \\ behandling i Planutvalget\\nKunngj\\xF8ring av oppstart av planarbeid\\nOppstartsm\\xF8\\\n    te 04.03.21\\n4/22 \\n42/22 19.05.22\\n16.06.22 59/22 STL\\nSTL\\nSTL", images: [],\n  metadata: {num_pages: 1}}\n\n\nReturn the correct JSON response within a ```json codeblock. not the JSON_SCHEMA'}]}
python_service-1  | DEBUG:LiteLLM:
python_service-1  | LiteLLM: Params passed to completion() {'model': 'gpt-4o-mini', 'functions': None, 'function_call': None, 'temperature': 0, 'top_p': None, 'n': None, 'stream': None, 'stream_options': None, 'stop': None, 'max_tokens': 4000, 'max_completion_tokens': None, 'modalities': None, 'prediction': None, 'audio': None, 'presence_penalty': None, 'frequency_penalty': None, 'logit_bias': None, 'user': None, 'custom_llm_provider': 'azure', 'response_format': None, 'seed': None, 'tools': None, 'tool_choice': None, 'max_retries': None, 'logprobs': None, 'top_logprobs': None, 'extra_headers': None, 'api_version': None, 'parallel_tool_calls': None, 'drop_params': None, 'reasoning_effort': None, 'additional_drop_params': None, 'messages': [{'role': 'system', 'content': 'You are a server API that receives document information and returns specific fields in JSON format.\n\n\n        As a genius expert, your task is to understand the content and provide\n        the parsed objects in json that match the following json_schema:\n\n\n        {\n  "description": "Contract for field extraction from regulatory documents.\\n\\nDefines the structure and prompt for extracting regulation codes from\\nNorwegian planning documents (plankart and bestemmelser).\\n\\nAttributes:\\n    fields (Set[str]): Set of extracted regulation codes",\n  "properties": {\n    "fields": {\n      "items": {\n        "type": "string"\n      },\n      "title": "Fields",\n      "type": "array",\n      "uniqueItems": true\n    }\n  },\n  "required": [\n    "fields"\n  ],\n  "title": "FieldExtractContract",\n  "type": "object"\n}\n\n        Make sure to return an instance of the JSON, not the schema itself\n'}, {'role': 'user', 'content': '##Content\n\n{content: "Alfred Uglands veg\\nEvje aktivitetspark\\n50/132\\n50/40\\nGudvangen\\n49/70\\n\\\n    49/87\\n42/12\\n49/78\\n49/8050/128\\n50/139\\n50/101\\n50/89\\n49/77\\n49/83\\n50/6650/127\\\n    \\ 50/151\\n42/51\\n49/10\\n49/82\\n49/86\\n50/40\\n50/40\\n50/59\\n50/71\\n50/132\\n50/148\\n\\\n    50/155\\n50/158\\n50/600\\n42/25\\n50/637\\nBR\\nBIA\\no_SPA\\no_GF3\\no_GF1\\no_GF2\\no_GTD1\\n\\\n    o_GTD2\\nA=2889 m\\xB2\\n%-BYA=\\n40%\\nBKS\\nA=3304 m\\xB2\\n%-BYA=45%\\no_SV1\\no_SV3\\n\\\n    f_BE\\nH220\\nH210\\n#01 SN\\xD8\\n#02 SN\\xD8\\nPlanert terreng =c+182,0moh\\nH320\\n\\\n    Vegstenges\\no_SF2\\no_SF1\\n\\xD8430350\\n\\xD8430425\\n\\xD8430500\\n\\xD8430575\\nN6494250\\n\\\n    N6494325 N6494400\\nN6494475\\nN\\n01937.5m\\nTegnforklaring\\nReguleringsplan PBL\\\n    \\ 2008\\n\\xA712-5. Nr. 1 - Bebyggelse og anlegg\\nBoligbebyggelse-konsentrert\\n\\\n    sm\\xE5husbebyggelseBKS\\nForsamlingslokale for\\nreligionsut\\xF8velseBR\\nIdrettsanleggBIA\\n\\\n    EnergianleggBE\\n\\xA712-5. Nr. 2 - Samferdselsanlegg og\\nteknisk infrastruktur\\n\\\n    Veg SV\\nFortau SF\\nParkering SPA\\n\\xA712-5. Nr. 3 - Gr\\xF8nnstruktur\\nTurdrag\\\n    \\ GTD\\nFriomr\\xE5deGF\\n\\xA712-6 - Hensynssoner\\nR\\xF8d sone iht. T-1442H210\\n\\\n    Gul sone iht. T-1442H220\\nFlomfare H320\\n\\xA712-7 - Bestemmelseomr\\xE5der\\nVilk\\xE5\\\n    r for bruk av arealer, bygninger\\nog anlegg #0 SN\\xD8\\nLinjesymbol\\nGrense for\\\n    \\ st\\xF8ysone\\nGrense for faresone\\nPlanens begrensning\\nForm\\xE5lgrense\\nBestemmelsegrense\\n\\\n    Byggegrense\\nFrisiktlinje\\nPunktsymboler\\nStenging av avkj\\xF8rsel\\nAvkj\\xF8rsel\\\n    \\ - b\\xE5de inn og utkj\\xF8ring\\nKartopplysninger\\nKilde for basiskart:\\nDato\\\n    \\ for basiskart:\\nKoordinatsystem:\\nH\\xF8ydegrunnlag:\\nEkvidistanse:\\nKartm\\xE5\\\n    lestokk:\\n1m1:750\\nKartverket 05.11.2019\\nETRS89.UTM-32N\\nNN2000\\nDato\\nArealplan-ID:\\n\\\n    Forslagsstiller:\\nSAKS-\\nNR\\nDATO SIGN\\nTEGNNR. DATO SIGN.\\nMed tilh\\xF8rende\\\n    \\ reguleringsbestemmelser\\nSAKSBEHANDLING ETTER PLAN- OG BYGNINGSLOVEN\\nPLANEN\\\n    \\ ER UTARBEIDET AV:\\nDato\\nDato\\nDato\\nRevisjon\\nRevisjonRevisjon\\nKommunestyret\\\n    \\ sitt vedtak\\nDet bekreftes at planen er i samsvar med kommunestyrets vedtak\\\n    \\ av 16.06.202223.06.2022Siv Therese Kile Lie\\nPlansjef\\n4219_202102\\nDeep Capital\\\n    \\ Investments AS\\n11.05.2022 S\\xC5F\\n2021/215 \\n10.02.22\\n18.03.21 \\n 04.03.21\\n\\\n    Evje og Hornnes\\nkommune\\nDetaljregulering\\nSt\\xF8peritomta\\nPLANKONSULENT\\n2.\\\n    \\ gangs behandling\\nOffentlig ettersyn fra 17.03.2022  til 28.04.2022\\n1. gangs\\\n    \\ behandling i Planutvalget\\nKunngj\\xF8ring av oppstart av planarbeid\\nOppstartsm\\xF8\\\n    te 04.03.21\\n4/22 \\n42/22 19.05.22\\n16.06.22 59/22 STL\\nSTL\\nSTL", images: [],\n  metadata: {num_pages: 1}}\n\n\nReturn the correct JSON response within a ```json codeblock. not the JSON_SCHEMA'}]}
python_service-1  | [92m11:27:01 - LiteLLM:DEBUG[0m: utils.py:2911 - 
python_service-1  | LiteLLM: Non-Default params passed to completion() {'temperature': 0, 'max_tokens': 4000}
python_service-1  | DEBUG:LiteLLM:
python_service-1  | LiteLLM: Non-Default params passed to completion() {'temperature': 0, 'max_tokens': 4000}
python_service-1  | [92m11:27:01 - LiteLLM:DEBUG[0m: utils.py:3511 - Azure optional params - api_version: api_version=None, litellm.api_version=2024-08-01-preview, os.environ['AZURE_API_VERSION']=None
python_service-1  | DEBUG:LiteLLM:Azure optional params - api_version: api_version=None, litellm.api_version=2024-08-01-preview, os.environ['AZURE_API_VERSION']=None
python_service-1  | [92m11:27:01 - LiteLLM:DEBUG[0m: utils.py:298 - Final returned optional params: {'temperature': 0, 'max_tokens': 4000, 'extra_body': {}}
python_service-1  | DEBUG:LiteLLM:Final returned optional params: {'temperature': 0, 'max_tokens': 4000, 'extra_body': {}}
python_service-1  | [92m11:27:01 - LiteLLM:DEBUG[0m: litellm_logging.py:377 - self.optional_params: {'temperature': 0, 'max_tokens': 4000, 'extra_body': {}}
python_service-1  | DEBUG:LiteLLM:self.optional_params: {'temperature': 0, 'max_tokens': 4000, 'extra_body': {}}
python_service-1  | [92m11:27:01 - LiteLLM:DEBUG[0m: litellm_logging.py:634 - [92m
python_service-1  | 
python_service-1  | POST Request Sent from LiteLLM:
python_service-1  | curl -X POST \
python_service-1  | https://kartai-openai.openai.azure.com \
python_service-1  | -H 'api_key: Dm20Qg2RomLirlz8icux5Y3XavqI2BfAwmuOdjuI********************************************' -H 'azure_ad_token: *****' \
python_service-1  | -d '{'model': 'gpt-4o-mini', 'messages': [{'role': 'system', 'content': 'You are a server API that receives document information and returns specific fields in JSON format.\n\n\n        As a genius expert, your task is to understand the content and provide\n        the parsed objects in json that match the following json_schema:\n\n\n        {\n  "description": "Contract for field extraction from regulatory documents.\\n\\nDefines the structure and prompt for extracting regulation codes from\\nNorwegian planning documents (plankart and bestemmelser).\\n\\nAttributes:\\n    fields (Set[str]): Set of extracted regulation codes",\n  "properties": {\n    "fields": {\n      "items": {\n        "type": "string"\n      },\n      "title": "Fields",\n      "type": "array",\n      "uniqueItems": true\n    }\n  },\n  "required": [\n    "fields"\n  ],\n  "title": "FieldExtractContract",\n  "type": "object"\n}\n\n        Make sure to return an instance of the JSON, not the schema itself\n'}, {'role': 'user', 'content': '##Content\n\n{content: "Alfred Uglands veg\\nEvje aktivitetspark\\n50/132\\n50/40\\nGudvangen\\n49/70\\n\\\n    49/87\\n42/12\\n49/78\\n49/8050/128\\n50/139\\n50/101\\n50/89\\n49/77\\n49/83\\n50/6650/127\\\n    \\ 50/151\\n42/51\\n49/10\\n49/82\\n49/86\\n50/40\\n50/40\\n50/59\\n50/71\\n50/132\\n50/148\\n\\\n    50/155\\n50/158\\n50/600\\n42/25\\n50/637\\nBR\\nBIA\\no_SPA\\no_GF3\\no_GF1\\no_GF2\\no_GTD1\\n\\\n    o_GTD2\\nA=2889 m\\xB2\\n%-BYA=\\n40%\\nBKS\\nA=3304 m\\xB2\\n%-BYA=45%\\no_SV1\\no_SV3\\n\\\n    f_BE\\nH220\\nH210\\n#01 SN\\xD8\\n#02 SN\\xD8\\nPlanert terreng =c+182,0moh\\nH320\\n\\\n    Vegstenges\\no_SF2\\no_SF1\\n\\xD8430350\\n\\xD8430425\\n\\xD8430500\\n\\xD8430575\\nN6494250\\n\\\n    N6494325 N6494400\\nN6494475\\nN\\n01937.5m\\nTegnforklaring\\nReguleringsplan PBL\\\n    \\ 2008\\n\\xA712-5. Nr. 1 - Bebyggelse og anlegg\\nBoligbebyggelse-konsentrert\\n\\\n    sm\\xE5husbebyggelseBKS\\nForsamlingslokale for\\nreligionsut\\xF8velseBR\\nIdrettsanleggBIA\\n\\\n    EnergianleggBE\\n\\xA712-5. Nr. 2 - Samferdselsanlegg og\\nteknisk infrastruktur\\n\\\n    Veg SV\\nFortau SF\\nParkering SPA\\n\\xA712-5. Nr. 3 - Gr\\xF8nnstruktur\\nTurdrag\\\n    \\ GTD\\nFriomr\\xE5deGF\\n\\xA712-6 - Hensynssoner\\nR\\xF8d sone iht. T-1442H210\\n\\\n    Gul sone iht. T-1442H220\\nFlomfare H320\\n\\xA712-7 - Bestemmelseomr\\xE5der\\nVilk\\xE5\\\n    r for bruk av arealer, bygninger\\nog anlegg #0 SN\\xD8\\nLinjesymbol\\nGrense for\\\n    \\ st\\xF8ysone\\nGrense for faresone\\nPlanens begrensning\\nForm\\xE5lgrense\\nBestemmelsegrense\\n\\\n    Byggegrense\\nFrisiktlinje\\nPunktsymboler\\nStenging av avkj\\xF8rsel\\nAvkj\\xF8rsel\\\n    \\ - b\\xE5de inn og utkj\\xF8ring\\nKartopplysninger\\nKilde for basiskart:\\nDato\\\n    \\ for basiskart:\\nKoordinatsystem:\\nH\\xF8ydegrunnlag:\\nEkvidistanse:\\nKartm\\xE5\\\n    lestokk:\\n1m1:750\\nKartverket 05.11.2019\\nETRS89.UTM-32N\\nNN2000\\nDato\\nArealplan-ID:\\n\\\n    Forslagsstiller:\\nSAKS-\\nNR\\nDATO SIGN\\nTEGNNR. DATO SIGN.\\nMed tilh\\xF8rende\\\n    \\ reguleringsbestemmelser\\nSAKSBEHANDLING ETTER PLAN- OG BYGNINGSLOVEN\\nPLANEN\\\n    \\ ER UTARBEIDET AV:\\nDato\\nDato\\nDato\\nRevisjon\\nRevisjonRevisjon\\nKommunestyret\\\n    \\ sitt vedtak\\nDet bekreftes at planen er i samsvar med kommunestyrets vedtak\\\n    \\ av 16.06.202223.06.2022Siv Therese Kile Lie\\nPlansjef\\n4219_202102\\nDeep Capital\\\n    \\ Investments AS\\n11.05.2022 S\\xC5F\\n2021/215 \\n10.02.22\\n18.03.21 \\n 04.03.21\\n\\\n    Evje og Hornnes\\nkommune\\nDetaljregulering\\nSt\\xF8peritomta\\nPLANKONSULENT\\n2.\\\n    \\ gangs behandling\\nOffentlig ettersyn fra 17.03.2022  til 28.04.2022\\n1. gangs\\\n    \\ behandling i Planutvalget\\nKunngj\\xF8ring av oppstart av planarbeid\\nOppstartsm\\xF8\\\n    te 04.03.21\\n4/22 \\n42/22 19.05.22\\n16.06.22 59/22 STL\\nSTL\\nSTL", images: [],\n  metadata: {num_pages: 1}}\n\n\nReturn the correct JSON response within a ```json codeblock. not the JSON_SCHEMA'}], 'temperature': 0, 'max_tokens': 4000, 'extra_body': {}}'
python_service-1  | [0m
python_service-1  | 
python_service-1  | DEBUG:LiteLLM:[92m
python_service-1  | 
python_service-1  | POST Request Sent from LiteLLM:
python_service-1  | curl -X POST \
python_service-1  | https://kartai-openai.openai.azure.com \
python_service-1  | -H 'api_key: Dm20Qg2RomLirlz8icux5Y3XavqI2BfAwmuOdjuI********************************************' -H 'azure_ad_token: *****' \
python_service-1  | -d '{'model': 'gpt-4o-mini', 'messages': [{'role': 'system', 'content': 'You are a server API that receives document information and returns specific fields in JSON format.\n\n\n        As a genius expert, your task is to understand the content and provide\n        the parsed objects in json that match the following json_schema:\n\n\n        {\n  "description": "Contract for field extraction from regulatory documents.\\n\\nDefines the structure and prompt for extracting regulation codes from\\nNorwegian planning documents (plankart and bestemmelser).\\n\\nAttributes:\\n    fields (Set[str]): Set of extracted regulation codes",\n  "properties": {\n    "fields": {\n      "items": {\n        "type": "string"\n      },\n      "title": "Fields",\n      "type": "array",\n      "uniqueItems": true\n    }\n  },\n  "required": [\n    "fields"\n  ],\n  "title": "FieldExtractContract",\n  "type": "object"\n}\n\n        Make sure to return an instance of the JSON, not the schema itself\n'}, {'role': 'user', 'content': '##Content\n\n{content: "Alfred Uglands veg\\nEvje aktivitetspark\\n50/132\\n50/40\\nGudvangen\\n49/70\\n\\\n    49/87\\n42/12\\n49/78\\n49/8050/128\\n50/139\\n50/101\\n50/89\\n49/77\\n49/83\\n50/6650/127\\\n    \\ 50/151\\n42/51\\n49/10\\n49/82\\n49/86\\n50/40\\n50/40\\n50/59\\n50/71\\n50/132\\n50/148\\n\\\n    50/155\\n50/158\\n50/600\\n42/25\\n50/637\\nBR\\nBIA\\no_SPA\\no_GF3\\no_GF1\\no_GF2\\no_GTD1\\n\\\n    o_GTD2\\nA=2889 m\\xB2\\n%-BYA=\\n40%\\nBKS\\nA=3304 m\\xB2\\n%-BYA=45%\\no_SV1\\no_SV3\\n\\\n    f_BE\\nH220\\nH210\\n#01 SN\\xD8\\n#02 SN\\xD8\\nPlanert terreng =c+182,0moh\\nH320\\n\\\n    Vegstenges\\no_SF2\\no_SF1\\n\\xD8430350\\n\\xD8430425\\n\\xD8430500\\n\\xD8430575\\nN6494250\\n\\\n    N6494325 N6494400\\nN6494475\\nN\\n01937.5m\\nTegnforklaring\\nReguleringsplan PBL\\\n    \\ 2008\\n\\xA712-5. Nr. 1 - Bebyggelse og anlegg\\nBoligbebyggelse-konsentrert\\n\\\n    sm\\xE5husbebyggelseBKS\\nForsamlingslokale for\\nreligionsut\\xF8velseBR\\nIdrettsanleggBIA\\n\\\n    EnergianleggBE\\n\\xA712-5. Nr. 2 - Samferdselsanlegg og\\nteknisk infrastruktur\\n\\\n    Veg SV\\nFortau SF\\nParkering SPA\\n\\xA712-5. Nr. 3 - Gr\\xF8nnstruktur\\nTurdrag\\\n    \\ GTD\\nFriomr\\xE5deGF\\n\\xA712-6 - Hensynssoner\\nR\\xF8d sone iht. T-1442H210\\n\\\n    Gul sone iht. T-1442H220\\nFlomfare H320\\n\\xA712-7 - Bestemmelseomr\\xE5der\\nVilk\\xE5\\\n    r for bruk av arealer, bygninger\\nog anlegg #0 SN\\xD8\\nLinjesymbol\\nGrense for\\\n    \\ st\\xF8ysone\\nGrense for faresone\\nPlanens begrensning\\nForm\\xE5lgrense\\nBestemmelsegrense\\n\\\n    Byggegrense\\nFrisiktlinje\\nPunktsymboler\\nStenging av avkj\\xF8rsel\\nAvkj\\xF8rsel\\\n    \\ - b\\xE5de inn og utkj\\xF8ring\\nKartopplysninger\\nKilde for basiskart:\\nDato\\\n    \\ for basiskart:\\nKoordinatsystem:\\nH\\xF8ydegrunnlag:\\nEkvidistanse:\\nKartm\\xE5\\\n    lestokk:\\n1m1:750\\nKartverket 05.11.2019\\nETRS89.UTM-32N\\nNN2000\\nDato\\nArealplan-ID:\\n\\\n    Forslagsstiller:\\nSAKS-\\nNR\\nDATO SIGN\\nTEGNNR. DATO SIGN.\\nMed tilh\\xF8rende\\\n    \\ reguleringsbestemmelser\\nSAKSBEHANDLING ETTER PLAN- OG BYGNINGSLOVEN\\nPLANEN\\\n    \\ ER UTARBEIDET AV:\\nDato\\nDato\\nDato\\nRevisjon\\nRevisjonRevisjon\\nKommunestyret\\\n    \\ sitt vedtak\\nDet bekreftes at planen er i samsvar med kommunestyrets vedtak\\\n    \\ av 16.06.202223.06.2022Siv Therese Kile Lie\\nPlansjef\\n4219_202102\\nDeep Capital\\\n    \\ Investments AS\\n11.05.2022 S\\xC5F\\n2021/215 \\n10.02.22\\n18.03.21 \\n 04.03.21\\n\\\n    Evje og Hornnes\\nkommune\\nDetaljregulering\\nSt\\xF8peritomta\\nPLANKONSULENT\\n2.\\\n    \\ gangs behandling\\nOffentlig ettersyn fra 17.03.2022  til 28.04.2022\\n1. gangs\\\n    \\ behandling i Planutvalget\\nKunngj\\xF8ring av oppstart av planarbeid\\nOppstartsm\\xF8\\\n    te 04.03.21\\n4/22 \\n42/22 19.05.22\\n16.06.22 59/22 STL\\nSTL\\nSTL", images: [],\n  metadata: {num_pages: 1}}\n\n\nReturn the correct JSON response within a ```json codeblock. not the JSON_SCHEMA'}], 'temperature': 0, 'max_tokens': 4000, 'extra_body': {}}'
python_service-1  | [0m
python_service-1  | 
python_service-1  | [92m11:27:05 - LiteLLM:DEBUG[0m: utils.py:298 - RAW RESPONSE:
python_service-1  | {"id": "chatcmpl-AzihptUfoODtAz79g9UPxsopowbt0", "choices": [{"finish_reason": "stop", "index": 0, "logprobs": null, "message": {"content": "```json\n{\n  \"fields\": [\n    \"50/132\",\n    \"50/40\",\n    \"49/70\",\n    \"49/87\",\n    \"42/12\",\n    \"49/78\",\n    \"49/80\",\n    \"50/128\",\n    \"50/139\",\n    \"50/101\",\n    \"50/89\",\n    \"49/77\",\n    \"49/83\",\n    \"50/66\",\n    \"50/127\",\n    \"50/151\",\n    \"42/51\",\n    \"49/10\",\n    \"49/82\",\n    \"49/86\",\n    \"50/40\",\n    \"50/40\",\n    \"50/59\",\n    \"50/71\",\n    \"50/132\",\n    \"50/148\",\n    \"50/155\",\n    \"50/158\",\n    \"50/600\",\n    \"42/25\",\n    \"50/637\",\n    \"BR\",\n    \"BIA\",\n    \"o_SPA\",\n    \"o_GF3\",\n    \"o_GF1\",\n    \"o_GF2\",\n    \"o_GTD1\",\n    \"o_GTD2\",\n    \"H220\",\n    \"H210\",\n    \"#01 SN\u00d8\",\n    \"#02 SN\u00d8\",\n    \"H320\",\n    \"o_SF2\",\n    \"o_SF1\",\n    \"N6494250\",\n    \"N6494325\",\n    \"N6494400\",\n    \"N6494475\",\n    \"SN\u00d8\",\n    \"BKS\",\n    \"BE\",\n    \"SPA\",\n    \"SF\",\n    \"GTD\",\n    \"GF\",\n    \"H210\",\n    \"H220\",\n    \"H320\",\n    \"SN\u00d8\"\n  ]\n}\n```", "refusal": null, "role": "assistant", "audio": null, "function_call": null, "tool_calls": null}, "content_filter_results": {"hate": {"filtered": false, "severity": "safe"}, "protected_material_code": {"filtered": false, "detected": false}, "protected_material_text": {"filtered": false, "detected": false}, "self_harm": {"filtered": false, "severity": "safe"}, "sexual": {"filtered": false, "severity": "safe"}, "violence": {"filtered": false, "severity": "safe"}}}], "created": 1739273221, "model": "gpt-4o-mini-2024-07-18", "object": "chat.completion", "service_tier": null, "system_fingerprint": "fp_f3927aa00d", "usage": {"completion_tokens": 366, "prompt_tokens": 1367, "total_tokens": 1733, "completion_tokens_details": {"accepted_prediction_tokens": 0, "audio_tokens": 0, "reasoning_tokens": 0, "rejected_prediction_tokens": 0}, "prompt_tokens_details": {"audio_tokens": 0, "cached_tokens": 0}}, "prompt_filter_results": [{"prompt_index": 0, "content_filter_results": {"hate": {"filtered": false, "severity": "safe"}, "jailbreak": {"filtered": false, "detected": false}, "self_harm": {"filtered": false, "severity": "safe"}, "sexual": {"filtered": false, "severity": "safe"}, "violence": {"filtered": false, "severity": "safe"}}}]}
python_service-1  | 
python_service-1  | 
python_service-1  | DEBUG:LiteLLM:RAW RESPONSE:
python_service-1  | {"id": "chatcmpl-AzihptUfoODtAz79g9UPxsopowbt0", "choices": [{"finish_reason": "stop", "index": 0, "logprobs": null, "message": {"content": "```json\n{\n  \"fields\": [\n    \"50/132\",\n    \"50/40\",\n    \"49/70\",\n    \"49/87\",\n    \"42/12\",\n    \"49/78\",\n    \"49/80\",\n    \"50/128\",\n    \"50/139\",\n    \"50/101\",\n    \"50/89\",\n    \"49/77\",\n    \"49/83\",\n    \"50/66\",\n    \"50/127\",\n    \"50/151\",\n    \"42/51\",\n    \"49/10\",\n    \"49/82\",\n    \"49/86\",\n    \"50/40\",\n    \"50/40\",\n    \"50/59\",\n    \"50/71\",\n    \"50/132\",\n    \"50/148\",\n    \"50/155\",\n    \"50/158\",\n    \"50/600\",\n    \"42/25\",\n    \"50/637\",\n    \"BR\",\n    \"BIA\",\n    \"o_SPA\",\n    \"o_GF3\",\n    \"o_GF1\",\n    \"o_GF2\",\n    \"o_GTD1\",\n    \"o_GTD2\",\n    \"H220\",\n    \"H210\",\n    \"#01 SN\u00d8\",\n    \"#02 SN\u00d8\",\n    \"H320\",\n    \"o_SF2\",\n    \"o_SF1\",\n    \"N6494250\",\n    \"N6494325\",\n    \"N6494400\",\n    \"N6494475\",\n    \"SN\u00d8\",\n    \"BKS\",\n    \"BE\",\n    \"SPA\",\n    \"SF\",\n    \"GTD\",\n    \"GF\",\n    \"H210\",\n    \"H220\",\n    \"H320\",\n    \"SN\u00d8\"\n  ]\n}\n```", "refusal": null, "role": "assistant", "audio": null, "function_call": null, "tool_calls": null}, "content_filter_results": {"hate": {"filtered": false, "severity": "safe"}, "protected_material_code": {"filtered": false, "detected": false}, "protected_material_text": {"filtered": false, "detected": false}, "self_harm": {"filtered": false, "severity": "safe"}, "sexual": {"filtered": false, "severity": "safe"}, "violence": {"filtered": false, "severity": "safe"}}}], "created": 1739273221, "model": "gpt-4o-mini-2024-07-18", "object": "chat.completion", "service_tier": null, "system_fingerprint": "fp_f3927aa00d", "usage": {"completion_tokens": 366, "prompt_tokens": 1367, "total_tokens": 1733, "completion_tokens_details": {"accepted_prediction_tokens": 0, "audio_tokens": 0, "reasoning_tokens": 0, "rejected_prediction_tokens": 0}, "prompt_tokens_details": {"audio_tokens": 0, "cached_tokens": 0}}, "prompt_filter_results": [{"prompt_index": 0, "content_filter_results": {"hate": {"filtered": false, "severity": "safe"}, "jailbreak": {"filtered": false, "detected": false}, "self_harm": {"filtered": false, "severity": "safe"}, "sexual": {"filtered": false, "severity": "safe"}, "violence": {"filtered": false, "severity": "safe"}}}]}
python_service-1  | 
python_service-1  | 
python_service-1  | [92m11:27:05 - LiteLLM:INFO[0m: utils.py:1084 - Wrapper: Completed Call, calling success_handler
python_service-1  | INFO:LiteLLM:Wrapper: Completed Call, calling success_handler
python_service-1  | [92m11:27:05 - LiteLLM:DEBUG[0m: cost_calculator.py:563 - completion_response _select_model_name_for_cost_calc: azure/gpt-4o-mini-2024-07-18
python_service-1  | DEBUG:LiteLLM:completion_response _select_model_name_for_cost_calc: azure/gpt-4o-mini-2024-07-18
python_service-1  | [92m11:27:05 - LiteLLM:DEBUG[0m: utils.py:4175 - checking potential_model_names in litellm.model_cost: {'split_model': 'gpt-4o-mini-2024-07-18', 'combined_model_name': 'azure/gpt-4o-mini-2024-07-18', 'stripped_model_name': 'gpt-4o-mini-2024-07-18', 'combined_stripped_model_name': 'azure/gpt-4o-mini-2024-07-18', 'custom_llm_provider': 'azure'}
python_service-1  | DEBUG:LiteLLM:checking potential_model_names in litellm.model_cost: {'split_model': 'gpt-4o-mini-2024-07-18', 'combined_model_name': 'azure/gpt-4o-mini-2024-07-18', 'stripped_model_name': 'gpt-4o-mini-2024-07-18', 'combined_stripped_model_name': 'azure/gpt-4o-mini-2024-07-18', 'custom_llm_provider': 'azure'}
python_service-1  | [92m11:27:05 - LiteLLM:DEBUG[0m: litellm_logging.py:1014 - Logging Details LiteLLM-Success Call: Cache_hit=None
python_service-1  | [92m11:27:05 - LiteLLM:DEBUG[0m: utils.py:4453 - model_info: {'key': 'azure/gpt-4o-mini-2024-07-18', 'max_tokens': 16384, 'max_input_tokens': 128000, 'max_output_tokens': 16384, 'input_cost_per_token': 1.65e-07, 'cache_creation_input_token_cost': None, 'cache_read_input_token_cost': 7.5e-08, 'input_cost_per_character': None, 'input_cost_per_token_above_128k_tokens': None, 'input_cost_per_query': None, 'input_cost_per_second': None, 'input_cost_per_audio_token': None, 'output_cost_per_token': 6.6e-07, 'output_cost_per_audio_token': None, 'output_cost_per_character': None, 'output_cost_per_token_above_128k_tokens': None, 'output_cost_per_character_above_128k_tokens': None, 'output_cost_per_second': None, 'output_cost_per_image': None, 'output_vector_size': None, 'litellm_provider': 'azure', 'mode': 'chat', 'supports_system_messages': None, 'supports_response_schema': True, 'supports_vision': True, 'supports_function_calling': True, 'supports_tool_choice': True, 'supports_assistant_prefill': False, 'supports_prompt_caching': True, 'supports_audio_input': False, 'supports_audio_output': False, 'supports_pdf_input': False, 'supports_embedding_image_input': False, 'supports_native_streaming': None, 'tpm': None, 'rpm': None}
python_service-1  | DEBUG:LiteLLM:Logging Details LiteLLM-Success Call: Cache_hit=None
python_service-1  | [92m11:27:05 - LiteLLM:DEBUG[0m: cost_calculator.py:563 - completion_response _select_model_name_for_cost_calc: azure/gpt-4o-mini-2024-07-18
python_service-1  | DEBUG:LiteLLM:model_info: {'key': 'azure/gpt-4o-mini-2024-07-18', 'max_tokens': 16384, 'max_input_tokens': 128000, 'max_output_tokens': 16384, 'input_cost_per_token': 1.65e-07, 'cache_creation_input_token_cost': None, 'cache_read_input_token_cost': 7.5e-08, 'input_cost_per_character': None, 'input_cost_per_token_above_128k_tokens': None, 'input_cost_per_query': None, 'input_cost_per_second': None, 'input_cost_per_audio_token': None, 'output_cost_per_token': 6.6e-07, 'output_cost_per_audio_token': None, 'output_cost_per_character': None, 'output_cost_per_token_above_128k_tokens': None, 'output_cost_per_character_above_128k_tokens': None, 'output_cost_per_second': None, 'output_cost_per_image': None, 'output_vector_size': None, 'litellm_provider': 'azure', 'mode': 'chat', 'supports_system_messages': None, 'supports_response_schema': True, 'supports_vision': True, 'supports_function_calling': True, 'supports_tool_choice': True, 'supports_assistant_prefill': False, 'supports_prompt_caching': True, 'supports_audio_input': False, 'supports_audio_output': False, 'supports_pdf_input': False, 'supports_embedding_image_input': False, 'supports_native_streaming': None, 'tpm': None, 'rpm': None}
python_service-1  | [92m11:27:05 - LiteLLM:DEBUG[0m: litellm_logging.py:846 - response_cost: 0.00046711500000000004
python_service-1  | DEBUG:LiteLLM:completion_response _select_model_name_for_cost_calc: azure/gpt-4o-mini-2024-07-18
python_service-1  | [92m11:27:05 - LiteLLM:DEBUG[0m: utils.py:4175 - checking potential_model_names in litellm.model_cost: {'split_model': 'gpt-4o-mini-2024-07-18', 'combined_model_name': 'azure/gpt-4o-mini-2024-07-18', 'stripped_model_name': 'gpt-4o-mini-2024-07-18', 'combined_stripped_model_name': 'azure/gpt-4o-mini-2024-07-18', 'custom_llm_provider': 'azure'}
python_service-1  | DEBUG:LiteLLM:response_cost: 0.00046711500000000004
python_service-1  | DEBUG:LiteLLM:checking potential_model_names in litellm.model_cost: {'split_model': 'gpt-4o-mini-2024-07-18', 'combined_model_name': 'azure/gpt-4o-mini-2024-07-18', 'stripped_model_name': 'gpt-4o-mini-2024-07-18', 'combined_stripped_model_name': 'azure/gpt-4o-mini-2024-07-18', 'custom_llm_provider': 'azure'}
python_service-1  | [92m11:27:05 - LiteLLM:DEBUG[0m: utils.py:4453 - model_info: {'key': 'azure/gpt-4o-mini-2024-07-18', 'max_tokens': 16384, 'max_input_tokens': 128000, 'max_output_tokens': 16384, 'input_cost_per_token': 1.65e-07, 'cache_creation_input_token_cost': None, 'cache_read_input_token_cost': 7.5e-08, 'input_cost_per_character': None, 'input_cost_per_token_above_128k_tokens': None, 'input_cost_per_query': None, 'input_cost_per_second': None, 'input_cost_per_audio_token': None, 'output_cost_per_token': 6.6e-07, 'output_cost_per_audio_token': None, 'output_cost_per_character': None, 'output_cost_per_token_above_128k_tokens': None, 'output_cost_per_character_above_128k_tokens': None, 'output_cost_per_second': None, 'output_cost_per_image': None, 'output_vector_size': None, 'litellm_provider': 'azure', 'mode': 'chat', 'supports_system_messages': None, 'supports_response_schema': True, 'supports_vision': True, 'supports_function_calling': True, 'supports_tool_choice': True, 'supports_assistant_prefill': False, 'supports_prompt_caching': True, 'supports_audio_input': False, 'supports_audio_output': False, 'supports_pdf_input': False, 'supports_embedding_image_input': False, 'supports_native_streaming': None, 'tpm': None, 'rpm': None}
python_service-1  | DEBUG:app.llm.extractor:Available base codes: set()
python_service-1  | DEBUG:app.llm.extractor:Checking field: 42/25
python_service-1  | WARNING:app.llm.extractor:No base codes available, using pattern matching
python_service-1  | DEBUG:app.llm.extractor:Checking field: 50/139
python_service-1  | WARNING:app.llm.extractor:No base codes available, using pattern matching
python_service-1  | DEBUG:app.llm.extractor:Checking field: o_GF2
python_service-1  | WARNING:app.llm.extractor:No base codes available, using pattern matching
python_service-1  | DEBUG:app.llm.extractor:Added valid code: o_GF2
python_service-1  | DEBUG:app.llm.extractor:Checking field: 49/80
python_service-1  | WARNING:app.llm.extractor:No base codes available, using pattern matching
python_service-1  | DEBUG:app.llm.extractor:Checking field: o_GTD2
python_service-1  | DEBUG:LiteLLM:model_info: {'key': 'azure/gpt-4o-mini-2024-07-18', 'max_tokens': 16384, 'max_input_tokens': 128000, 'max_output_tokens': 16384, 'input_cost_per_token': 1.65e-07, 'cache_creation_input_token_cost': None, 'cache_read_input_token_cost': 7.5e-08, 'input_cost_per_character': None, 'input_cost_per_token_above_128k_tokens': None, 'input_cost_per_query': None, 'input_cost_per_second': None, 'input_cost_per_audio_token': None, 'output_cost_per_token': 6.6e-07, 'output_cost_per_audio_token': None, 'output_cost_per_character': None, 'output_cost_per_token_above_128k_tokens': None, 'output_cost_per_character_above_128k_tokens': None, 'output_cost_per_second': None, 'output_cost_per_image': None, 'output_vector_size': None, 'litellm_provider': 'azure', 'mode': 'chat', 'supports_system_messages': None, 'supports_response_schema': True, 'supports_vision': True, 'supports_function_calling': True, 'supports_tool_choice': True, 'supports_assistant_prefill': False, 'supports_prompt_caching': True, 'supports_audio_input': False, 'supports_audio_output': False, 'supports_pdf_input': False, 'supports_embedding_image_input': False, 'supports_native_streaming': None, 'tpm': None, 'rpm': None}
python_service-1  | [92m11:27:05 - LiteLLM:DEBUG[0m: litellm_logging.py:846 - response_cost: 0.00046711500000000004
python_service-1  | WARNING:app.llm.extractor:No base codes available, using pattern matching
python_service-1  | DEBUG:LiteLLM:response_cost: 0.00046711500000000004
python_service-1  | [92m11:27:05 - LiteLLM:DEBUG[0m: utils.py:4175 - checking potential_model_names in litellm.model_cost: {'split_model': 'gpt-4o-mini-2024-07-18', 'combined_model_name': 'azure/gpt-4o-mini-2024-07-18', 'stripped_model_name': 'gpt-4o-mini-2024-07-18', 'combined_stripped_model_name': 'azure/gpt-4o-mini-2024-07-18', 'custom_llm_provider': 'azure'}
python_service-1  | DEBUG:app.llm.extractor:Added valid code: o_GTD2
python_service-1  | DEBUG:app.llm.extractor:Checking field: 49/83
python_service-1  | DEBUG:LiteLLM:checking potential_model_names in litellm.model_cost: {'split_model': 'gpt-4o-mini-2024-07-18', 'combined_model_name': 'azure/gpt-4o-mini-2024-07-18', 'stripped_model_name': 'gpt-4o-mini-2024-07-18', 'combined_stripped_model_name': 'azure/gpt-4o-mini-2024-07-18', 'custom_llm_provider': 'azure'}
python_service-1  | [92m11:27:05 - LiteLLM:DEBUG[0m: utils.py:4453 - model_info: {'key': 'azure/gpt-4o-mini-2024-07-18', 'max_tokens': 16384, 'max_input_tokens': 128000, 'max_output_tokens': 16384, 'input_cost_per_token': 1.65e-07, 'cache_creation_input_token_cost': None, 'cache_read_input_token_cost': 7.5e-08, 'input_cost_per_character': None, 'input_cost_per_token_above_128k_tokens': None, 'input_cost_per_query': None, 'input_cost_per_second': None, 'input_cost_per_audio_token': None, 'output_cost_per_token': 6.6e-07, 'output_cost_per_audio_token': None, 'output_cost_per_character': None, 'output_cost_per_token_above_128k_tokens': None, 'output_cost_per_character_above_128k_tokens': None, 'output_cost_per_second': None, 'output_cost_per_image': None, 'output_vector_size': None, 'litellm_provider': 'azure', 'mode': 'chat', 'supports_system_messages': None, 'supports_response_schema': True, 'supports_vision': True, 'supports_function_calling': True, 'supports_tool_choice': True, 'supports_assistant_prefill': False, 'supports_prompt_caching': True, 'supports_audio_input': False, 'supports_audio_output': False, 'supports_pdf_input': False, 'supports_embedding_image_input': False, 'supports_native_streaming': None, 'tpm': None, 'rpm': None}
python_service-1  | WARNING:app.llm.extractor:No base codes available, using pattern matching
python_service-1  | DEBUG:LiteLLM:model_info: {'key': 'azure/gpt-4o-mini-2024-07-18', 'max_tokens': 16384, 'max_input_tokens': 128000, 'max_output_tokens': 16384, 'input_cost_per_token': 1.65e-07, 'cache_creation_input_token_cost': None, 'cache_read_input_token_cost': 7.5e-08, 'input_cost_per_character': None, 'input_cost_per_token_above_128k_tokens': None, 'input_cost_per_query': None, 'input_cost_per_second': None, 'input_cost_per_audio_token': None, 'output_cost_per_token': 6.6e-07, 'output_cost_per_audio_token': None, 'output_cost_per_character': None, 'output_cost_per_token_above_128k_tokens': None, 'output_cost_per_character_above_128k_tokens': None, 'output_cost_per_second': None, 'output_cost_per_image': None, 'output_vector_size': None, 'litellm_provider': 'azure', 'mode': 'chat', 'supports_system_messages': None, 'supports_response_schema': True, 'supports_vision': True, 'supports_function_calling': True, 'supports_tool_choice': True, 'supports_assistant_prefill': False, 'supports_prompt_caching': True, 'supports_audio_input': False, 'supports_audio_output': False, 'supports_pdf_input': False, 'supports_embedding_image_input': False, 'supports_native_streaming': None, 'tpm': None, 'rpm': None}
python_service-1  | [92m11:27:05 - LiteLLM:DEBUG[0m: litellm_logging.py:1040 - Logging Details LiteLLM-Success Call streaming complete
python_service-1  | DEBUG:app.llm.extractor:Checking field: 49/78
python_service-1  | DEBUG:LiteLLM:Logging Details LiteLLM-Success Call streaming complete
python_service-1  | [92m11:27:05 - LiteLLM:DEBUG[0m: cost_calculator.py:563 - completion_response _select_model_name_for_cost_calc: azure/gpt-4o-mini-2024-07-18
python_service-1  | WARNING:app.llm.extractor:No base codes available, using pattern matching
python_service-1  | DEBUG:LiteLLM:completion_response _select_model_name_for_cost_calc: azure/gpt-4o-mini-2024-07-18
python_service-1  | [92m11:27:05 - LiteLLM:DEBUG[0m: utils.py:4175 - checking potential_model_names in litellm.model_cost: {'split_model': 'gpt-4o-mini-2024-07-18', 'combined_model_name': 'azure/gpt-4o-mini-2024-07-18', 'stripped_model_name': 'gpt-4o-mini-2024-07-18', 'combined_stripped_model_name': 'azure/gpt-4o-mini-2024-07-18', 'custom_llm_provider': 'azure'}
python_service-1  | DEBUG:app.llm.extractor:Checking field: N6494475
python_service-1  | DEBUG:LiteLLM:checking potential_model_names in litellm.model_cost: {'split_model': 'gpt-4o-mini-2024-07-18', 'combined_model_name': 'azure/gpt-4o-mini-2024-07-18', 'stripped_model_name': 'gpt-4o-mini-2024-07-18', 'combined_stripped_model_name': 'azure/gpt-4o-mini-2024-07-18', 'custom_llm_provider': 'azure'}
python_service-1  | [92m11:27:05 - LiteLLM:DEBUG[0m: utils.py:4453 - model_info: {'key': 'azure/gpt-4o-mini-2024-07-18', 'max_tokens': 16384, 'max_input_tokens': 128000, 'max_output_tokens': 16384, 'input_cost_per_token': 1.65e-07, 'cache_creation_input_token_cost': None, 'cache_read_input_token_cost': 7.5e-08, 'input_cost_per_character': None, 'input_cost_per_token_above_128k_tokens': None, 'input_cost_per_query': None, 'input_cost_per_second': None, 'input_cost_per_audio_token': None, 'output_cost_per_token': 6.6e-07, 'output_cost_per_audio_token': None, 'output_cost_per_character': None, 'output_cost_per_token_above_128k_tokens': None, 'output_cost_per_character_above_128k_tokens': None, 'output_cost_per_second': None, 'output_cost_per_image': None, 'output_vector_size': None, 'litellm_provider': 'azure', 'mode': 'chat', 'supports_system_messages': None, 'supports_response_schema': True, 'supports_vision': True, 'supports_function_calling': True, 'supports_tool_choice': True, 'supports_assistant_prefill': False, 'supports_prompt_caching': True, 'supports_audio_input': False, 'supports_audio_output': False, 'supports_pdf_input': False, 'supports_embedding_image_input': False, 'supports_native_streaming': None, 'tpm': None, 'rpm': None}
python_service-1  | WARNING:app.llm.extractor:No base codes available, using pattern matching
python_service-1  | DEBUG:LiteLLM:model_info: {'key': 'azure/gpt-4o-mini-2024-07-18', 'max_tokens': 16384, 'max_input_tokens': 128000, 'max_output_tokens': 16384, 'input_cost_per_token': 1.65e-07, 'cache_creation_input_token_cost': None, 'cache_read_input_token_cost': 7.5e-08, 'input_cost_per_character': None, 'input_cost_per_token_above_128k_tokens': None, 'input_cost_per_query': None, 'input_cost_per_second': None, 'input_cost_per_audio_token': None, 'output_cost_per_token': 6.6e-07, 'output_cost_per_audio_token': None, 'output_cost_per_character': None, 'output_cost_per_token_above_128k_tokens': None, 'output_cost_per_character_above_128k_tokens': None, 'output_cost_per_second': None, 'output_cost_per_image': None, 'output_vector_size': None, 'litellm_provider': 'azure', 'mode': 'chat', 'supports_system_messages': None, 'supports_response_schema': True, 'supports_vision': True, 'supports_function_calling': True, 'supports_tool_choice': True, 'supports_assistant_prefill': False, 'supports_prompt_caching': True, 'supports_audio_input': False, 'supports_audio_output': False, 'supports_pdf_input': False, 'supports_embedding_image_input': False, 'supports_native_streaming': None, 'tpm': None, 'rpm': None}
python_service-1  | [92m11:27:05 - LiteLLM:DEBUG[0m: litellm_logging.py:861 - response_cost_failure_debug_information: {'error_str': "'CompletionUsage' object is not subscriptable", 'traceback_str': 'Traceback (most recent call last):\n  File "/usr/local/lib/python3.12/site-packages/litellm/litellm_core_utils/litellm_logging.py", line 843, in _response_cost_calculator\n    response_cost = litellm.response_cost_calculator(\n                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "/usr/local/lib/python3.12/site-packages/litellm/cost_calculator.py", line 833, in response_cost_calculator\n    raise e\n  File "/usr/local/lib/python3.12/site-packages/litellm/cost_calculator.py", line 821, in response_cost_calculator\n    response_cost = completion_cost(\n                    ^^^^^^^^^^^^^^^^\n  File "/usr/local/lib/python3.12/site-packages/litellm/cost_calculator.py", line 771, in completion_cost\n    raise e\n  File "/usr/local/lib/python3.12/site-packages/litellm/cost_calculator.py", line 750, in completion_cost\n    ) = cost_per_token(\n        ^^^^^^^^^^^^^^^\n  File "/usr/local/lib/python3.12/site-packages/litellm/cost_calculator.py", line 279, in cost_per_token\n    return azure_openai_cost_per_token(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "/usr/local/lib/python3.12/site-packages/litellm/llms/azure/cost_calculation.py", line 38, in cost_per_token\n    usage["completion_tokens"] * model_info["output_cost_per_token"]\n    ~~~~~^^^^^^^^^^^^^^^^^^^^^\nTypeError: \'CompletionUsage\' object is not subscriptable\n', 'model': 'gpt-4o-mini', 'cache_hit': None, 'custom_llm_provider': 'azure', 'base_model': None, 'call_type': 'completion', 'custom_pricing': False}
python_service-1  | DEBUG:app.llm.extractor:Checking field: 50/600
python_service-1  | WARNING:app.llm.extractor:No base codes available, using pattern matching
python_service-1  | DEBUG:app.llm.extractor:Checking field: H210
python_service-1  | WARNING:app.llm.extractor:No base codes available, using pattern matching
python_service-1  | DEBUG:LiteLLM:response_cost_failure_debug_information: {'error_str': "'CompletionUsage' object is not subscriptable", 'traceback_str': 'Traceback (most recent call last):\n  File "/usr/local/lib/python3.12/site-packages/litellm/litellm_core_utils/litellm_logging.py", line 843, in _response_cost_calculator\n    response_cost = litellm.response_cost_calculator(\n                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "/usr/local/lib/python3.12/site-packages/litellm/cost_calculator.py", line 833, in response_cost_calculator\n    raise e\n  File "/usr/local/lib/python3.12/site-packages/litellm/cost_calculator.py", line 821, in response_cost_calculator\n    response_cost = completion_cost(\n                    ^^^^^^^^^^^^^^^^\n  File "/usr/local/lib/python3.12/site-packages/litellm/cost_calculator.py", line 771, in completion_cost\n    raise e\n  File "/usr/local/lib/python3.12/site-packages/litellm/cost_calculator.py", line 750, in completion_cost\n    ) = cost_per_token(\n        ^^^^^^^^^^^^^^^\n  File "/usr/local/lib/python3.12/site-packages/litellm/cost_calculator.py", line 279, in cost_per_token\n    return azure_openai_cost_per_token(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "/usr/local/lib/python3.12/site-packages/litellm/llms/azure/cost_calculation.py", line 38, in cost_per_token\n    usage["completion_tokens"] * model_info["output_cost_per_token"]\n    ~~~~~^^^^^^^^^^^^^^^^^^^^^\nTypeError: \'CompletionUsage\' object is not subscriptable\n', 'model': 'gpt-4o-mini', 'cache_hit': None, 'custom_llm_provider': 'azure', 'base_model': None, 'call_type': 'completion', 'custom_pricing': False}
python_service-1  | [92m11:27:05 - LiteLLM:DEBUG[0m: utils.py:4175 - checking potential_model_names in litellm.model_cost: {'split_model': 'gpt-4o-mini-2024-07-18', 'combined_model_name': 'azure/gpt-4o-mini-2024-07-18', 'stripped_model_name': 'gpt-4o-mini-2024-07-18', 'combined_stripped_model_name': 'azure/gpt-4o-mini-2024-07-18', 'custom_llm_provider': 'azure'}
python_service-1  | DEBUG:app.llm.extractor:Checking field: BE
python_service-1  | DEBUG:LiteLLM:checking potential_model_names in litellm.model_cost: {'split_model': 'gpt-4o-mini-2024-07-18', 'combined_model_name': 'azure/gpt-4o-mini-2024-07-18', 'stripped_model_name': 'gpt-4o-mini-2024-07-18', 'combined_stripped_model_name': 'azure/gpt-4o-mini-2024-07-18', 'custom_llm_provider': 'azure'}
python_service-1  | [92m11:27:05 - LiteLLM:DEBUG[0m: utils.py:4453 - model_info: {'key': 'azure/gpt-4o-mini-2024-07-18', 'max_tokens': 16384, 'max_input_tokens': 128000, 'max_output_tokens': 16384, 'input_cost_per_token': 1.65e-07, 'cache_creation_input_token_cost': None, 'cache_read_input_token_cost': 7.5e-08, 'input_cost_per_character': None, 'input_cost_per_token_above_128k_tokens': None, 'input_cost_per_query': None, 'input_cost_per_second': None, 'input_cost_per_audio_token': None, 'output_cost_per_token': 6.6e-07, 'output_cost_per_audio_token': None, 'output_cost_per_character': None, 'output_cost_per_token_above_128k_tokens': None, 'output_cost_per_character_above_128k_tokens': None, 'output_cost_per_second': None, 'output_cost_per_image': None, 'output_vector_size': None, 'litellm_provider': 'azure', 'mode': 'chat', 'supports_system_messages': None, 'supports_response_schema': True, 'supports_vision': True, 'supports_function_calling': True, 'supports_tool_choice': True, 'supports_assistant_prefill': False, 'supports_prompt_caching': True, 'supports_audio_input': False, 'supports_audio_output': False, 'supports_pdf_input': False, 'supports_embedding_image_input': False, 'supports_native_streaming': None, 'tpm': None, 'rpm': None}
python_service-1  | WARNING:app.llm.extractor:No base codes available, using pattern matching
python_service-1  | DEBUG:app.llm.extractor:Checking field: 50/127
python_service-1  | WARNING:app.llm.extractor:No base codes available, using pattern matching
python_service-1  | DEBUG:app.llm.extractor:Checking field: 50/148
python_service-1  | WARNING:app.llm.extractor:No base codes available, using pattern matching
python_service-1  | DEBUG:app.llm.extractor:Checking field: o_GF1
python_service-1  | WARNING:app.llm.extractor:No base codes available, using pattern matching
python_service-1  | DEBUG:app.llm.extractor:Added valid code: o_GF1
python_service-1  | DEBUG:LiteLLM:model_info: {'key': 'azure/gpt-4o-mini-2024-07-18', 'max_tokens': 16384, 'max_input_tokens': 128000, 'max_output_tokens': 16384, 'input_cost_per_token': 1.65e-07, 'cache_creation_input_token_cost': None, 'cache_read_input_token_cost': 7.5e-08, 'input_cost_per_character': None, 'input_cost_per_token_above_128k_tokens': None, 'input_cost_per_query': None, 'input_cost_per_second': None, 'input_cost_per_audio_token': None, 'output_cost_per_token': 6.6e-07, 'output_cost_per_audio_token': None, 'output_cost_per_character': None, 'output_cost_per_token_above_128k_tokens': None, 'output_cost_per_character_above_128k_tokens': None, 'output_cost_per_second': None, 'output_cost_per_image': None, 'output_vector_size': None, 'litellm_provider': 'azure', 'mode': 'chat', 'supports_system_messages': None, 'supports_response_schema': True, 'supports_vision': True, 'supports_function_calling': True, 'supports_tool_choice': True, 'supports_assistant_prefill': False, 'supports_prompt_caching': True, 'supports_audio_input': False, 'supports_audio_output': False, 'supports_pdf_input': False, 'supports_embedding_image_input': False, 'supports_native_streaming': None, 'tpm': None, 'rpm': None}
python_service-1  | DEBUG:app.llm.extractor:Checking field: 50/59
python_service-1  | WARNING:app.llm.extractor:No base codes available, using pattern matching
python_service-1  | DEBUG:app.llm.extractor:Checking field: 50/155
python_service-1  | WARNING:app.llm.extractor:No base codes available, using pattern matching
python_service-1  | DEBUG:app.llm.extractor:Checking field: SF
python_service-1  | WARNING:app.llm.extractor:No base codes available, using pattern matching
python_service-1  | DEBUG:app.llm.extractor:Checking field: 50/151
python_service-1  | WARNING:app.llm.extractor:No base codes available, using pattern matching
python_service-1  | DEBUG:app.llm.extractor:Checking field: 50/101
python_service-1  | WARNING:app.llm.extractor:No base codes available, using pattern matching
python_service-1  | DEBUG:app.llm.extractor:Checking field: #02 SN√ò
python_service-1  | WARNING:app.llm.extractor:No base codes available, using pattern matching
python_service-1  | DEBUG:app.llm.extractor:Checking field: N6494250
python_service-1  | WARNING:app.llm.extractor:No base codes available, using pattern matching
python_service-1  | DEBUG:app.llm.extractor:Checking field: 42/12
python_service-1  | WARNING:app.llm.extractor:No base codes available, using pattern matching
python_service-1  | DEBUG:app.llm.extractor:Checking field: 49/87
python_service-1  | WARNING:app.llm.extractor:No base codes available, using pattern matching
python_service-1  | DEBUG:app.llm.extractor:Checking field: 49/70
python_service-1  | WARNING:app.llm.extractor:No base codes available, using pattern matching
python_service-1  | DEBUG:app.llm.extractor:Checking field: o_SPA
python_service-1  | WARNING:app.llm.extractor:No base codes available, using pattern matching
python_service-1  | DEBUG:app.llm.extractor:Added valid code: o_SPA
python_service-1  | DEBUG:app.llm.extractor:Checking field: 50/89
python_service-1  | WARNING:app.llm.extractor:No base codes available, using pattern matching
python_service-1  | DEBUG:app.llm.extractor:Checking field: BKS
python_service-1  | WARNING:app.llm.extractor:No base codes available, using pattern matching
python_service-1  | DEBUG:app.llm.extractor:Added valid code: BKS
python_service-1  | DEBUG:app.llm.extractor:Checking field: N6494400
python_service-1  | WARNING:app.llm.extractor:No base codes available, using pattern matching
python_service-1  | DEBUG:app.llm.extractor:Checking field: o_GTD1
python_service-1  | WARNING:app.llm.extractor:No base codes available, using pattern matching
python_service-1  | DEBUG:app.llm.extractor:Added valid code: o_GTD1
python_service-1  | DEBUG:app.llm.extractor:Checking field: H220
python_service-1  | WARNING:app.llm.extractor:No base codes available, using pattern matching
python_service-1  | DEBUG:app.llm.extractor:Checking field: o_SF1
python_service-1  | WARNING:app.llm.extractor:No base codes available, using pattern matching
python_service-1  | DEBUG:app.llm.extractor:Added valid code: o_SF1
python_service-1  | DEBUG:app.llm.extractor:Checking field: o_GF3
python_service-1  | WARNING:app.llm.extractor:No base codes available, using pattern matching
python_service-1  | DEBUG:app.llm.extractor:Added valid code: o_GF3
python_service-1  | DEBUG:app.llm.extractor:Checking field: 50/66
python_service-1  | WARNING:app.llm.extractor:No base codes available, using pattern matching
python_service-1  | DEBUG:app.llm.extractor:Checking field: #01 SN√ò
python_service-1  | WARNING:app.llm.extractor:No base codes available, using pattern matching
python_service-1  | DEBUG:app.llm.extractor:Checking field: H320
python_service-1  | WARNING:app.llm.extractor:No base codes available, using pattern matching
python_service-1  | DEBUG:app.llm.extractor:Checking field: SPA
python_service-1  | WARNING:app.llm.extractor:No base codes available, using pattern matching
python_service-1  | DEBUG:app.llm.extractor:Checking field: 50/71
python_service-1  | WARNING:app.llm.extractor:No base codes available, using pattern matching
python_service-1  | DEBUG:app.llm.extractor:Checking field: 50/158
python_service-1  | WARNING:app.llm.extractor:No base codes available, using pattern matching
python_service-1  | DEBUG:app.llm.extractor:Checking field: 49/82
python_service-1  | WARNING:app.llm.extractor:No base codes available, using pattern matching
python_service-1  | DEBUG:app.llm.extractor:Checking field: o_SF2
python_service-1  | WARNING:app.llm.extractor:No base codes available, using pattern matching
python_service-1  | DEBUG:app.llm.extractor:Added valid code: o_SF2
python_service-1  | DEBUG:app.llm.extractor:Checking field: SN√ò
python_service-1  | WARNING:app.llm.extractor:No base codes available, using pattern matching
python_service-1  | DEBUG:app.llm.extractor:Checking field: 50/40
python_service-1  | WARNING:app.llm.extractor:No base codes available, using pattern matching
python_service-1  | DEBUG:app.llm.extractor:Checking field: 50/637
python_service-1  | WARNING:app.llm.extractor:No base codes available, using pattern matching
python_service-1  | DEBUG:app.llm.extractor:Checking field: 49/10
python_service-1  | WARNING:app.llm.extractor:No base codes available, using pattern matching
python_service-1  | DEBUG:app.llm.extractor:Checking field: BR
python_service-1  | WARNING:app.llm.extractor:No base codes available, using pattern matching
python_service-1  | DEBUG:app.llm.extractor:Checking field: GTD
python_service-1  | WARNING:app.llm.extractor:No base codes available, using pattern matching
python_service-1  | DEBUG:app.llm.extractor:Checking field: 49/77
python_service-1  | WARNING:app.llm.extractor:No base codes available, using pattern matching
python_service-1  | DEBUG:app.llm.extractor:Checking field: 49/86
python_service-1  | WARNING:app.llm.extractor:No base codes available, using pattern matching
python_service-1  | DEBUG:app.llm.extractor:Checking field: BIA
python_service-1  | WARNING:app.llm.extractor:No base codes available, using pattern matching
python_service-1  | DEBUG:app.llm.extractor:Checking field: N6494325
python_service-1  | WARNING:app.llm.extractor:No base codes available, using pattern matching
python_service-1  | DEBUG:app.llm.extractor:Checking field: GF
python_service-1  | WARNING:app.llm.extractor:No base codes available, using pattern matching
python_service-1  | DEBUG:app.llm.extractor:Added valid code: GF
python_service-1  | DEBUG:app.llm.extractor:Checking field: 50/132
python_service-1  | WARNING:app.llm.extractor:No base codes available, using pattern matching
python_service-1  | DEBUG:app.llm.extractor:Checking field: 50/128
python_service-1  | WARNING:app.llm.extractor:No base codes available, using pattern matching
python_service-1  | DEBUG:app.llm.extractor:Checking field: 42/51
python_service-1  | WARNING:app.llm.extractor:No base codes available, using pattern matching
python_service-1  | INFO:app.llm.extractor:Extracted fields: {'BKS', 'O_SF1', 'O_GF1', 'O_GTD2', 'O_GF2', 'O_SPA', 'O_GF3', 'GF', 'O_SF2', 'O_GTD1'}
python_service-1  | DEBUG:app.llm.extractor:Raw text from PDF: [{'content': '  1 \n  \n \n \nReguleringsbestemmelser  \nfor \nSt√∏peritomta \n \nPlan ID: 202102 \nPlankart dato: 11.05.2022 \nReguleringsbestemmelser dato: 11.05.2022 \nVedtatt PS 59/22: 16.06.2022 \n  \n \n¬ß1. Planform√•l \nForm√•let med planen er √• tilrettelegge for konsentrert bebyggelse med tilh√∏rende anlegg. \nPlanen omfatter ogs√• kirke/annen religionsut√∏velse, parkeringsanlegg og idrett/park.  \n \nPlanen inneholder f√∏lgende form√•l (Pbl. ¬ß 12-5): \n \n¬ß1.1 Bebyggelse og anlegg (pbl ¬ß12-5,nr 1) \nBoligbebyggelse- Konsentrert sm√•husbebyggelse (BKS) \nForsamlingslokale for religionsut√∏velse (BR) \nIdrettsanlegg (BIA) \nEnergianlegg (BE) \n \n¬ß1.2 Samferdselsanlegg og teknisk infrastruktur (pbl ¬ß12-5, nr 2) \nVeg (o_SV1 og 3) \nFortau (o_SF) \nParkering(o_SPA) \n \n¬ß1.3 Gr√∏nnstruktur (pbl ¬ß12-5,2. ledd nr 3) \nFriomr√•de (o_GF1-3) \nTurdrag (o_GTD1-2) \n \n \n  \n'}, {'content': '  2 \n¬ß2. Rekkef√∏lgebestemmelser (pbl ¬ß 12-7 nr. 10) \n \n¬ß2.1 F√∏r midlertidig brukstillatelse for BKS skal o_SV3 v√¶re ferdig opparbeidet.  \n¬ß2.2 F√∏r midlertidig brukstillatelse for 1. boenhet p√• BKS skal lekeplass innenfor GF1 v√¶re ferdig \nopparbeidet. \n¬ß2.3 F√∏r midlertidig brukstillatelse p√• 5. boenhet p√• BKS skal o_GTD1-2 v√¶re ferdig opparbeidet.  \n¬ß2.4 F√∏r midlertidig brukstillatelse for BKS skal o_SF v√¶re ferdig opparbeidet. \n¬ß2.5 F√∏r ferdigattest p√• BR, skal o_SF og o_SPA v√¶re ferdig opparbeidet. \n \n \n \n \n \n¬ß3. Fellesbestemmelser \n¬ß3.1 Bygge- og anleggsst√∏y skal ikke overskride st√∏ygrensen i tabell 4 i retningslinje for behandling \nav st√∏y i arealplanlegging (T-1442/2021). St√∏yende aktivitet skal foregaÃä p√• dagtid. \n¬ß4. Bebyggelse og anlegg (pbl 12-5 nr. 1) \nBoligbebyggelse-konsentrert sm√•husbebyggelse - BKS \n \n¬ß4.1 Bebyggelse: Det tillates fire tomannsboliger p√• tomten. Totalt 8 boenheter.   \n¬ß4.2 Byggegrenser: Plassering av nye tiltak skal skje innenfor byggegrensene. For \ngarasje/carport/bod mindre enn 50 m2 BYA gjelder byggegrense p√• 1 meter fra tomtegrense. \nTerrenginngrep og grunnarbeider i forbindelse med opparbeidelse av tomtene tillattes \nutenfor byggegrense. Avkj√∏rsel og parkering tillates utenfor byggegrense. \n¬ß4.3 Garasje/Carport: Alle boenheter skal ha minst en parkering under tak til disposisjon.  \n¬ß4.4 Bestemmelsesomr√•de #01 SN√ò: Innenfor omr√•det kan det anlegges opplag for sn√∏. \n \nGrad av utnytting \n¬ß4.5 Utnyttelsesgrad: BYA for omr√•det BKS skal v√¶re maksimalt %-BYA= 40%. Overbygg til \nrenovasjon eller dunker medregnes ikke i %-BYA. \n¬ß4.6 Parkering: Det skal avsettes 2 parkeringsplasser for hver boenhet, hvor en av disse skal v√¶re i \ngarasje/carport. BYA for parkering er 3x6=18m2 per plass. \n \nH√∏yder ‚Äì Utforming av bebyggelse \n¬ß4.7 Planeringsh√∏yder: Maksimal planeringsh√∏yde er angitt i plankart. Maks planeringsh√∏yde er \nK+182. \n¬ß4.8 Takform: Bebyggelse skal ha saltak med en takvinkel mellom 30 - 40 grader.  \n¬ß4.9 Takh√∏yder: Tillate takh√∏yder er angitt i tabellen under. H√∏yder regnes fra planert terreng. \n \n Saltak \nM√∏ne 6,0 m \nGesimsh√∏yde 3,5 m \nTakvinkel 30-40 grader \n \nSt√∏yf√∏lsom bebyggelse \nF√∏r det tillates tiltak innenfor omr√•det skal det gj√∏res st√∏yskjermede tiltak.   \n¬ß4.10 Alle boenheter skal ha uteplass p√• b√•de √∏stsiden og vestsiden av bebyggelsen.  '}, {'content': '  3 \n¬ß4.11 Alle boenheter skal v√¶re gjennomg√•ende og ha minst ett soverom plassert p√• vestsiden og \n√∏stsiden. Eventuelt √∏kt lydisolasjon i fasade i minst ett soverom i hver boenhet. \n \nTeknisk plan \n¬ß4.12 Det stilles teknisk plan for VA, overvannsh√•ndtering og str√∏mforsyning f√∏r \nigangsettingstillatelse kan gis innenfor omr√•det BKS. Det b√∏r legge til rette for √•pne \nvannveier for overvannsh√•ndtering. Dersom andre l√∏sninger velges skal det begrunnes \nhvorfor naturbaserte l√∏sninger velges bort. \n¬ß4.13 V/A- anlegg samt vei skal dimensjoneres og opparbeides i samsvar med til enhver tids \ngjeldende ¬´Retningslinjer for vei, vann og avl√∏p¬ª for Evje og Hornnes kommune. Det skal \nsikres teknisk godkjenning av offentlig samferdselsanlegg. \n¬ß4.14 Det skal f√∏r utbygging avklares hvordan det nye utbyggingsomr√•det i planomr√•det skal \nforsynes med elektrisk str√∏m. Det m√• avklares i hvilken grad eksisterende ledninger/kabler \neventuelt kan benyttes og om nye ledninger/kabler m√• legges om og om det er behov for \nny(e) nettstasjon(er). \n \nUtforming av tomt \n¬ß4.15 Situasjonsplan: Ved s√∏knad om tillatelse til tiltak skal situasjonsplan vedlegges i tilpasset \nm√•lestokk som viser plassering av bebyggelse og h√∏yde. Situasjonsplan skal ogs√• vise \nplassering av parkering, avkj√∏rsel og evt. st√∏ttemurer.  \n¬ß4.16 Renovasjon: Areal for renovasjon skal vises p√• situasjonsplan. Situasjonsplanen skal vise at \nrenovasjonsbil har tilstrekkelig snuareal innenfor planomr√•det.  \n¬ß4.17 Forst√∏tningsmur: Det tillattes forst√∏tningsmurer for √• tilpasse terrenget. Forst√∏tningsmurer \ntillates oppf√∏rt utenfor byggegrense. Maks tillatt h√∏yde p√• forst√∏tningsmurer er 2,5 meter.  \n¬ß4.18 Det stilles estetisk krav til utforming av fylling / naturstein plastret skr√•ning mot bekk. \nSkr√•ning skal jord klees, tils√•es og sikres mot erosjon. \n \nForsamlingslokale for religionsut√∏velse - BR \n \n¬ß4.19 Omr√•det skal benyttes til nytt sentrumsn√¶rt bedehus i n√∏dvendig grad og utstrekning \n¬ß4.20 Bygninger kan oppf√∏res med gesimsh√∏yde 8,0 meter og m√∏neh√∏yde 10,5 meter. \n¬ß4.21 BYA for arealform√•let skal v√¶re maksimalt %-BYA= 50. Areal for parkering medregnes ikke i \n%BYA \n¬ß4.22 Det skal avsettes tilstrekkelig med parkeringsareal til gjeldende aktivitet innenfor regulert \nomr√•de. Parkeringsbehovet for bedehuset kan l√∏ses b√•de innenfor BR og SPA. \n¬ß4.23 Arealutnyttelse utover dette skal opparbeides parkmessig og v√¶re tilgjengelig for \nallmennheten. \n¬ß4.24 Oppgitt gesimsh√∏yde og m√∏neh√∏yde skal regnes ut fra gjennomsnittlig h√∏yde p√• tomta/ \nomr√•det f√∏r opparbeidelse begynner. \n¬ß4.25 Innenfor omr√•det BR tillates det internveier og parkeringsplasser. \n \nIdrettsanlegg - BIA \n¬ß4.26 Innenfor omr√•det er det tillatt med tiltak som fremmer idrettsaktiviteter.  \n \nEnergianlegg - BE \n¬ß4.27 Innenfor omr√•det er det tillatt plassering av trafo og infrastruktur i sammenheng med dette. \n \n  '}, {'content': '  4 \n¬ß5. Samferdselsanlegg og teknisk infrastruktur (pbl 12-5 nr. 2) \nVeg (o_SV1) \n¬ß5.1 Veien o_SV1 er adkomst for alle tilgrensende eiendommer. \nDet skal opparbeides et fysisk skille mellom o_SV1 og omkringliggende arealform√•l SPA, GF \nog SGS. Adkomst til SPA og BR skal ikke v√¶re rett ovenfor hverandre. \n \n \n \nVeg (o_SV3) \n¬ß5.2 Veien o_SV3-er adkomst for boligomr√•de BKS og BR samt atkomst til o_SPA. Plasseringer av \navkj√∏rsler langs o_SV3 er ikke endelige og tillates justert i samr√•d med veieier. \n \nFortau (o_SF1-2) \n¬ß5.3 o_SF1-2 er regulert til offentlig fortau med en bredde p√• 3 meter. \n \nParkering (o_SPA) \n¬ß5.4 o_SPA er offentlig parkeringsplass. \n¬ß5.5 Parkeringsbehov for bedehuset kan l√∏ses innenfor o_SPA. \n¬ß5.6 Det tillates etablert ladestasjoner innenfor omr√•det.  \n¬ß5.7 Atkomst til SPA og SGS skal ikke anlegges vertikalt rett overfor hverandre. \n \n \n¬ß6. Gr√∏nnstruktur (pbl 12-5 nr. 3) \n \nFriomr√•de (o_GF1-3) \n¬ß6.1 Omr√•de for friomr√•de/gr√∏ntstruktur GF1-GF3 er til fri ferdsel for allmenheten. \n¬ß6.2 I omr√•dene er det tillat oppf√∏rt bebyggelse og andre tekniske installasjoner som typisk \nberiker bruken av omr√•de. \n¬ß6.3 Innenfor omr√•det GF1 skal det opparbeides et felles leke- og uteoppholdsareal for hele \nplanomr√•det. Lekeplassen skal utstyres med sand, benk og min. 3 ulike lekeapparater. \n¬ß6.4 Det tillates avkj√∏rsel for BR over o_GF3 \n¬ß6.5 Bestemmelsesomr√•de #02 SN√ò: Innenfor omr√•det kan det anlegges opplag for sn√∏. \n¬ß6.6 Det tillates √• legge kabler i bakken innenfor omr√•de avsatt til friomr√•de. \n¬ß6.7 Adkomst til lekearealer skal v√¶re universelt utformet. \n \nTurdrag (GTD1-2) \n¬ß6.8 Omr√•dene skal benyttes til turveier. \n \n \n \nDato 11.05.2022 '}]...
python_service-1  | [92m11:27:05 - LiteLLM:DEBUG[0m: utils.py:298 - 
python_service-1  | 
python_service-1  | DEBUG:LiteLLM:
python_service-1  | 
python_service-1  | [92m11:27:05 - LiteLLM:DEBUG[0m: utils.py:298 - [92mRequest to litellm:[0m
python_service-1  | DEBUG:LiteLLM:[92mRequest to litellm:[0m
python_service-1  | [92m11:27:05 - LiteLLM:DEBUG[0m: utils.py:298 - [92mlitellm.completion(messages=[{'role': 'system', 'content': 'You are a server API that receives document information and returns specific fields in JSON format.\n\n\n        As a genius expert, your task is to understand the content and provide\n        the parsed objects in json that match the following json_schema:\n\n\n        {\n  "description": "Contract for field extraction from regulatory documents.\\n\\nDefines the structure and prompt for extracting regulation codes from\\nNorwegian planning documents (plankart and bestemmelser).\\n\\nAttributes:\\n    fields (Set[str]): Set of extracted regulation codes",\n  "properties": {\n    "fields": {\n      "items": {\n        "type": "string"\n      },\n      "title": "Fields",\n      "type": "array",\n      "uniqueItems": true\n    }\n  },\n  "required": [\n    "fields"\n  ],\n  "title": "FieldExtractContract",\n  "type": "object"\n}\n\n        Make sure to return an instance of the JSON, not the schema itself\n'}, {'role': 'user', 'content': '##Content\n\n{content: "  1 \\n  \\n \\n \\nReguleringsbestemmelser  \\nfor \\nSt\\xF8peritomta \\n \\n\\\n    Plan ID: 202102 \\nPlankart dato: 11.05.2022 \\nReguleringsbestemmelser dato: 11.05.2022\\\n    \\ \\nVedtatt PS 59/22: 16.06.2022 \\n  \\n \\n\\xA71. Planform\\xE5l \\nForm\\xE5let med\\\n    \\ planen er \\xE5 tilrettelegge for konsentrert bebyggelse med tilh\\xF8rende anlegg.\\\n    \\ \\nPlanen omfatter ogs\\xE5 kirke/annen religionsut\\xF8velse, parkeringsanlegg\\\n    \\ og idrett/park.  \\n \\nPlanen inneholder f\\xF8lgende form\\xE5l (Pbl. \\xA7 12-5):\\\n    \\ \\n \\n\\xA71.1 Bebyggelse og anlegg (pbl \\xA712-5,nr 1) \\nBoligbebyggelse- Konsentrert\\\n    \\ sm\\xE5husbebyggelse (BKS) \\nForsamlingslokale for religionsut\\xF8velse (BR)\\\n    \\ \\nIdrettsanlegg (BIA) \\nEnergianlegg (BE) \\n \\n\\xA71.2 Samferdselsanlegg og\\\n    \\ teknisk infrastruktur (pbl \\xA712-5, nr 2) \\nVeg (o_SV1 og 3) \\nFortau (o_SF)\\\n    \\ \\nParkering(o_SPA) \\n \\n\\xA71.3 Gr\\xF8nnstruktur (pbl \\xA712-5,2. ledd nr 3)\\\n    \\ \\nFriomr\\xE5de (o_GF1-3) \\nTurdrag (o_GTD1-2) \\n \\n \\n  \\n\\n\\n  2 \\n\\xA72. Rekkef\\xF8\\\n    lgebestemmelser (pbl \\xA7 12-7 nr. 10) \\n \\n\\xA72.1 F\\xF8r midlertidig brukstillatelse\\\n    \\ for BKS skal o_SV3 v\\xE6re ferdig opparbeidet.  \\n\\xA72.2 F\\xF8r midlertidig\\\n    \\ brukstillatelse for 1. boenhet p\\xE5 BKS skal lekeplass innenfor GF1 v\\xE6re\\\n    \\ ferdig \\nopparbeidet. \\n\\xA72.3 F\\xF8r midlertidig brukstillatelse p\\xE5 5.\\\n    \\ boenhet p\\xE5 BKS skal o_GTD1-2 v\\xE6re ferdig opparbeidet.  \\n\\xA72.4 F\\xF8\\\n    r midlertidig brukstillatelse for BKS skal o_SF v\\xE6re ferdig opparbeidet. \\n\\\n    \\xA72.5 F\\xF8r ferdigattest p\\xE5 BR, skal o_SF og o_SPA v\\xE6re ferdig opparbeidet.\\\n    \\ \\n \\n \\n \\n \\n \\n\\xA73. Fellesbestemmelser \\n\\xA73.1 Bygge- og anleggsst\\xF8\\\n    y skal ikke overskride st\\xF8ygrensen i tabell 4 i retningslinje for behandling\\\n    \\ \\nav st\\xF8y i arealplanlegging (T-1442/2021). St\\xF8yende aktivitet skal forega\\u030A\\\n    \\ p\\xE5 dagtid. \\n\\xA74. Bebyggelse og anlegg (pbl 12-5 nr. 1) \\nBoligbebyggelse-konsentrert\\\n    \\ sm\\xE5husbebyggelse - BKS \\n \\n\\xA74.1 Bebyggelse: Det tillates fire tomannsboliger\\\n    \\ p\\xE5 tomten. Totalt 8 boenheter.   \\n\\xA74.2 Byggegrenser: Plassering av nye\\\n    \\ tiltak skal skje innenfor byggegrensene. For \\ngarasje/carport/bod mindre enn\\\n    \\ 50 m2 BYA gjelder byggegrense p\\xE5 1 meter fra tomtegrense. \\nTerrenginngrep\\\n    \\ og grunnarbeider i forbindelse med opparbeidelse av tomtene tillattes \\nutenfor\\\n    \\ byggegrense. Avkj\\xF8rsel og parkering tillates utenfor byggegrense. \\n\\xA7\\\n    4.3 Garasje/Carport: Alle boenheter skal ha minst en parkering under tak til disposisjon.\\\n    \\  \\n\\xA74.4 Bestemmelsesomr\\xE5de #01 SN\\xD8: Innenfor omr\\xE5det kan det anlegges\\\n    \\ opplag for sn\\xF8. \\n \\nGrad av utnytting \\n\\xA74.5 Utnyttelsesgrad: BYA for\\\n    \\ omr\\xE5det BKS skal v\\xE6re maksimalt %-BYA= 40%. Overbygg til \\nrenovasjon\\\n    \\ eller dunker medregnes ikke i %-BYA. \\n\\xA74.6 Parkering: Det skal avsettes\\\n    \\ 2 parkeringsplasser for hver boenhet, hvor en av disse skal v\\xE6re i \\ngarasje/carport.\\\n    \\ BYA for parkering er 3x6=18m2 per plass. \\n \\nH\\xF8yder \\u2013 Utforming av\\\n    \\ bebyggelse \\n\\xA74.7 Planeringsh\\xF8yder: Maksimal planeringsh\\xF8yde er angitt\\\n    \\ i plankart. Maks planeringsh\\xF8yde er \\nK+182. \\n\\xA74.8 Takform: Bebyggelse\\\n    \\ skal ha saltak med en takvinkel mellom 30 - 40 grader.  \\n\\xA74.9 Takh\\xF8yder:\\\n    \\ Tillate takh\\xF8yder er angitt i tabellen under. H\\xF8yder regnes fra planert\\\n    \\ terreng. \\n \\n Saltak \\nM\\xF8ne 6,0 m \\nGesimsh\\xF8yde 3,5 m \\nTakvinkel 30-40\\\n    \\ grader \\n \\nSt\\xF8yf\\xF8lsom bebyggelse \\nF\\xF8r det tillates tiltak innenfor\\\n    \\ omr\\xE5det skal det gj\\xF8res st\\xF8yskjermede tiltak.   \\n\\xA74.10 Alle boenheter\\\n    \\ skal ha uteplass p\\xE5 b\\xE5de \\xF8stsiden og vestsiden av bebyggelsen.  \\n\\n\\\n    \\  3 \\n\\xA74.11 Alle boenheter skal v\\xE6re gjennomg\\xE5ende og ha minst ett soverom\\\n    \\ plassert p\\xE5 vestsiden og \\n\\xF8stsiden. Eventuelt \\xF8kt lydisolasjon i fasade\\\n    \\ i minst ett soverom i hver boenhet. \\n \\nTeknisk plan \\n\\xA74.12 Det stilles\\\n    \\ teknisk plan for VA, overvannsh\\xE5ndtering og str\\xF8mforsyning f\\xF8r \\nigangsettingstillatelse\\\n    \\ kan gis innenfor omr\\xE5det BKS. Det b\\xF8r legge til rette for \\xE5pne \\nvannveier\\\n    \\ for overvannsh\\xE5ndtering. Dersom andre l\\xF8sninger velges skal det begrunnes\\\n    \\ \\nhvorfor naturbaserte l\\xF8sninger velges bort. \\n\\xA74.13 V/A- anlegg samt\\\n    \\ vei skal dimensjoneres og opparbeides i samsvar med til enhver tids \\ngjeldende\\\n    \\ \\xABRetningslinjer for vei, vann og avl\\xF8p\\xBB for Evje og Hornnes kommune.\\\n    \\ Det skal \\nsikres teknisk godkjenning av offentlig samferdselsanlegg. \\n\\xA7\\\n    4.14 Det skal f\\xF8r utbygging avklares hvordan det nye utbyggingsomr\\xE5det i\\\n    \\ planomr\\xE5det skal \\nforsynes med elektrisk str\\xF8m. Det m\\xE5 avklares i\\\n    \\ hvilken grad eksisterende ledninger/kabler \\neventuelt kan benyttes og om nye\\\n    \\ ledninger/kabler m\\xE5 legges om og om det er behov for \\nny(e) nettstasjon(er).\\\n    \\ \\n \\nUtforming av tomt \\n\\xA74.15 Situasjonsplan: Ved s\\xF8knad om tillatelse\\\n    \\ til tiltak skal situasjonsplan vedlegges i tilpasset \\nm\\xE5lestokk som viser\\\n    \\ plassering av bebyggelse og h\\xF8yde. Situasjonsplan skal ogs\\xE5 vise \\nplassering\\\n    \\ av parkering, avkj\\xF8rsel og evt. st\\xF8ttemurer.  \\n\\xA74.16 Renovasjon: Areal\\\n    \\ for renovasjon skal vises p\\xE5 situasjonsplan. Situasjonsplanen skal vise at\\\n    \\ \\nrenovasjonsbil har tilstrekkelig snuareal innenfor planomr\\xE5det.  \\n\\xA7\\\n    4.17 Forst\\xF8tningsmur: Det tillattes forst\\xF8tningsmurer for \\xE5 tilpasse\\\n    \\ terrenget. Forst\\xF8tningsmurer \\ntillates oppf\\xF8rt utenfor byggegrense. Maks\\\n    \\ tillatt h\\xF8yde p\\xE5 forst\\xF8tningsmurer er 2,5 meter.  \\n\\xA74.18 Det stilles\\\n    \\ estetisk krav til utforming av fylling / naturstein plastret skr\\xE5ning mot\\\n    \\ bekk. \\nSkr\\xE5ning skal jord klees, tils\\xE5es og sikres mot erosjon. \\n \\n\\\n    Forsamlingslokale for religionsut\\xF8velse - BR \\n \\n\\xA74.19 Omr\\xE5det skal\\\n    \\ benyttes til nytt sentrumsn\\xE6rt bedehus i n\\xF8dvendig grad og utstrekning\\\n    \\ \\n\\xA74.20 Bygninger kan oppf\\xF8res med gesimsh\\xF8yde 8,0 meter og m\\xF8neh\\xF8\\\n    yde 10,5 meter. \\n\\xA74.21 BYA for arealform\\xE5let skal v\\xE6re maksimalt %-BYA=\\\n    \\ 50. Areal for parkering medregnes ikke i \\n%BYA \\n\\xA74.22 Det skal avsettes\\\n    \\ tilstrekkelig med parkeringsareal til gjeldende aktivitet innenfor regulert\\\n    \\ \\nomr\\xE5de. Parkeringsbehovet for bedehuset kan l\\xF8ses b\\xE5de innenfor BR\\\n    \\ og SPA. \\n\\xA74.23 Arealutnyttelse utover dette skal opparbeides parkmessig\\\n    \\ og v\\xE6re tilgjengelig for \\nallmennheten. \\n\\xA74.24 Oppgitt gesimsh\\xF8yde\\\n    \\ og m\\xF8neh\\xF8yde skal regnes ut fra gjennomsnittlig h\\xF8yde p\\xE5 tomta/\\\n    \\ \\nomr\\xE5det f\\xF8r opparbeidelse begynner. \\n\\xA74.25 Innenfor omr\\xE5det BR\\\n    \\ tillates det internveier og parkeringsplasser. \\n \\nIdrettsanlegg - BIA \\n\\xA7\\\n    4.26 Innenfor omr\\xE5det er det tillatt med tiltak som fremmer idrettsaktiviteter.\\\n    \\  \\n \\nEnergianlegg - BE \\n\\xA74.27 Innenfor omr\\xE5det er det tillatt plassering\\\n    \\ av trafo og infrastruktur i sammenheng med dette. \\n \\n  \\n\\n  4 \\n\\xA75. Samferdselsanlegg\\\n    \\ og teknisk infrastruktur (pbl 12-5 nr. 2) \\nVeg (o_SV1) \\n\\xA75.1 Veien o_SV1\\\n    \\ er adkomst for alle tilgrensende eiendommer. \\nDet skal opparbeides et fysisk\\\n    \\ skille mellom o_SV1 og omkringliggende arealform\\xE5l SPA, GF \\nog SGS. Adkomst\\\n    \\ til SPA og BR skal ikke v\\xE6re rett ovenfor hverandre. \\n \\n \\n \\nVeg (o_SV3)\\\n    \\ \\n\\xA75.2 Veien o_SV3-er adkomst for boligomr\\xE5de BKS og BR samt atkomst til\\\n    \\ o_SPA. Plasseringer av \\navkj\\xF8rsler langs o_SV3 er ikke endelige og tillates\\\n    \\ justert i samr\\xE5d med veieier. \\n \\nFortau (o_SF1-2) \\n\\xA75.3 o_SF1-2 er\\\n    \\ regulert til offentlig fortau med en bredde p\\xE5 3 meter. \\n \\nParkering (o_SPA)\\\n    \\ \\n\\xA75.4 o_SPA er offentlig parkeringsplass. \\n\\xA75.5 Parkeringsbehov for\\\n    \\ bedehuset kan l\\xF8ses innenfor o_SPA. \\n\\xA75.6 Det tillates etablert ladestasjoner\\\n    \\ innenfor omr\\xE5det.  \\n\\xA75.7 Atkomst til SPA og SGS skal ikke anlegges vertikalt\\\n    \\ rett overfor hverandre. \\n \\n \\n\\xA76. Gr\\xF8nnstruktur (pbl 12-5 nr. 3) \\n\\\n    \\ \\nFriomr\\xE5de (o_GF1-3) \\n\\xA76.1 Omr\\xE5de for friomr\\xE5de/gr\\xF8ntstruktur\\\n    \\ GF1-GF3 er til fri ferdsel for allmenheten. \\n\\xA76.2 I omr\\xE5dene er det tillat\\\n    \\ oppf\\xF8rt bebyggelse og andre tekniske installasjoner som typisk \\nberiker\\\n    \\ bruken av omr\\xE5de. \\n\\xA76.3 Innenfor omr\\xE5det GF1 skal det opparbeides\\\n    \\ et felles leke- og uteoppholdsareal for hele \\nplanomr\\xE5det. Lekeplassen skal\\\n    \\ utstyres med sand, benk og min. 3 ulike lekeapparater. \\n\\xA76.4 Det tillates\\\n    \\ avkj\\xF8rsel for BR over o_GF3 \\n\\xA76.5 Bestemmelsesomr\\xE5de #02 SN\\xD8: Innenfor\\\n    \\ omr\\xE5det kan det anlegges opplag for sn\\xF8. \\n\\xA76.6 Det tillates \\xE5 legge\\\n    \\ kabler i bakken innenfor omr\\xE5de avsatt til friomr\\xE5de. \\n\\xA76.7 Adkomst\\\n    \\ til lekearealer skal v\\xE6re universelt utformet. \\n \\nTurdrag (GTD1-2) \\n\\xA7\\\n    6.8 Omr\\xE5dene skal benyttes til turveier. \\n \\n \\n \\nDato 11.05.2022 ", images: [],\n  metadata: {num_pages: 4}}\n\n\nReturn the correct JSON response within a ```json codeblock. not the JSON_SCHEMA'}], model='azure/gpt-4o-mini', temperature=0, max_tokens=4000, timeout=3000)[0m
python_service-1  | DEBUG:LiteLLM:[92mlitellm.completion(messages=[{'role': 'system', 'content': 'You are a server API that receives document information and returns specific fields in JSON format.\n\n\n        As a genius expert, your task is to understand the content and provide\n        the parsed objects in json that match the following json_schema:\n\n\n        {\n  "description": "Contract for field extraction from regulatory documents.\\n\\nDefines the structure and prompt for extracting regulation codes from\\nNorwegian planning documents (plankart and bestemmelser).\\n\\nAttributes:\\n    fields (Set[str]): Set of extracted regulation codes",\n  "properties": {\n    "fields": {\n      "items": {\n        "type": "string"\n      },\n      "title": "Fields",\n      "type": "array",\n      "uniqueItems": true\n    }\n  },\n  "required": [\n    "fields"\n  ],\n  "title": "FieldExtractContract",\n  "type": "object"\n}\n\n        Make sure to return an instance of the JSON, not the schema itself\n'}, {'role': 'user', 'content': '##Content\n\n{content: "  1 \\n  \\n \\n \\nReguleringsbestemmelser  \\nfor \\nSt\\xF8peritomta \\n \\n\\\n    Plan ID: 202102 \\nPlankart dato: 11.05.2022 \\nReguleringsbestemmelser dato: 11.05.2022\\\n    \\ \\nVedtatt PS 59/22: 16.06.2022 \\n  \\n \\n\\xA71. Planform\\xE5l \\nForm\\xE5let med\\\n    \\ planen er \\xE5 tilrettelegge for konsentrert bebyggelse med tilh\\xF8rende anlegg.\\\n    \\ \\nPlanen omfatter ogs\\xE5 kirke/annen religionsut\\xF8velse, parkeringsanlegg\\\n    \\ og idrett/park.  \\n \\nPlanen inneholder f\\xF8lgende form\\xE5l (Pbl. \\xA7 12-5):\\\n    \\ \\n \\n\\xA71.1 Bebyggelse og anlegg (pbl \\xA712-5,nr 1) \\nBoligbebyggelse- Konsentrert\\\n    \\ sm\\xE5husbebyggelse (BKS) \\nForsamlingslokale for religionsut\\xF8velse (BR)\\\n    \\ \\nIdrettsanlegg (BIA) \\nEnergianlegg (BE) \\n \\n\\xA71.2 Samferdselsanlegg og\\\n    \\ teknisk infrastruktur (pbl \\xA712-5, nr 2) \\nVeg (o_SV1 og 3) \\nFortau (o_SF)\\\n    \\ \\nParkering(o_SPA) \\n \\n\\xA71.3 Gr\\xF8nnstruktur (pbl \\xA712-5,2. ledd nr 3)\\\n    \\ \\nFriomr\\xE5de (o_GF1-3) \\nTurdrag (o_GTD1-2) \\n \\n \\n  \\n\\n\\n  2 \\n\\xA72. Rekkef\\xF8\\\n    lgebestemmelser (pbl \\xA7 12-7 nr. 10) \\n \\n\\xA72.1 F\\xF8r midlertidig brukstillatelse\\\n    \\ for BKS skal o_SV3 v\\xE6re ferdig opparbeidet.  \\n\\xA72.2 F\\xF8r midlertidig\\\n    \\ brukstillatelse for 1. boenhet p\\xE5 BKS skal lekeplass innenfor GF1 v\\xE6re\\\n    \\ ferdig \\nopparbeidet. \\n\\xA72.3 F\\xF8r midlertidig brukstillatelse p\\xE5 5.\\\n    \\ boenhet p\\xE5 BKS skal o_GTD1-2 v\\xE6re ferdig opparbeidet.  \\n\\xA72.4 F\\xF8\\\n    r midlertidig brukstillatelse for BKS skal o_SF v\\xE6re ferdig opparbeidet. \\n\\\n    \\xA72.5 F\\xF8r ferdigattest p\\xE5 BR, skal o_SF og o_SPA v\\xE6re ferdig opparbeidet.\\\n    \\ \\n \\n \\n \\n \\n \\n\\xA73. Fellesbestemmelser \\n\\xA73.1 Bygge- og anleggsst\\xF8\\\n    y skal ikke overskride st\\xF8ygrensen i tabell 4 i retningslinje for behandling\\\n    \\ \\nav st\\xF8y i arealplanlegging (T-1442/2021). St\\xF8yende aktivitet skal forega\\u030A\\\n    \\ p\\xE5 dagtid. \\n\\xA74. Bebyggelse og anlegg (pbl 12-5 nr. 1) \\nBoligbebyggelse-konsentrert\\\n    \\ sm\\xE5husbebyggelse - BKS \\n \\n\\xA74.1 Bebyggelse: Det tillates fire tomannsboliger\\\n    \\ p\\xE5 tomten. Totalt 8 boenheter.   \\n\\xA74.2 Byggegrenser: Plassering av nye\\\n    \\ tiltak skal skje innenfor byggegrensene. For \\ngarasje/carport/bod mindre enn\\\n    \\ 50 m2 BYA gjelder byggegrense p\\xE5 1 meter fra tomtegrense. \\nTerrenginngrep\\\n    \\ og grunnarbeider i forbindelse med opparbeidelse av tomtene tillattes \\nutenfor\\\n    \\ byggegrense. Avkj\\xF8rsel og parkering tillates utenfor byggegrense. \\n\\xA7\\\n    4.3 Garasje/Carport: Alle boenheter skal ha minst en parkering under tak til disposisjon.\\\n    \\  \\n\\xA74.4 Bestemmelsesomr\\xE5de #01 SN\\xD8: Innenfor omr\\xE5det kan det anlegges\\\n    \\ opplag for sn\\xF8. \\n \\nGrad av utnytting \\n\\xA74.5 Utnyttelsesgrad: BYA for\\\n    \\ omr\\xE5det BKS skal v\\xE6re maksimalt %-BYA= 40%. Overbygg til \\nrenovasjon\\\n    \\ eller dunker medregnes ikke i %-BYA. \\n\\xA74.6 Parkering: Det skal avsettes\\\n    \\ 2 parkeringsplasser for hver boenhet, hvor en av disse skal v\\xE6re i \\ngarasje/carport.\\\n    \\ BYA for parkering er 3x6=18m2 per plass. \\n \\nH\\xF8yder \\u2013 Utforming av\\\n    \\ bebyggelse \\n\\xA74.7 Planeringsh\\xF8yder: Maksimal planeringsh\\xF8yde er angitt\\\n    \\ i plankart. Maks planeringsh\\xF8yde er \\nK+182. \\n\\xA74.8 Takform: Bebyggelse\\\n    \\ skal ha saltak med en takvinkel mellom 30 - 40 grader.  \\n\\xA74.9 Takh\\xF8yder:\\\n    \\ Tillate takh\\xF8yder er angitt i tabellen under. H\\xF8yder regnes fra planert\\\n    \\ terreng. \\n \\n Saltak \\nM\\xF8ne 6,0 m \\nGesimsh\\xF8yde 3,5 m \\nTakvinkel 30-40\\\n    \\ grader \\n \\nSt\\xF8yf\\xF8lsom bebyggelse \\nF\\xF8r det tillates tiltak innenfor\\\n    \\ omr\\xE5det skal det gj\\xF8res st\\xF8yskjermede tiltak.   \\n\\xA74.10 Alle boenheter\\\n    \\ skal ha uteplass p\\xE5 b\\xE5de \\xF8stsiden og vestsiden av bebyggelsen.  \\n\\n\\\n    \\  3 \\n\\xA74.11 Alle boenheter skal v\\xE6re gjennomg\\xE5ende og ha minst ett soverom\\\n    \\ plassert p\\xE5 vestsiden og \\n\\xF8stsiden. Eventuelt \\xF8kt lydisolasjon i fasade\\\n    \\ i minst ett soverom i hver boenhet. \\n \\nTeknisk plan \\n\\xA74.12 Det stilles\\\n    \\ teknisk plan for VA, overvannsh\\xE5ndtering og str\\xF8mforsyning f\\xF8r \\nigangsettingstillatelse\\\n    \\ kan gis innenfor omr\\xE5det BKS. Det b\\xF8r legge til rette for \\xE5pne \\nvannveier\\\n    \\ for overvannsh\\xE5ndtering. Dersom andre l\\xF8sninger velges skal det begrunnes\\\n    \\ \\nhvorfor naturbaserte l\\xF8sninger velges bort. \\n\\xA74.13 V/A- anlegg samt\\\n    \\ vei skal dimensjoneres og opparbeides i samsvar med til enhver tids \\ngjeldende\\\n    \\ \\xABRetningslinjer for vei, vann og avl\\xF8p\\xBB for Evje og Hornnes kommune.\\\n    \\ Det skal \\nsikres teknisk godkjenning av offentlig samferdselsanlegg. \\n\\xA7\\\n    4.14 Det skal f\\xF8r utbygging avklares hvordan det nye utbyggingsomr\\xE5det i\\\n    \\ planomr\\xE5det skal \\nforsynes med elektrisk str\\xF8m. Det m\\xE5 avklares i\\\n    \\ hvilken grad eksisterende ledninger/kabler \\neventuelt kan benyttes og om nye\\\n    \\ ledninger/kabler m\\xE5 legges om og om det er behov for \\nny(e) nettstasjon(er).\\\n    \\ \\n \\nUtforming av tomt \\n\\xA74.15 Situasjonsplan: Ved s\\xF8knad om tillatelse\\\n    \\ til tiltak skal situasjonsplan vedlegges i tilpasset \\nm\\xE5lestokk som viser\\\n    \\ plassering av bebyggelse og h\\xF8yde. Situasjonsplan skal ogs\\xE5 vise \\nplassering\\\n    \\ av parkering, avkj\\xF8rsel og evt. st\\xF8ttemurer.  \\n\\xA74.16 Renovasjon: Areal\\\n    \\ for renovasjon skal vises p\\xE5 situasjonsplan. Situasjonsplanen skal vise at\\\n    \\ \\nrenovasjonsbil har tilstrekkelig snuareal innenfor planomr\\xE5det.  \\n\\xA7\\\n    4.17 Forst\\xF8tningsmur: Det tillattes forst\\xF8tningsmurer for \\xE5 tilpasse\\\n    \\ terrenget. Forst\\xF8tningsmurer \\ntillates oppf\\xF8rt utenfor byggegrense. Maks\\\n    \\ tillatt h\\xF8yde p\\xE5 forst\\xF8tningsmurer er 2,5 meter.  \\n\\xA74.18 Det stilles\\\n    \\ estetisk krav til utforming av fylling / naturstein plastret skr\\xE5ning mot\\\n    \\ bekk. \\nSkr\\xE5ning skal jord klees, tils\\xE5es og sikres mot erosjon. \\n \\n\\\n    Forsamlingslokale for religionsut\\xF8velse - BR \\n \\n\\xA74.19 Omr\\xE5det skal\\\n    \\ benyttes til nytt sentrumsn\\xE6rt bedehus i n\\xF8dvendig grad og utstrekning\\\n    \\ \\n\\xA74.20 Bygninger kan oppf\\xF8res med gesimsh\\xF8yde 8,0 meter og m\\xF8neh\\xF8\\\n    yde 10,5 meter. \\n\\xA74.21 BYA for arealform\\xE5let skal v\\xE6re maksimalt %-BYA=\\\n    \\ 50. Areal for parkering medregnes ikke i \\n%BYA \\n\\xA74.22 Det skal avsettes\\\n    \\ tilstrekkelig med parkeringsareal til gjeldende aktivitet innenfor regulert\\\n    \\ \\nomr\\xE5de. Parkeringsbehovet for bedehuset kan l\\xF8ses b\\xE5de innenfor BR\\\n    \\ og SPA. \\n\\xA74.23 Arealutnyttelse utover dette skal opparbeides parkmessig\\\n    \\ og v\\xE6re tilgjengelig for \\nallmennheten. \\n\\xA74.24 Oppgitt gesimsh\\xF8yde\\\n    \\ og m\\xF8neh\\xF8yde skal regnes ut fra gjennomsnittlig h\\xF8yde p\\xE5 tomta/\\\n    \\ \\nomr\\xE5det f\\xF8r opparbeidelse begynner. \\n\\xA74.25 Innenfor omr\\xE5det BR\\\n    \\ tillates det internveier og parkeringsplasser. \\n \\nIdrettsanlegg - BIA \\n\\xA7\\\n    4.26 Innenfor omr\\xE5det er det tillatt med tiltak som fremmer idrettsaktiviteter.\\\n    \\  \\n \\nEnergianlegg - BE \\n\\xA74.27 Innenfor omr\\xE5det er det tillatt plassering\\\n    \\ av trafo og infrastruktur i sammenheng med dette. \\n \\n  \\n\\n  4 \\n\\xA75. Samferdselsanlegg\\\n    \\ og teknisk infrastruktur (pbl 12-5 nr. 2) \\nVeg (o_SV1) \\n\\xA75.1 Veien o_SV1\\\n    \\ er adkomst for alle tilgrensende eiendommer. \\nDet skal opparbeides et fysisk\\\n    \\ skille mellom o_SV1 og omkringliggende arealform\\xE5l SPA, GF \\nog SGS. Adkomst\\\n    \\ til SPA og BR skal ikke v\\xE6re rett ovenfor hverandre. \\n \\n \\n \\nVeg (o_SV3)\\\n    \\ \\n\\xA75.2 Veien o_SV3-er adkomst for boligomr\\xE5de BKS og BR samt atkomst til\\\n    \\ o_SPA. Plasseringer av \\navkj\\xF8rsler langs o_SV3 er ikke endelige og tillates\\\n    \\ justert i samr\\xE5d med veieier. \\n \\nFortau (o_SF1-2) \\n\\xA75.3 o_SF1-2 er\\\n    \\ regulert til offentlig fortau med en bredde p\\xE5 3 meter. \\n \\nParkering (o_SPA)\\\n    \\ \\n\\xA75.4 o_SPA er offentlig parkeringsplass. \\n\\xA75.5 Parkeringsbehov for\\\n    \\ bedehuset kan l\\xF8ses innenfor o_SPA. \\n\\xA75.6 Det tillates etablert ladestasjoner\\\n    \\ innenfor omr\\xE5det.  \\n\\xA75.7 Atkomst til SPA og SGS skal ikke anlegges vertikalt\\\n    \\ rett overfor hverandre. \\n \\n \\n\\xA76. Gr\\xF8nnstruktur (pbl 12-5 nr. 3) \\n\\\n    \\ \\nFriomr\\xE5de (o_GF1-3) \\n\\xA76.1 Omr\\xE5de for friomr\\xE5de/gr\\xF8ntstruktur\\\n    \\ GF1-GF3 er til fri ferdsel for allmenheten. \\n\\xA76.2 I omr\\xE5dene er det tillat\\\n    \\ oppf\\xF8rt bebyggelse og andre tekniske installasjoner som typisk \\nberiker\\\n    \\ bruken av omr\\xE5de. \\n\\xA76.3 Innenfor omr\\xE5det GF1 skal det opparbeides\\\n    \\ et felles leke- og uteoppholdsareal for hele \\nplanomr\\xE5det. Lekeplassen skal\\\n    \\ utstyres med sand, benk og min. 3 ulike lekeapparater. \\n\\xA76.4 Det tillates\\\n    \\ avkj\\xF8rsel for BR over o_GF3 \\n\\xA76.5 Bestemmelsesomr\\xE5de #02 SN\\xD8: Innenfor\\\n    \\ omr\\xE5det kan det anlegges opplag for sn\\xF8. \\n\\xA76.6 Det tillates \\xE5 legge\\\n    \\ kabler i bakken innenfor omr\\xE5de avsatt til friomr\\xE5de. \\n\\xA76.7 Adkomst\\\n    \\ til lekearealer skal v\\xE6re universelt utformet. \\n \\nTurdrag (GTD1-2) \\n\\xA7\\\n    6.8 Omr\\xE5dene skal benyttes til turveier. \\n \\n \\n \\nDato 11.05.2022 ", images: [],\n  metadata: {num_pages: 4}}\n\n\nReturn the correct JSON response within a ```json codeblock. not the JSON_SCHEMA'}], model='azure/gpt-4o-mini', temperature=0, max_tokens=4000, timeout=3000)[0m
python_service-1  | [92m11:27:05 - LiteLLM:DEBUG[0m: utils.py:298 - 
python_service-1  | 
python_service-1  | DEBUG:LiteLLM:
python_service-1  | 
python_service-1  | [92m11:27:05 - LiteLLM:DEBUG[0m: litellm_logging.py:377 - self.optional_params: {}
python_service-1  | DEBUG:LiteLLM:self.optional_params: {}
python_service-1  | [92m11:27:05 - LiteLLM:DEBUG[0m: utils.py:298 - SYNC kwargs[caching]: False; litellm.cache: None; kwargs.get('cache')['no-cache']: False
python_service-1  | DEBUG:LiteLLM:SYNC kwargs[caching]: False; litellm.cache: None; kwargs.get('cache')['no-cache']: False
python_service-1  | [92m11:27:05 - LiteLLM:DEBUG[0m: transformation.py:126 - Translating developer role to system role for non-OpenAI providers.
python_service-1  | DEBUG:LiteLLM:Translating developer role to system role for non-OpenAI providers.
python_service-1  | [92m11:27:05 - LiteLLM:INFO[0m: utils.py:2905 - 
python_service-1  | LiteLLM completion() model= gpt-4o-mini; provider = azure
python_service-1  | INFO:LiteLLM:
python_service-1  | LiteLLM completion() model= gpt-4o-mini; provider = azure
python_service-1  | [92m11:27:05 - LiteLLM:DEBUG[0m: utils.py:2908 - 
python_service-1  | LiteLLM: Params passed to completion() {'model': 'gpt-4o-mini', 'functions': None, 'function_call': None, 'temperature': 0, 'top_p': None, 'n': None, 'stream': None, 'stream_options': None, 'stop': None, 'max_tokens': 4000, 'max_completion_tokens': None, 'modalities': None, 'prediction': None, 'audio': None, 'presence_penalty': None, 'frequency_penalty': None, 'logit_bias': None, 'user': None, 'custom_llm_provider': 'azure', 'response_format': None, 'seed': None, 'tools': None, 'tool_choice': None, 'max_retries': None, 'logprobs': None, 'top_logprobs': None, 'extra_headers': None, 'api_version': None, 'parallel_tool_calls': None, 'drop_params': None, 'reasoning_effort': None, 'additional_drop_params': None, 'messages': [{'role': 'system', 'content': 'You are a server API that receives document information and returns specific fields in JSON format.\n\n\n        As a genius expert, your task is to understand the content and provide\n        the parsed objects in json that match the following json_schema:\n\n\n        {\n  "description": "Contract for field extraction from regulatory documents.\\n\\nDefines the structure and prompt for extracting regulation codes from\\nNorwegian planning documents (plankart and bestemmelser).\\n\\nAttributes:\\n    fields (Set[str]): Set of extracted regulation codes",\n  "properties": {\n    "fields": {\n      "items": {\n        "type": "string"\n      },\n      "title": "Fields",\n      "type": "array",\n      "uniqueItems": true\n    }\n  },\n  "required": [\n    "fields"\n  ],\n  "title": "FieldExtractContract",\n  "type": "object"\n}\n\n        Make sure to return an instance of the JSON, not the schema itself\n'}, {'role': 'user', 'content': '##Content\n\n{content: "  1 \\n  \\n \\n \\nReguleringsbestemmelser  \\nfor \\nSt\\xF8peritomta \\n \\n\\\n    Plan ID: 202102 \\nPlankart dato: 11.05.2022 \\nReguleringsbestemmelser dato: 11.05.2022\\\n    \\ \\nVedtatt PS 59/22: 16.06.2022 \\n  \\n \\n\\xA71. Planform\\xE5l \\nForm\\xE5let med\\\n    \\ planen er \\xE5 tilrettelegge for konsentrert bebyggelse med tilh\\xF8rende anlegg.\\\n    \\ \\nPlanen omfatter ogs\\xE5 kirke/annen religionsut\\xF8velse, parkeringsanlegg\\\n    \\ og idrett/park.  \\n \\nPlanen inneholder f\\xF8lgende form\\xE5l (Pbl. \\xA7 12-5):\\\n    \\ \\n \\n\\xA71.1 Bebyggelse og anlegg (pbl \\xA712-5,nr 1) \\nBoligbebyggelse- Konsentrert\\\n    \\ sm\\xE5husbebyggelse (BKS) \\nForsamlingslokale for religionsut\\xF8velse (BR)\\\n    \\ \\nIdrettsanlegg (BIA) \\nEnergianlegg (BE) \\n \\n\\xA71.2 Samferdselsanlegg og\\\n    \\ teknisk infrastruktur (pbl \\xA712-5, nr 2) \\nVeg (o_SV1 og 3) \\nFortau (o_SF)\\\n    \\ \\nParkering(o_SPA) \\n \\n\\xA71.3 Gr\\xF8nnstruktur (pbl \\xA712-5,2. ledd nr 3)\\\n    \\ \\nFriomr\\xE5de (o_GF1-3) \\nTurdrag (o_GTD1-2) \\n \\n \\n  \\n\\n\\n  2 \\n\\xA72. Rekkef\\xF8\\\n    lgebestemmelser (pbl \\xA7 12-7 nr. 10) \\n \\n\\xA72.1 F\\xF8r midlertidig brukstillatelse\\\n    \\ for BKS skal o_SV3 v\\xE6re ferdig opparbeidet.  \\n\\xA72.2 F\\xF8r midlertidig\\\n    \\ brukstillatelse for 1. boenhet p\\xE5 BKS skal lekeplass innenfor GF1 v\\xE6re\\\n    \\ ferdig \\nopparbeidet. \\n\\xA72.3 F\\xF8r midlertidig brukstillatelse p\\xE5 5.\\\n    \\ boenhet p\\xE5 BKS skal o_GTD1-2 v\\xE6re ferdig opparbeidet.  \\n\\xA72.4 F\\xF8\\\n    r midlertidig brukstillatelse for BKS skal o_SF v\\xE6re ferdig opparbeidet. \\n\\\n    \\xA72.5 F\\xF8r ferdigattest p\\xE5 BR, skal o_SF og o_SPA v\\xE6re ferdig opparbeidet.\\\n    \\ \\n \\n \\n \\n \\n \\n\\xA73. Fellesbestemmelser \\n\\xA73.1 Bygge- og anleggsst\\xF8\\\n    y skal ikke overskride st\\xF8ygrensen i tabell 4 i retningslinje for behandling\\\n    \\ \\nav st\\xF8y i arealplanlegging (T-1442/2021). St\\xF8yende aktivitet skal forega\\u030A\\\n    \\ p\\xE5 dagtid. \\n\\xA74. Bebyggelse og anlegg (pbl 12-5 nr. 1) \\nBoligbebyggelse-konsentrert\\\n    \\ sm\\xE5husbebyggelse - BKS \\n \\n\\xA74.1 Bebyggelse: Det tillates fire tomannsboliger\\\n    \\ p\\xE5 tomten. Totalt 8 boenheter.   \\n\\xA74.2 Byggegrenser: Plassering av nye\\\n    \\ tiltak skal skje innenfor byggegrensene. For \\ngarasje/carport/bod mindre enn\\\n    \\ 50 m2 BYA gjelder byggegrense p\\xE5 1 meter fra tomtegrense. \\nTerrenginngrep\\\n    \\ og grunnarbeider i forbindelse med opparbeidelse av tomtene tillattes \\nutenfor\\\n    \\ byggegrense. Avkj\\xF8rsel og parkering tillates utenfor byggegrense. \\n\\xA7\\\n    4.3 Garasje/Carport: Alle boenheter skal ha minst en parkering under tak til disposisjon.\\\n    \\  \\n\\xA74.4 Bestemmelsesomr\\xE5de #01 SN\\xD8: Innenfor omr\\xE5det kan det anlegges\\\n    \\ opplag for sn\\xF8. \\n \\nGrad av utnytting \\n\\xA74.5 Utnyttelsesgrad: BYA for\\\n    \\ omr\\xE5det BKS skal v\\xE6re maksimalt %-BYA= 40%. Overbygg til \\nrenovasjon\\\n    \\ eller dunker medregnes ikke i %-BYA. \\n\\xA74.6 Parkering: Det skal avsettes\\\n    \\ 2 parkeringsplasser for hver boenhet, hvor en av disse skal v\\xE6re i \\ngarasje/carport.\\\n    \\ BYA for parkering er 3x6=18m2 per plass. \\n \\nH\\xF8yder \\u2013 Utforming av\\\n    \\ bebyggelse \\n\\xA74.7 Planeringsh\\xF8yder: Maksimal planeringsh\\xF8yde er angitt\\\n    \\ i plankart. Maks planeringsh\\xF8yde er \\nK+182. \\n\\xA74.8 Takform: Bebyggelse\\\n    \\ skal ha saltak med en takvinkel mellom 30 - 40 grader.  \\n\\xA74.9 Takh\\xF8yder:\\\n    \\ Tillate takh\\xF8yder er angitt i tabellen under. H\\xF8yder regnes fra planert\\\n    \\ terreng. \\n \\n Saltak \\nM\\xF8ne 6,0 m \\nGesimsh\\xF8yde 3,5 m \\nTakvinkel 30-40\\\n    \\ grader \\n \\nSt\\xF8yf\\xF8lsom bebyggelse \\nF\\xF8r det tillates tiltak innenfor\\\n    \\ omr\\xE5det skal det gj\\xF8res st\\xF8yskjermede tiltak.   \\n\\xA74.10 Alle boenheter\\\n    \\ skal ha uteplass p\\xE5 b\\xE5de \\xF8stsiden og vestsiden av bebyggelsen.  \\n\\n\\\n    \\  3 \\n\\xA74.11 Alle boenheter skal v\\xE6re gjennomg\\xE5ende og ha minst ett soverom\\\n    \\ plassert p\\xE5 vestsiden og \\n\\xF8stsiden. Eventuelt \\xF8kt lydisolasjon i fasade\\\n    \\ i minst ett soverom i hver boenhet. \\n \\nTeknisk plan \\n\\xA74.12 Det stilles\\\n    \\ teknisk plan for VA, overvannsh\\xE5ndtering og str\\xF8mforsyning f\\xF8r \\nigangsettingstillatelse\\\n    \\ kan gis innenfor omr\\xE5det BKS. Det b\\xF8r legge til rette for \\xE5pne \\nvannveier\\\n    \\ for overvannsh\\xE5ndtering. Dersom andre l\\xF8sninger velges skal det begrunnes\\\n    \\ \\nhvorfor naturbaserte l\\xF8sninger velges bort. \\n\\xA74.13 V/A- anlegg samt\\\n    \\ vei skal dimensjoneres og opparbeides i samsvar med til enhver tids \\ngjeldende\\\n    \\ \\xABRetningslinjer for vei, vann og avl\\xF8p\\xBB for Evje og Hornnes kommune.\\\n    \\ Det skal \\nsikres teknisk godkjenning av offentlig samferdselsanlegg. \\n\\xA7\\\n    4.14 Det skal f\\xF8r utbygging avklares hvordan det nye utbyggingsomr\\xE5det i\\\n    \\ planomr\\xE5det skal \\nforsynes med elektrisk str\\xF8m. Det m\\xE5 avklares i\\\n    \\ hvilken grad eksisterende ledninger/kabler \\neventuelt kan benyttes og om nye\\\n    \\ ledninger/kabler m\\xE5 legges om og om det er behov for \\nny(e) nettstasjon(er).\\\n    \\ \\n \\nUtforming av tomt \\n\\xA74.15 Situasjonsplan: Ved s\\xF8knad om tillatelse\\\n    \\ til tiltak skal situasjonsplan vedlegges i tilpasset \\nm\\xE5lestokk som viser\\\n    \\ plassering av bebyggelse og h\\xF8yde. Situasjonsplan skal ogs\\xE5 vise \\nplassering\\\n    \\ av parkering, avkj\\xF8rsel og evt. st\\xF8ttemurer.  \\n\\xA74.16 Renovasjon: Areal\\\n    \\ for renovasjon skal vises p\\xE5 situasjonsplan. Situasjonsplanen skal vise at\\\n    \\ \\nrenovasjonsbil har tilstrekkelig snuareal innenfor planomr\\xE5det.  \\n\\xA7\\\n    4.17 Forst\\xF8tningsmur: Det tillattes forst\\xF8tningsmurer for \\xE5 tilpasse\\\n    \\ terrenget. Forst\\xF8tningsmurer \\ntillates oppf\\xF8rt utenfor byggegrense. Maks\\\n    \\ tillatt h\\xF8yde p\\xE5 forst\\xF8tningsmurer er 2,5 meter.  \\n\\xA74.18 Det stilles\\\n    \\ estetisk krav til utforming av fylling / naturstein plastret skr\\xE5ning mot\\\n    \\ bekk. \\nSkr\\xE5ning skal jord klees, tils\\xE5es og sikres mot erosjon. \\n \\n\\\n    Forsamlingslokale for religionsut\\xF8velse - BR \\n \\n\\xA74.19 Omr\\xE5det skal\\\n    \\ benyttes til nytt sentrumsn\\xE6rt bedehus i n\\xF8dvendig grad og utstrekning\\\n    \\ \\n\\xA74.20 Bygninger kan oppf\\xF8res med gesimsh\\xF8yde 8,0 meter og m\\xF8neh\\xF8\\\n    yde 10,5 meter. \\n\\xA74.21 BYA for arealform\\xE5let skal v\\xE6re maksimalt %-BYA=\\\n    \\ 50. Areal for parkering medregnes ikke i \\n%BYA \\n\\xA74.22 Det skal avsettes\\\n    \\ tilstrekkelig med parkeringsareal til gjeldende aktivitet innenfor regulert\\\n    \\ \\nomr\\xE5de. Parkeringsbehovet for bedehuset kan l\\xF8ses b\\xE5de innenfor BR\\\n    \\ og SPA. \\n\\xA74.23 Arealutnyttelse utover dette skal opparbeides parkmessig\\\n    \\ og v\\xE6re tilgjengelig for \\nallmennheten. \\n\\xA74.24 Oppgitt gesimsh\\xF8yde\\\n    \\ og m\\xF8neh\\xF8yde skal regnes ut fra gjennomsnittlig h\\xF8yde p\\xE5 tomta/\\\n    \\ \\nomr\\xE5det f\\xF8r opparbeidelse begynner. \\n\\xA74.25 Innenfor omr\\xE5det BR\\\n    \\ tillates det internveier og parkeringsplasser. \\n \\nIdrettsanlegg - BIA \\n\\xA7\\\n    4.26 Innenfor omr\\xE5det er det tillatt med tiltak som fremmer idrettsaktiviteter.\\\n    \\  \\n \\nEnergianlegg - BE \\n\\xA74.27 Innenfor omr\\xE5det er det tillatt plassering\\\n    \\ av trafo og infrastruktur i sammenheng med dette. \\n \\n  \\n\\n  4 \\n\\xA75. Samferdselsanlegg\\\n    \\ og teknisk infrastruktur (pbl 12-5 nr. 2) \\nVeg (o_SV1) \\n\\xA75.1 Veien o_SV1\\\n    \\ er adkomst for alle tilgrensende eiendommer. \\nDet skal opparbeides et fysisk\\\n    \\ skille mellom o_SV1 og omkringliggende arealform\\xE5l SPA, GF \\nog SGS. Adkomst\\\n    \\ til SPA og BR skal ikke v\\xE6re rett ovenfor hverandre. \\n \\n \\n \\nVeg (o_SV3)\\\n    \\ \\n\\xA75.2 Veien o_SV3-er adkomst for boligomr\\xE5de BKS og BR samt atkomst til\\\n    \\ o_SPA. Plasseringer av \\navkj\\xF8rsler langs o_SV3 er ikke endelige og tillates\\\n    \\ justert i samr\\xE5d med veieier. \\n \\nFortau (o_SF1-2) \\n\\xA75.3 o_SF1-2 er\\\n    \\ regulert til offentlig fortau med en bredde p\\xE5 3 meter. \\n \\nParkering (o_SPA)\\\n    \\ \\n\\xA75.4 o_SPA er offentlig parkeringsplass. \\n\\xA75.5 Parkeringsbehov for\\\n    \\ bedehuset kan l\\xF8ses innenfor o_SPA. \\n\\xA75.6 Det tillates etablert ladestasjoner\\\n    \\ innenfor omr\\xE5det.  \\n\\xA75.7 Atkomst til SPA og SGS skal ikke anlegges vertikalt\\\n    \\ rett overfor hverandre. \\n \\n \\n\\xA76. Gr\\xF8nnstruktur (pbl 12-5 nr. 3) \\n\\\n    \\ \\nFriomr\\xE5de (o_GF1-3) \\n\\xA76.1 Omr\\xE5de for friomr\\xE5de/gr\\xF8ntstruktur\\\n    \\ GF1-GF3 er til fri ferdsel for allmenheten. \\n\\xA76.2 I omr\\xE5dene er det tillat\\\n    \\ oppf\\xF8rt bebyggelse og andre tekniske installasjoner som typisk \\nberiker\\\n    \\ bruken av omr\\xE5de. \\n\\xA76.3 Innenfor omr\\xE5det GF1 skal det opparbeides\\\n    \\ et felles leke- og uteoppholdsareal for hele \\nplanomr\\xE5det. Lekeplassen skal\\\n    \\ utstyres med sand, benk og min. 3 ulike lekeapparater. \\n\\xA76.4 Det tillates\\\n    \\ avkj\\xF8rsel for BR over o_GF3 \\n\\xA76.5 Bestemmelsesomr\\xE5de #02 SN\\xD8: Innenfor\\\n    \\ omr\\xE5det kan det anlegges opplag for sn\\xF8. \\n\\xA76.6 Det tillates \\xE5 legge\\\n    \\ kabler i bakken innenfor omr\\xE5de avsatt til friomr\\xE5de. \\n\\xA76.7 Adkomst\\\n    \\ til lekearealer skal v\\xE6re universelt utformet. \\n \\nTurdrag (GTD1-2) \\n\\xA7\\\n    6.8 Omr\\xE5dene skal benyttes til turveier. \\n \\n \\n \\nDato 11.05.2022 ", images: [],\n  metadata: {num_pages: 4}}\n\n\nReturn the correct JSON response within a ```json codeblock. not the JSON_SCHEMA'}]}
python_service-1  | DEBUG:LiteLLM:
python_service-1  | LiteLLM: Params passed to completion() {'model': 'gpt-4o-mini', 'functions': None, 'function_call': None, 'temperature': 0, 'top_p': None, 'n': None, 'stream': None, 'stream_options': None, 'stop': None, 'max_tokens': 4000, 'max_completion_tokens': None, 'modalities': None, 'prediction': None, 'audio': None, 'presence_penalty': None, 'frequency_penalty': None, 'logit_bias': None, 'user': None, 'custom_llm_provider': 'azure', 'response_format': None, 'seed': None, 'tools': None, 'tool_choice': None, 'max_retries': None, 'logprobs': None, 'top_logprobs': None, 'extra_headers': None, 'api_version': None, 'parallel_tool_calls': None, 'drop_params': None, 'reasoning_effort': None, 'additional_drop_params': None, 'messages': [{'role': 'system', 'content': 'You are a server API that receives document information and returns specific fields in JSON format.\n\n\n        As a genius expert, your task is to understand the content and provide\n        the parsed objects in json that match the following json_schema:\n\n\n        {\n  "description": "Contract for field extraction from regulatory documents.\\n\\nDefines the structure and prompt for extracting regulation codes from\\nNorwegian planning documents (plankart and bestemmelser).\\n\\nAttributes:\\n    fields (Set[str]): Set of extracted regulation codes",\n  "properties": {\n    "fields": {\n      "items": {\n        "type": "string"\n      },\n      "title": "Fields",\n      "type": "array",\n      "uniqueItems": true\n    }\n  },\n  "required": [\n    "fields"\n  ],\n  "title": "FieldExtractContract",\n  "type": "object"\n}\n\n        Make sure to return an instance of the JSON, not the schema itself\n'}, {'role': 'user', 'content': '##Content\n\n{content: "  1 \\n  \\n \\n \\nReguleringsbestemmelser  \\nfor \\nSt\\xF8peritomta \\n \\n\\\n    Plan ID: 202102 \\nPlankart dato: 11.05.2022 \\nReguleringsbestemmelser dato: 11.05.2022\\\n    \\ \\nVedtatt PS 59/22: 16.06.2022 \\n  \\n \\n\\xA71. Planform\\xE5l \\nForm\\xE5let med\\\n    \\ planen er \\xE5 tilrettelegge for konsentrert bebyggelse med tilh\\xF8rende anlegg.\\\n    \\ \\nPlanen omfatter ogs\\xE5 kirke/annen religionsut\\xF8velse, parkeringsanlegg\\\n    \\ og idrett/park.  \\n \\nPlanen inneholder f\\xF8lgende form\\xE5l (Pbl. \\xA7 12-5):\\\n    \\ \\n \\n\\xA71.1 Bebyggelse og anlegg (pbl \\xA712-5,nr 1) \\nBoligbebyggelse- Konsentrert\\\n    \\ sm\\xE5husbebyggelse (BKS) \\nForsamlingslokale for religionsut\\xF8velse (BR)\\\n    \\ \\nIdrettsanlegg (BIA) \\nEnergianlegg (BE) \\n \\n\\xA71.2 Samferdselsanlegg og\\\n    \\ teknisk infrastruktur (pbl \\xA712-5, nr 2) \\nVeg (o_SV1 og 3) \\nFortau (o_SF)\\\n    \\ \\nParkering(o_SPA) \\n \\n\\xA71.3 Gr\\xF8nnstruktur (pbl \\xA712-5,2. ledd nr 3)\\\n    \\ \\nFriomr\\xE5de (o_GF1-3) \\nTurdrag (o_GTD1-2) \\n \\n \\n  \\n\\n\\n  2 \\n\\xA72. Rekkef\\xF8\\\n    lgebestemmelser (pbl \\xA7 12-7 nr. 10) \\n \\n\\xA72.1 F\\xF8r midlertidig brukstillatelse\\\n    \\ for BKS skal o_SV3 v\\xE6re ferdig opparbeidet.  \\n\\xA72.2 F\\xF8r midlertidig\\\n    \\ brukstillatelse for 1. boenhet p\\xE5 BKS skal lekeplass innenfor GF1 v\\xE6re\\\n    \\ ferdig \\nopparbeidet. \\n\\xA72.3 F\\xF8r midlertidig brukstillatelse p\\xE5 5.\\\n    \\ boenhet p\\xE5 BKS skal o_GTD1-2 v\\xE6re ferdig opparbeidet.  \\n\\xA72.4 F\\xF8\\\n    r midlertidig brukstillatelse for BKS skal o_SF v\\xE6re ferdig opparbeidet. \\n\\\n    \\xA72.5 F\\xF8r ferdigattest p\\xE5 BR, skal o_SF og o_SPA v\\xE6re ferdig opparbeidet.\\\n    \\ \\n \\n \\n \\n \\n \\n\\xA73. Fellesbestemmelser \\n\\xA73.1 Bygge- og anleggsst\\xF8\\\n    y skal ikke overskride st\\xF8ygrensen i tabell 4 i retningslinje for behandling\\\n    \\ \\nav st\\xF8y i arealplanlegging (T-1442/2021). St\\xF8yende aktivitet skal forega\\u030A\\\n    \\ p\\xE5 dagtid. \\n\\xA74. Bebyggelse og anlegg (pbl 12-5 nr. 1) \\nBoligbebyggelse-konsentrert\\\n    \\ sm\\xE5husbebyggelse - BKS \\n \\n\\xA74.1 Bebyggelse: Det tillates fire tomannsboliger\\\n    \\ p\\xE5 tomten. Totalt 8 boenheter.   \\n\\xA74.2 Byggegrenser: Plassering av nye\\\n    \\ tiltak skal skje innenfor byggegrensene. For \\ngarasje/carport/bod mindre enn\\\n    \\ 50 m2 BYA gjelder byggegrense p\\xE5 1 meter fra tomtegrense. \\nTerrenginngrep\\\n    \\ og grunnarbeider i forbindelse med opparbeidelse av tomtene tillattes \\nutenfor\\\n    \\ byggegrense. Avkj\\xF8rsel og parkering tillates utenfor byggegrense. \\n\\xA7\\\n    4.3 Garasje/Carport: Alle boenheter skal ha minst en parkering under tak til disposisjon.\\\n    \\  \\n\\xA74.4 Bestemmelsesomr\\xE5de #01 SN\\xD8: Innenfor omr\\xE5det kan det anlegges\\\n    \\ opplag for sn\\xF8. \\n \\nGrad av utnytting \\n\\xA74.5 Utnyttelsesgrad: BYA for\\\n    \\ omr\\xE5det BKS skal v\\xE6re maksimalt %-BYA= 40%. Overbygg til \\nrenovasjon\\\n    \\ eller dunker medregnes ikke i %-BYA. \\n\\xA74.6 Parkering: Det skal avsettes\\\n    \\ 2 parkeringsplasser for hver boenhet, hvor en av disse skal v\\xE6re i \\ngarasje/carport.\\\n    \\ BYA for parkering er 3x6=18m2 per plass. \\n \\nH\\xF8yder \\u2013 Utforming av\\\n    \\ bebyggelse \\n\\xA74.7 Planeringsh\\xF8yder: Maksimal planeringsh\\xF8yde er angitt\\\n    \\ i plankart. Maks planeringsh\\xF8yde er \\nK+182. \\n\\xA74.8 Takform: Bebyggelse\\\n    \\ skal ha saltak med en takvinkel mellom 30 - 40 grader.  \\n\\xA74.9 Takh\\xF8yder:\\\n    \\ Tillate takh\\xF8yder er angitt i tabellen under. H\\xF8yder regnes fra planert\\\n    \\ terreng. \\n \\n Saltak \\nM\\xF8ne 6,0 m \\nGesimsh\\xF8yde 3,5 m \\nTakvinkel 30-40\\\n    \\ grader \\n \\nSt\\xF8yf\\xF8lsom bebyggelse \\nF\\xF8r det tillates tiltak innenfor\\\n    \\ omr\\xE5det skal det gj\\xF8res st\\xF8yskjermede tiltak.   \\n\\xA74.10 Alle boenheter\\\n    \\ skal ha uteplass p\\xE5 b\\xE5de \\xF8stsiden og vestsiden av bebyggelsen.  \\n\\n\\\n    \\  3 \\n\\xA74.11 Alle boenheter skal v\\xE6re gjennomg\\xE5ende og ha minst ett soverom\\\n    \\ plassert p\\xE5 vestsiden og \\n\\xF8stsiden. Eventuelt \\xF8kt lydisolasjon i fasade\\\n    \\ i minst ett soverom i hver boenhet. \\n \\nTeknisk plan \\n\\xA74.12 Det stilles\\\n    \\ teknisk plan for VA, overvannsh\\xE5ndtering og str\\xF8mforsyning f\\xF8r \\nigangsettingstillatelse\\\n    \\ kan gis innenfor omr\\xE5det BKS. Det b\\xF8r legge til rette for \\xE5pne \\nvannveier\\\n    \\ for overvannsh\\xE5ndtering. Dersom andre l\\xF8sninger velges skal det begrunnes\\\n    \\ \\nhvorfor naturbaserte l\\xF8sninger velges bort. \\n\\xA74.13 V/A- anlegg samt\\\n    \\ vei skal dimensjoneres og opparbeides i samsvar med til enhver tids \\ngjeldende\\\n    \\ \\xABRetningslinjer for vei, vann og avl\\xF8p\\xBB for Evje og Hornnes kommune.\\\n    \\ Det skal \\nsikres teknisk godkjenning av offentlig samferdselsanlegg. \\n\\xA7\\\n    4.14 Det skal f\\xF8r utbygging avklares hvordan det nye utbyggingsomr\\xE5det i\\\n    \\ planomr\\xE5det skal \\nforsynes med elektrisk str\\xF8m. Det m\\xE5 avklares i\\\n    \\ hvilken grad eksisterende ledninger/kabler \\neventuelt kan benyttes og om nye\\\n    \\ ledninger/kabler m\\xE5 legges om og om det er behov for \\nny(e) nettstasjon(er).\\\n    \\ \\n \\nUtforming av tomt \\n\\xA74.15 Situasjonsplan: Ved s\\xF8knad om tillatelse\\\n    \\ til tiltak skal situasjonsplan vedlegges i tilpasset \\nm\\xE5lestokk som viser\\\n    \\ plassering av bebyggelse og h\\xF8yde. Situasjonsplan skal ogs\\xE5 vise \\nplassering\\\n    \\ av parkering, avkj\\xF8rsel og evt. st\\xF8ttemurer.  \\n\\xA74.16 Renovasjon: Areal\\\n    \\ for renovasjon skal vises p\\xE5 situasjonsplan. Situasjonsplanen skal vise at\\\n    \\ \\nrenovasjonsbil har tilstrekkelig snuareal innenfor planomr\\xE5det.  \\n\\xA7\\\n    4.17 Forst\\xF8tningsmur: Det tillattes forst\\xF8tningsmurer for \\xE5 tilpasse\\\n    \\ terrenget. Forst\\xF8tningsmurer \\ntillates oppf\\xF8rt utenfor byggegrense. Maks\\\n    \\ tillatt h\\xF8yde p\\xE5 forst\\xF8tningsmurer er 2,5 meter.  \\n\\xA74.18 Det stilles\\\n    \\ estetisk krav til utforming av fylling / naturstein plastret skr\\xE5ning mot\\\n    \\ bekk. \\nSkr\\xE5ning skal jord klees, tils\\xE5es og sikres mot erosjon. \\n \\n\\\n    Forsamlingslokale for religionsut\\xF8velse - BR \\n \\n\\xA74.19 Omr\\xE5det skal\\\n    \\ benyttes til nytt sentrumsn\\xE6rt bedehus i n\\xF8dvendig grad og utstrekning\\\n    \\ \\n\\xA74.20 Bygninger kan oppf\\xF8res med gesimsh\\xF8yde 8,0 meter og m\\xF8neh\\xF8\\\n    yde 10,5 meter. \\n\\xA74.21 BYA for arealform\\xE5let skal v\\xE6re maksimalt %-BYA=\\\n    \\ 50. Areal for parkering medregnes ikke i \\n%BYA \\n\\xA74.22 Det skal avsettes\\\n    \\ tilstrekkelig med parkeringsareal til gjeldende aktivitet innenfor regulert\\\n    \\ \\nomr\\xE5de. Parkeringsbehovet for bedehuset kan l\\xF8ses b\\xE5de innenfor BR\\\n    \\ og SPA. \\n\\xA74.23 Arealutnyttelse utover dette skal opparbeides parkmessig\\\n    \\ og v\\xE6re tilgjengelig for \\nallmennheten. \\n\\xA74.24 Oppgitt gesimsh\\xF8yde\\\n    \\ og m\\xF8neh\\xF8yde skal regnes ut fra gjennomsnittlig h\\xF8yde p\\xE5 tomta/\\\n    \\ \\nomr\\xE5det f\\xF8r opparbeidelse begynner. \\n\\xA74.25 Innenfor omr\\xE5det BR\\\n    \\ tillates det internveier og parkeringsplasser. \\n \\nIdrettsanlegg - BIA \\n\\xA7\\\n    4.26 Innenfor omr\\xE5det er det tillatt med tiltak som fremmer idrettsaktiviteter.\\\n    \\  \\n \\nEnergianlegg - BE \\n\\xA74.27 Innenfor omr\\xE5det er det tillatt plassering\\\n    \\ av trafo og infrastruktur i sammenheng med dette. \\n \\n  \\n\\n  4 \\n\\xA75. Samferdselsanlegg\\\n    \\ og teknisk infrastruktur (pbl 12-5 nr. 2) \\nVeg (o_SV1) \\n\\xA75.1 Veien o_SV1\\\n    \\ er adkomst for alle tilgrensende eiendommer. \\nDet skal opparbeides et fysisk\\\n    \\ skille mellom o_SV1 og omkringliggende arealform\\xE5l SPA, GF \\nog SGS. Adkomst\\\n    \\ til SPA og BR skal ikke v\\xE6re rett ovenfor hverandre. \\n \\n \\n \\nVeg (o_SV3)\\\n    \\ \\n\\xA75.2 Veien o_SV3-er adkomst for boligomr\\xE5de BKS og BR samt atkomst til\\\n    \\ o_SPA. Plasseringer av \\navkj\\xF8rsler langs o_SV3 er ikke endelige og tillates\\\n    \\ justert i samr\\xE5d med veieier. \\n \\nFortau (o_SF1-2) \\n\\xA75.3 o_SF1-2 er\\\n    \\ regulert til offentlig fortau med en bredde p\\xE5 3 meter. \\n \\nParkering (o_SPA)\\\n    \\ \\n\\xA75.4 o_SPA er offentlig parkeringsplass. \\n\\xA75.5 Parkeringsbehov for\\\n    \\ bedehuset kan l\\xF8ses innenfor o_SPA. \\n\\xA75.6 Det tillates etablert ladestasjoner\\\n    \\ innenfor omr\\xE5det.  \\n\\xA75.7 Atkomst til SPA og SGS skal ikke anlegges vertikalt\\\n    \\ rett overfor hverandre. \\n \\n \\n\\xA76. Gr\\xF8nnstruktur (pbl 12-5 nr. 3) \\n\\\n    \\ \\nFriomr\\xE5de (o_GF1-3) \\n\\xA76.1 Omr\\xE5de for friomr\\xE5de/gr\\xF8ntstruktur\\\n    \\ GF1-GF3 er til fri ferdsel for allmenheten. \\n\\xA76.2 I omr\\xE5dene er det tillat\\\n    \\ oppf\\xF8rt bebyggelse og andre tekniske installasjoner som typisk \\nberiker\\\n    \\ bruken av omr\\xE5de. \\n\\xA76.3 Innenfor omr\\xE5det GF1 skal det opparbeides\\\n    \\ et felles leke- og uteoppholdsareal for hele \\nplanomr\\xE5det. Lekeplassen skal\\\n    \\ utstyres med sand, benk og min. 3 ulike lekeapparater. \\n\\xA76.4 Det tillates\\\n    \\ avkj\\xF8rsel for BR over o_GF3 \\n\\xA76.5 Bestemmelsesomr\\xE5de #02 SN\\xD8: Innenfor\\\n    \\ omr\\xE5det kan det anlegges opplag for sn\\xF8. \\n\\xA76.6 Det tillates \\xE5 legge\\\n    \\ kabler i bakken innenfor omr\\xE5de avsatt til friomr\\xE5de. \\n\\xA76.7 Adkomst\\\n    \\ til lekearealer skal v\\xE6re universelt utformet. \\n \\nTurdrag (GTD1-2) \\n\\xA7\\\n    6.8 Omr\\xE5dene skal benyttes til turveier. \\n \\n \\n \\nDato 11.05.2022 ", images: [],\n  metadata: {num_pages: 4}}\n\n\nReturn the correct JSON response within a ```json codeblock. not the JSON_SCHEMA'}]}
python_service-1  | [92m11:27:05 - LiteLLM:DEBUG[0m: utils.py:2911 - 
python_service-1  | LiteLLM: Non-Default params passed to completion() {'temperature': 0, 'max_tokens': 4000}
python_service-1  | DEBUG:LiteLLM:
python_service-1  | LiteLLM: Non-Default params passed to completion() {'temperature': 0, 'max_tokens': 4000}
python_service-1  | [92m11:27:05 - LiteLLM:DEBUG[0m: utils.py:3511 - Azure optional params - api_version: api_version=None, litellm.api_version=2024-08-01-preview, os.environ['AZURE_API_VERSION']=None
python_service-1  | DEBUG:LiteLLM:Azure optional params - api_version: api_version=None, litellm.api_version=2024-08-01-preview, os.environ['AZURE_API_VERSION']=None
python_service-1  | [92m11:27:05 - LiteLLM:DEBUG[0m: utils.py:298 - Final returned optional params: {'temperature': 0, 'max_tokens': 4000, 'extra_body': {}}
python_service-1  | DEBUG:LiteLLM:Final returned optional params: {'temperature': 0, 'max_tokens': 4000, 'extra_body': {}}
python_service-1  | [92m11:27:05 - LiteLLM:DEBUG[0m: litellm_logging.py:377 - self.optional_params: {'temperature': 0, 'max_tokens': 4000, 'extra_body': {}}
python_service-1  | DEBUG:LiteLLM:self.optional_params: {'temperature': 0, 'max_tokens': 4000, 'extra_body': {}}
python_service-1  | [92m11:27:05 - LiteLLM:DEBUG[0m: litellm_logging.py:634 - [92m
python_service-1  | 
python_service-1  | POST Request Sent from LiteLLM:
python_service-1  | curl -X POST \
python_service-1  | https://kartai-openai.openai.azure.com \
python_service-1  | -H 'api_key: Dm20Qg2RomLirlz8icux5Y3XavqI2BfAwmuOdjuI********************************************' -H 'azure_ad_token: *****' \
python_service-1  | -d '{'model': 'gpt-4o-mini', 'messages': [{'role': 'system', 'content': 'You are a server API that receives document information and returns specific fields in JSON format.\n\n\n        As a genius expert, your task is to understand the content and provide\n        the parsed objects in json that match the following json_schema:\n\n\n        {\n  "description": "Contract for field extraction from regulatory documents.\\n\\nDefines the structure and prompt for extracting regulation codes from\\nNorwegian planning documents (plankart and bestemmelser).\\n\\nAttributes:\\n    fields (Set[str]): Set of extracted regulation codes",\n  "properties": {\n    "fields": {\n      "items": {\n        "type": "string"\n      },\n      "title": "Fields",\n      "type": "array",\n      "uniqueItems": true\n    }\n  },\n  "required": [\n    "fields"\n  ],\n  "title": "FieldExtractContract",\n  "type": "object"\n}\n\n        Make sure to return an instance of the JSON, not the schema itself\n'}, {'role': 'user', 'content': '##Content\n\n{content: "  1 \\n  \\n \\n \\nReguleringsbestemmelser  \\nfor \\nSt\\xF8peritomta \\n \\n\\\n    Plan ID: 202102 \\nPlankart dato: 11.05.2022 \\nReguleringsbestemmelser dato: 11.05.2022\\\n    \\ \\nVedtatt PS 59/22: 16.06.2022 \\n  \\n \\n\\xA71. Planform\\xE5l \\nForm\\xE5let med\\\n    \\ planen er \\xE5 tilrettelegge for konsentrert bebyggelse med tilh\\xF8rende anlegg.\\\n    \\ \\nPlanen omfatter ogs\\xE5 kirke/annen religionsut\\xF8velse, parkeringsanlegg\\\n    \\ og idrett/park.  \\n \\nPlanen inneholder f\\xF8lgende form\\xE5l (Pbl. \\xA7 12-5):\\\n    \\ \\n \\n\\xA71.1 Bebyggelse og anlegg (pbl \\xA712-5,nr 1) \\nBoligbebyggelse- Konsentrert\\\n    \\ sm\\xE5husbebyggelse (BKS) \\nForsamlingslokale for religionsut\\xF8velse (BR)\\\n    \\ \\nIdrettsanlegg (BIA) \\nEnergianlegg (BE) \\n \\n\\xA71.2 Samferdselsanlegg og\\\n    \\ teknisk infrastruktur (pbl \\xA712-5, nr 2) \\nVeg (o_SV1 og 3) \\nFortau (o_SF)\\\n    \\ \\nParkering(o_SPA) \\n \\n\\xA71.3 Gr\\xF8nnstruktur (pbl \\xA712-5,2. ledd nr 3)\\\n    \\ \\nFriomr\\xE5de (o_GF1-3) \\nTurdrag (o_GTD1-2) \\n \\n \\n  \\n\\n\\n  2 \\n\\xA72. Rekkef\\xF8\\\n    lgebestemmelser (pbl \\xA7 12-7 nr. 10) \\n \\n\\xA72.1 F\\xF8r midlertidig brukstillatelse\\\n    \\ for BKS skal o_SV3 v\\xE6re ferdig opparbeidet.  \\n\\xA72.2 F\\xF8r midlertidig\\\n    \\ brukstillatelse for 1. boenhet p\\xE5 BKS skal lekeplass innenfor GF1 v\\xE6re\\\n    \\ ferdig \\nopparbeidet. \\n\\xA72.3 F\\xF8r midlertidig brukstillatelse p\\xE5 5.\\\n    \\ boenhet p\\xE5 BKS skal o_GTD1-2 v\\xE6re ferdig opparbeidet.  \\n\\xA72.4 F\\xF8\\\n    r midlertidig brukstillatelse for BKS skal o_SF v\\xE6re ferdig opparbeidet. \\n\\\n    \\xA72.5 F\\xF8r ferdigattest p\\xE5 BR, skal o_SF og o_SPA v\\xE6re ferdig opparbeidet.\\\n    \\ \\n \\n \\n \\n \\n \\n\\xA73. Fellesbestemmelser \\n\\xA73.1 Bygge- og anleggsst\\xF8\\\n    y skal ikke overskride st\\xF8ygrensen i tabell 4 i retningslinje for behandling\\\n    \\ \\nav st\\xF8y i arealplanlegging (T-1442/2021). St\\xF8yende aktivitet skal forega\\u030A\\\n    \\ p\\xE5 dagtid. \\n\\xA74. Bebyggelse og anlegg (pbl 12-5 nr. 1) \\nBoligbebyggelse-konsentrert\\\n    \\ sm\\xE5husbebyggelse - BKS \\n \\n\\xA74.1 Bebyggelse: Det tillates fire tomannsboliger\\\n    \\ p\\xE5 tomten. Totalt 8 boenheter.   \\n\\xA74.2 Byggegrenser: Plassering av nye\\\n    \\ tiltak skal skje innenfor byggegrensene. For \\ngarasje/carport/bod mindre enn\\\n    \\ 50 m2 BYA gjelder byggegrense p\\xE5 1 meter fra tomtegrense. \\nTerrenginngrep\\\n    \\ og grunnarbeider i forbindelse med opparbeidelse av tomtene tillattes \\nutenfor\\\n    \\ byggegrense. Avkj\\xF8rsel og parkering tillates utenfor byggegrense. \\n\\xA7\\\n    4.3 Garasje/Carport: Alle boenheter skal ha minst en parkering under tak til disposisjon.\\\n    \\  \\n\\xA74.4 Bestemmelsesomr\\xE5de #01 SN\\xD8: Innenfor omr\\xE5det kan det anlegges\\\n    \\ opplag for sn\\xF8. \\n \\nGrad av utnytting \\n\\xA74.5 Utnyttelsesgrad: BYA for\\\n    \\ omr\\xE5det BKS skal v\\xE6re maksimalt %-BYA= 40%. Overbygg til \\nrenovasjon\\\n    \\ eller dunker medregnes ikke i %-BYA. \\n\\xA74.6 Parkering: Det skal avsettes\\\n    \\ 2 parkeringsplasser for hver boenhet, hvor en av disse skal v\\xE6re i \\ngarasje/carport.\\\n    \\ BYA for parkering er 3x6=18m2 per plass. \\n \\nH\\xF8yder \\u2013 Utforming av\\\n    \\ bebyggelse \\n\\xA74.7 Planeringsh\\xF8yder: Maksimal planeringsh\\xF8yde er angitt\\\n    \\ i plankart. Maks planeringsh\\xF8yde er \\nK+182. \\n\\xA74.8 Takform: Bebyggelse\\\n    \\ skal ha saltak med en takvinkel mellom 30 - 40 grader.  \\n\\xA74.9 Takh\\xF8yder:\\\n    \\ Tillate takh\\xF8yder er angitt i tabellen under. H\\xF8yder regnes fra planert\\\n    \\ terreng. \\n \\n Saltak \\nM\\xF8ne 6,0 m \\nGesimsh\\xF8yde 3,5 m \\nTakvinkel 30-40\\\n    \\ grader \\n \\nSt\\xF8yf\\xF8lsom bebyggelse \\nF\\xF8r det tillates tiltak innenfor\\\n    \\ omr\\xE5det skal det gj\\xF8res st\\xF8yskjermede tiltak.   \\n\\xA74.10 Alle boenheter\\\n    \\ skal ha uteplass p\\xE5 b\\xE5de \\xF8stsiden og vestsiden av bebyggelsen.  \\n\\n\\\n    \\  3 \\n\\xA74.11 Alle boenheter skal v\\xE6re gjennomg\\xE5ende og ha minst ett soverom\\\n    \\ plassert p\\xE5 vestsiden og \\n\\xF8stsiden. Eventuelt \\xF8kt lydisolasjon i fasade\\\n    \\ i minst ett soverom i hver boenhet. \\n \\nTeknisk plan \\n\\xA74.12 Det stilles\\\n    \\ teknisk plan for VA, overvannsh\\xE5ndtering og str\\xF8mforsyning f\\xF8r \\nigangsettingstillatelse\\\n    \\ kan gis innenfor omr\\xE5det BKS. Det b\\xF8r legge til rette for \\xE5pne \\nvannveier\\\n    \\ for overvannsh\\xE5ndtering. Dersom andre l\\xF8sninger velges skal det begrunnes\\\n    \\ \\nhvorfor naturbaserte l\\xF8sninger velges bort. \\n\\xA74.13 V/A- anlegg samt\\\n    \\ vei skal dimensjoneres og opparbeides i samsvar med til enhver tids \\ngjeldende\\\n    \\ \\xABRetningslinjer for vei, vann og avl\\xF8p\\xBB for Evje og Hornnes kommune.\\\n    \\ Det skal \\nsikres teknisk godkjenning av offentlig samferdselsanlegg. \\n\\xA7\\\n    4.14 Det skal f\\xF8r utbygging avklares hvordan det nye utbyggingsomr\\xE5det i\\\n    \\ planomr\\xE5det skal \\nforsynes med elektrisk str\\xF8m. Det m\\xE5 avklares i\\\n    \\ hvilken grad eksisterende ledninger/kabler \\neventuelt kan benyttes og om nye\\\n    \\ ledninger/kabler m\\xE5 legges om og om det er behov for \\nny(e) nettstasjon(er).\\\n    \\ \\n \\nUtforming av tomt \\n\\xA74.15 Situasjonsplan: Ved s\\xF8knad om tillatelse\\\n    \\ til tiltak skal situasjonsplan vedlegges i tilpasset \\nm\\xE5lestokk som viser\\\n    \\ plassering av bebyggelse og h\\xF8yde. Situasjonsplan skal ogs\\xE5 vise \\nplassering\\\n    \\ av parkering, avkj\\xF8rsel og evt. st\\xF8ttemurer.  \\n\\xA74.16 Renovasjon: Areal\\\n    \\ for renovasjon skal vises p\\xE5 situasjonsplan. Situasjonsplanen skal vise at\\\n    \\ \\nrenovasjonsbil har tilstrekkelig snuareal innenfor planomr\\xE5det.  \\n\\xA7\\\n    4.17 Forst\\xF8tningsmur: Det tillattes forst\\xF8tningsmurer for \\xE5 tilpasse\\\n    \\ terrenget. Forst\\xF8tningsmurer \\ntillates oppf\\xF8rt utenfor byggegrense. Maks\\\n    \\ tillatt h\\xF8yde p\\xE5 forst\\xF8tningsmurer er 2,5 meter.  \\n\\xA74.18 Det stilles\\\n    \\ estetisk krav til utforming av fylling / naturstein plastret skr\\xE5ning mot\\\n    \\ bekk. \\nSkr\\xE5ning skal jord klees, tils\\xE5es og sikres mot erosjon. \\n \\n\\\n    Forsamlingslokale for religionsut\\xF8velse - BR \\n \\n\\xA74.19 Omr\\xE5det skal\\\n    \\ benyttes til nytt sentrumsn\\xE6rt bedehus i n\\xF8dvendig grad og utstrekning\\\n    \\ \\n\\xA74.20 Bygninger kan oppf\\xF8res med gesimsh\\xF8yde 8,0 meter og m\\xF8neh\\xF8\\\n    yde 10,5 meter. \\n\\xA74.21 BYA for arealform\\xE5let skal v\\xE6re maksimalt %-BYA=\\\n    \\ 50. Areal for parkering medregnes ikke i \\n%BYA \\n\\xA74.22 Det skal avsettes\\\n    \\ tilstrekkelig med parkeringsareal til gjeldende aktivitet innenfor regulert\\\n    \\ \\nomr\\xE5de. Parkeringsbehovet for bedehuset kan l\\xF8ses b\\xE5de innenfor BR\\\n    \\ og SPA. \\n\\xA74.23 Arealutnyttelse utover dette skal opparbeides parkmessig\\\n    \\ og v\\xE6re tilgjengelig for \\nallmennheten. \\n\\xA74.24 Oppgitt gesimsh\\xF8yde\\\n    \\ og m\\xF8neh\\xF8yde skal regnes ut fra gjennomsnittlig h\\xF8yde p\\xE5 tomta/\\\n    \\ \\nomr\\xE5det f\\xF8r opparbeidelse begynner. \\n\\xA74.25 Innenfor omr\\xE5det BR\\\n    \\ tillates det internveier og parkeringsplasser. \\n \\nIdrettsanlegg - BIA \\n\\xA7\\\n    4.26 Innenfor omr\\xE5det er det tillatt med tiltak som fremmer idrettsaktiviteter.\\\n    \\  \\n \\nEnergianlegg - BE \\n\\xA74.27 Innenfor omr\\xE5det er det tillatt plassering\\\n    \\ av trafo og infrastruktur i sammenheng med dette. \\n \\n  \\n\\n  4 \\n\\xA75. Samferdselsanlegg\\\n    \\ og teknisk infrastruktur (pbl 12-5 nr. 2) \\nVeg (o_SV1) \\n\\xA75.1 Veien o_SV1\\\n    \\ er adkomst for alle tilgrensende eiendommer. \\nDet skal opparbeides et fysisk\\\n    \\ skille mellom o_SV1 og omkringliggende arealform\\xE5l SPA, GF \\nog SGS. Adkomst\\\n    \\ til SPA og BR skal ikke v\\xE6re rett ovenfor hverandre. \\n \\n \\n \\nVeg (o_SV3)\\\n    \\ \\n\\xA75.2 Veien o_SV3-er adkomst for boligomr\\xE5de BKS og BR samt atkomst til\\\n    \\ o_SPA. Plasseringer av \\navkj\\xF8rsler langs o_SV3 er ikke endelige og tillates\\\n    \\ justert i samr\\xE5d med veieier. \\n \\nFortau (o_SF1-2) \\n\\xA75.3 o_SF1-2 er\\\n    \\ regulert til offentlig fortau med en bredde p\\xE5 3 meter. \\n \\nParkering (o_SPA)\\\n    \\ \\n\\xA75.4 o_SPA er offentlig parkeringsplass. \\n\\xA75.5 Parkeringsbehov for\\\n    \\ bedehuset kan l\\xF8ses innenfor o_SPA. \\n\\xA75.6 Det tillates etablert ladestasjoner\\\n    \\ innenfor omr\\xE5det.  \\n\\xA75.7 Atkomst til SPA og SGS skal ikke anlegges vertikalt\\\n    \\ rett overfor hverandre. \\n \\n \\n\\xA76. Gr\\xF8nnstruktur (pbl 12-5 nr. 3) \\n\\\n    \\ \\nFriomr\\xE5de (o_GF1-3) \\n\\xA76.1 Omr\\xE5de for friomr\\xE5de/gr\\xF8ntstruktur\\\n    \\ GF1-GF3 er til fri ferdsel for allmenheten. \\n\\xA76.2 I omr\\xE5dene er det tillat\\\n    \\ oppf\\xF8rt bebyggelse og andre tekniske installasjoner som typisk \\nberiker\\\n    \\ bruken av omr\\xE5de. \\n\\xA76.3 Innenfor omr\\xE5det GF1 skal det opparbeides\\\n    \\ et felles leke- og uteoppholdsareal for hele \\nplanomr\\xE5det. Lekeplassen skal\\\n    \\ utstyres med sand, benk og min. 3 ulike lekeapparater. \\n\\xA76.4 Det tillates\\\n    \\ avkj\\xF8rsel for BR over o_GF3 \\n\\xA76.5 Bestemmelsesomr\\xE5de #02 SN\\xD8: Innenfor\\\n    \\ omr\\xE5det kan det anlegges opplag for sn\\xF8. \\n\\xA76.6 Det tillates \\xE5 legge\\\n    \\ kabler i bakken innenfor omr\\xE5de avsatt til friomr\\xE5de. \\n\\xA76.7 Adkomst\\\n    \\ til lekearealer skal v\\xE6re universelt utformet. \\n \\nTurdrag (GTD1-2) \\n\\xA7\\\n    6.8 Omr\\xE5dene skal benyttes til turveier. \\n \\n \\n \\nDato 11.05.2022 ", images: [],\n  metadata: {num_pages: 4}}\n\n\nReturn the correct JSON response within a ```json codeblock. not the JSON_SCHEMA'}], 'temperature': 0, 'max_tokens': 4000, 'extra_body': {}}'
python_service-1  | [0m
python_service-1  | 
python_service-1  | DEBUG:LiteLLM:[92m
python_service-1  | 
python_service-1  | POST Request Sent from LiteLLM:
python_service-1  | curl -X POST \
python_service-1  | https://kartai-openai.openai.azure.com \
python_service-1  | -H 'api_key: Dm20Qg2RomLirlz8icux5Y3XavqI2BfAwmuOdjuI********************************************' -H 'azure_ad_token: *****' \
python_service-1  | -d '{'model': 'gpt-4o-mini', 'messages': [{'role': 'system', 'content': 'You are a server API that receives document information and returns specific fields in JSON format.\n\n\n        As a genius expert, your task is to understand the content and provide\n        the parsed objects in json that match the following json_schema:\n\n\n        {\n  "description": "Contract for field extraction from regulatory documents.\\n\\nDefines the structure and prompt for extracting regulation codes from\\nNorwegian planning documents (plankart and bestemmelser).\\n\\nAttributes:\\n    fields (Set[str]): Set of extracted regulation codes",\n  "properties": {\n    "fields": {\n      "items": {\n        "type": "string"\n      },\n      "title": "Fields",\n      "type": "array",\n      "uniqueItems": true\n    }\n  },\n  "required": [\n    "fields"\n  ],\n  "title": "FieldExtractContract",\n  "type": "object"\n}\n\n        Make sure to return an instance of the JSON, not the schema itself\n'}, {'role': 'user', 'content': '##Content\n\n{content: "  1 \\n  \\n \\n \\nReguleringsbestemmelser  \\nfor \\nSt\\xF8peritomta \\n \\n\\\n    Plan ID: 202102 \\nPlankart dato: 11.05.2022 \\nReguleringsbestemmelser dato: 11.05.2022\\\n    \\ \\nVedtatt PS 59/22: 16.06.2022 \\n  \\n \\n\\xA71. Planform\\xE5l \\nForm\\xE5let med\\\n    \\ planen er \\xE5 tilrettelegge for konsentrert bebyggelse med tilh\\xF8rende anlegg.\\\n    \\ \\nPlanen omfatter ogs\\xE5 kirke/annen religionsut\\xF8velse, parkeringsanlegg\\\n    \\ og idrett/park.  \\n \\nPlanen inneholder f\\xF8lgende form\\xE5l (Pbl. \\xA7 12-5):\\\n    \\ \\n \\n\\xA71.1 Bebyggelse og anlegg (pbl \\xA712-5,nr 1) \\nBoligbebyggelse- Konsentrert\\\n    \\ sm\\xE5husbebyggelse (BKS) \\nForsamlingslokale for religionsut\\xF8velse (BR)\\\n    \\ \\nIdrettsanlegg (BIA) \\nEnergianlegg (BE) \\n \\n\\xA71.2 Samferdselsanlegg og\\\n    \\ teknisk infrastruktur (pbl \\xA712-5, nr 2) \\nVeg (o_SV1 og 3) \\nFortau (o_SF)\\\n    \\ \\nParkering(o_SPA) \\n \\n\\xA71.3 Gr\\xF8nnstruktur (pbl \\xA712-5,2. ledd nr 3)\\\n    \\ \\nFriomr\\xE5de (o_GF1-3) \\nTurdrag (o_GTD1-2) \\n \\n \\n  \\n\\n\\n  2 \\n\\xA72. Rekkef\\xF8\\\n    lgebestemmelser (pbl \\xA7 12-7 nr. 10) \\n \\n\\xA72.1 F\\xF8r midlertidig brukstillatelse\\\n    \\ for BKS skal o_SV3 v\\xE6re ferdig opparbeidet.  \\n\\xA72.2 F\\xF8r midlertidig\\\n    \\ brukstillatelse for 1. boenhet p\\xE5 BKS skal lekeplass innenfor GF1 v\\xE6re\\\n    \\ ferdig \\nopparbeidet. \\n\\xA72.3 F\\xF8r midlertidig brukstillatelse p\\xE5 5.\\\n    \\ boenhet p\\xE5 BKS skal o_GTD1-2 v\\xE6re ferdig opparbeidet.  \\n\\xA72.4 F\\xF8\\\n    r midlertidig brukstillatelse for BKS skal o_SF v\\xE6re ferdig opparbeidet. \\n\\\n    \\xA72.5 F\\xF8r ferdigattest p\\xE5 BR, skal o_SF og o_SPA v\\xE6re ferdig opparbeidet.\\\n    \\ \\n \\n \\n \\n \\n \\n\\xA73. Fellesbestemmelser \\n\\xA73.1 Bygge- og anleggsst\\xF8\\\n    y skal ikke overskride st\\xF8ygrensen i tabell 4 i retningslinje for behandling\\\n    \\ \\nav st\\xF8y i arealplanlegging (T-1442/2021). St\\xF8yende aktivitet skal forega\\u030A\\\n    \\ p\\xE5 dagtid. \\n\\xA74. Bebyggelse og anlegg (pbl 12-5 nr. 1) \\nBoligbebyggelse-konsentrert\\\n    \\ sm\\xE5husbebyggelse - BKS \\n \\n\\xA74.1 Bebyggelse: Det tillates fire tomannsboliger\\\n    \\ p\\xE5 tomten. Totalt 8 boenheter.   \\n\\xA74.2 Byggegrenser: Plassering av nye\\\n    \\ tiltak skal skje innenfor byggegrensene. For \\ngarasje/carport/bod mindre enn\\\n    \\ 50 m2 BYA gjelder byggegrense p\\xE5 1 meter fra tomtegrense. \\nTerrenginngrep\\\n    \\ og grunnarbeider i forbindelse med opparbeidelse av tomtene tillattes \\nutenfor\\\n    \\ byggegrense. Avkj\\xF8rsel og parkering tillates utenfor byggegrense. \\n\\xA7\\\n    4.3 Garasje/Carport: Alle boenheter skal ha minst en parkering under tak til disposisjon.\\\n    \\  \\n\\xA74.4 Bestemmelsesomr\\xE5de #01 SN\\xD8: Innenfor omr\\xE5det kan det anlegges\\\n    \\ opplag for sn\\xF8. \\n \\nGrad av utnytting \\n\\xA74.5 Utnyttelsesgrad: BYA for\\\n    \\ omr\\xE5det BKS skal v\\xE6re maksimalt %-BYA= 40%. Overbygg til \\nrenovasjon\\\n    \\ eller dunker medregnes ikke i %-BYA. \\n\\xA74.6 Parkering: Det skal avsettes\\\n    \\ 2 parkeringsplasser for hver boenhet, hvor en av disse skal v\\xE6re i \\ngarasje/carport.\\\n    \\ BYA for parkering er 3x6=18m2 per plass. \\n \\nH\\xF8yder \\u2013 Utforming av\\\n    \\ bebyggelse \\n\\xA74.7 Planeringsh\\xF8yder: Maksimal planeringsh\\xF8yde er angitt\\\n    \\ i plankart. Maks planeringsh\\xF8yde er \\nK+182. \\n\\xA74.8 Takform: Bebyggelse\\\n    \\ skal ha saltak med en takvinkel mellom 30 - 40 grader.  \\n\\xA74.9 Takh\\xF8yder:\\\n    \\ Tillate takh\\xF8yder er angitt i tabellen under. H\\xF8yder regnes fra planert\\\n    \\ terreng. \\n \\n Saltak \\nM\\xF8ne 6,0 m \\nGesimsh\\xF8yde 3,5 m \\nTakvinkel 30-40\\\n    \\ grader \\n \\nSt\\xF8yf\\xF8lsom bebyggelse \\nF\\xF8r det tillates tiltak innenfor\\\n    \\ omr\\xE5det skal det gj\\xF8res st\\xF8yskjermede tiltak.   \\n\\xA74.10 Alle boenheter\\\n    \\ skal ha uteplass p\\xE5 b\\xE5de \\xF8stsiden og vestsiden av bebyggelsen.  \\n\\n\\\n    \\  3 \\n\\xA74.11 Alle boenheter skal v\\xE6re gjennomg\\xE5ende og ha minst ett soverom\\\n    \\ plassert p\\xE5 vestsiden og \\n\\xF8stsiden. Eventuelt \\xF8kt lydisolasjon i fasade\\\n    \\ i minst ett soverom i hver boenhet. \\n \\nTeknisk plan \\n\\xA74.12 Det stilles\\\n    \\ teknisk plan for VA, overvannsh\\xE5ndtering og str\\xF8mforsyning f\\xF8r \\nigangsettingstillatelse\\\n    \\ kan gis innenfor omr\\xE5det BKS. Det b\\xF8r legge til rette for \\xE5pne \\nvannveier\\\n    \\ for overvannsh\\xE5ndtering. Dersom andre l\\xF8sninger velges skal det begrunnes\\\n    \\ \\nhvorfor naturbaserte l\\xF8sninger velges bort. \\n\\xA74.13 V/A- anlegg samt\\\n    \\ vei skal dimensjoneres og opparbeides i samsvar med til enhver tids \\ngjeldende\\\n    \\ \\xABRetningslinjer for vei, vann og avl\\xF8p\\xBB for Evje og Hornnes kommune.\\\n    \\ Det skal \\nsikres teknisk godkjenning av offentlig samferdselsanlegg. \\n\\xA7\\\n    4.14 Det skal f\\xF8r utbygging avklares hvordan det nye utbyggingsomr\\xE5det i\\\n    \\ planomr\\xE5det skal \\nforsynes med elektrisk str\\xF8m. Det m\\xE5 avklares i\\\n    \\ hvilken grad eksisterende ledninger/kabler \\neventuelt kan benyttes og om nye\\\n    \\ ledninger/kabler m\\xE5 legges om og om det er behov for \\nny(e) nettstasjon(er).\\\n    \\ \\n \\nUtforming av tomt \\n\\xA74.15 Situasjonsplan: Ved s\\xF8knad om tillatelse\\\n    \\ til tiltak skal situasjonsplan vedlegges i tilpasset \\nm\\xE5lestokk som viser\\\n    \\ plassering av bebyggelse og h\\xF8yde. Situasjonsplan skal ogs\\xE5 vise \\nplassering\\\n    \\ av parkering, avkj\\xF8rsel og evt. st\\xF8ttemurer.  \\n\\xA74.16 Renovasjon: Areal\\\n    \\ for renovasjon skal vises p\\xE5 situasjonsplan. Situasjonsplanen skal vise at\\\n    \\ \\nrenovasjonsbil har tilstrekkelig snuareal innenfor planomr\\xE5det.  \\n\\xA7\\\n    4.17 Forst\\xF8tningsmur: Det tillattes forst\\xF8tningsmurer for \\xE5 tilpasse\\\n    \\ terrenget. Forst\\xF8tningsmurer \\ntillates oppf\\xF8rt utenfor byggegrense. Maks\\\n    \\ tillatt h\\xF8yde p\\xE5 forst\\xF8tningsmurer er 2,5 meter.  \\n\\xA74.18 Det stilles\\\n    \\ estetisk krav til utforming av fylling / naturstein plastret skr\\xE5ning mot\\\n    \\ bekk. \\nSkr\\xE5ning skal jord klees, tils\\xE5es og sikres mot erosjon. \\n \\n\\\n    Forsamlingslokale for religionsut\\xF8velse - BR \\n \\n\\xA74.19 Omr\\xE5det skal\\\n    \\ benyttes til nytt sentrumsn\\xE6rt bedehus i n\\xF8dvendig grad og utstrekning\\\n    \\ \\n\\xA74.20 Bygninger kan oppf\\xF8res med gesimsh\\xF8yde 8,0 meter og m\\xF8neh\\xF8\\\n    yde 10,5 meter. \\n\\xA74.21 BYA for arealform\\xE5let skal v\\xE6re maksimalt %-BYA=\\\n    \\ 50. Areal for parkering medregnes ikke i \\n%BYA \\n\\xA74.22 Det skal avsettes\\\n    \\ tilstrekkelig med parkeringsareal til gjeldende aktivitet innenfor regulert\\\n    \\ \\nomr\\xE5de. Parkeringsbehovet for bedehuset kan l\\xF8ses b\\xE5de innenfor BR\\\n    \\ og SPA. \\n\\xA74.23 Arealutnyttelse utover dette skal opparbeides parkmessig\\\n    \\ og v\\xE6re tilgjengelig for \\nallmennheten. \\n\\xA74.24 Oppgitt gesimsh\\xF8yde\\\n    \\ og m\\xF8neh\\xF8yde skal regnes ut fra gjennomsnittlig h\\xF8yde p\\xE5 tomta/\\\n    \\ \\nomr\\xE5det f\\xF8r opparbeidelse begynner. \\n\\xA74.25 Innenfor omr\\xE5det BR\\\n    \\ tillates det internveier og parkeringsplasser. \\n \\nIdrettsanlegg - BIA \\n\\xA7\\\n    4.26 Innenfor omr\\xE5det er det tillatt med tiltak som fremmer idrettsaktiviteter.\\\n    \\  \\n \\nEnergianlegg - BE \\n\\xA74.27 Innenfor omr\\xE5det er det tillatt plassering\\\n    \\ av trafo og infrastruktur i sammenheng med dette. \\n \\n  \\n\\n  4 \\n\\xA75. Samferdselsanlegg\\\n    \\ og teknisk infrastruktur (pbl 12-5 nr. 2) \\nVeg (o_SV1) \\n\\xA75.1 Veien o_SV1\\\n    \\ er adkomst for alle tilgrensende eiendommer. \\nDet skal opparbeides et fysisk\\\n    \\ skille mellom o_SV1 og omkringliggende arealform\\xE5l SPA, GF \\nog SGS. Adkomst\\\n    \\ til SPA og BR skal ikke v\\xE6re rett ovenfor hverandre. \\n \\n \\n \\nVeg (o_SV3)\\\n    \\ \\n\\xA75.2 Veien o_SV3-er adkomst for boligomr\\xE5de BKS og BR samt atkomst til\\\n    \\ o_SPA. Plasseringer av \\navkj\\xF8rsler langs o_SV3 er ikke endelige og tillates\\\n    \\ justert i samr\\xE5d med veieier. \\n \\nFortau (o_SF1-2) \\n\\xA75.3 o_SF1-2 er\\\n    \\ regulert til offentlig fortau med en bredde p\\xE5 3 meter. \\n \\nParkering (o_SPA)\\\n    \\ \\n\\xA75.4 o_SPA er offentlig parkeringsplass. \\n\\xA75.5 Parkeringsbehov for\\\n    \\ bedehuset kan l\\xF8ses innenfor o_SPA. \\n\\xA75.6 Det tillates etablert ladestasjoner\\\n    \\ innenfor omr\\xE5det.  \\n\\xA75.7 Atkomst til SPA og SGS skal ikke anlegges vertikalt\\\n    \\ rett overfor hverandre. \\n \\n \\n\\xA76. Gr\\xF8nnstruktur (pbl 12-5 nr. 3) \\n\\\n    \\ \\nFriomr\\xE5de (o_GF1-3) \\n\\xA76.1 Omr\\xE5de for friomr\\xE5de/gr\\xF8ntstruktur\\\n    \\ GF1-GF3 er til fri ferdsel for allmenheten. \\n\\xA76.2 I omr\\xE5dene er det tillat\\\n    \\ oppf\\xF8rt bebyggelse og andre tekniske installasjoner som typisk \\nberiker\\\n    \\ bruken av omr\\xE5de. \\n\\xA76.3 Innenfor omr\\xE5det GF1 skal det opparbeides\\\n    \\ et felles leke- og uteoppholdsareal for hele \\nplanomr\\xE5det. Lekeplassen skal\\\n    \\ utstyres med sand, benk og min. 3 ulike lekeapparater. \\n\\xA76.4 Det tillates\\\n    \\ avkj\\xF8rsel for BR over o_GF3 \\n\\xA76.5 Bestemmelsesomr\\xE5de #02 SN\\xD8: Innenfor\\\n    \\ omr\\xE5det kan det anlegges opplag for sn\\xF8. \\n\\xA76.6 Det tillates \\xE5 legge\\\n    \\ kabler i bakken innenfor omr\\xE5de avsatt til friomr\\xE5de. \\n\\xA76.7 Adkomst\\\n    \\ til lekearealer skal v\\xE6re universelt utformet. \\n \\nTurdrag (GTD1-2) \\n\\xA7\\\n    6.8 Omr\\xE5dene skal benyttes til turveier. \\n \\n \\n \\nDato 11.05.2022 ", images: [],\n  metadata: {num_pages: 4}}\n\n\nReturn the correct JSON response within a ```json codeblock. not the JSON_SCHEMA'}], 'temperature': 0, 'max_tokens': 4000, 'extra_body': {}}'
python_service-1  | [0m
python_service-1  | 
python_service-1  | [92m11:28:02 - LiteLLM:DEBUG[0m: utils.py:298 - RAW RESPONSE:
python_service-1  | {"id": "chatcmpl-AziinMgUJbDqZbcCRkfZDTTE0LoJK", "choices": [{"finish_reason": "stop", "index": 0, "logprobs": null, "message": {"content": "```json\n{\n  \"fields\": [\n    \"Pbl. \u00a7 12-5\",\n    \"pbl \u00a7 12-5,nr 1\",\n    \"pbl \u00a7 12-5, nr 2\",\n    \"pbl \u00a7 12-5,2. ledd nr 3\",\n    \"pbl \u00a7 12-7 nr. 10\"\n  ]\n}\n```", "refusal": null, "role": "assistant", "audio": null, "function_call": null, "tool_calls": null}, "content_filter_results": {"hate": {"filtered": false, "severity": "safe"}, "protected_material_code": {"filtered": false, "detected": false}, "protected_material_text": {"filtered": false, "detected": false}, "self_harm": {"filtered": false, "severity": "safe"}, "sexual": {"filtered": false, "severity": "safe"}, "violence": {"filtered": false, "severity": "safe"}}}], "created": 1739273281, "model": "gpt-4o-mini-2024-07-18", "object": "chat.completion", "service_tier": null, "system_fingerprint": "fp_f3927aa00d", "usage": {"completion_tokens": 84, "prompt_tokens": 3976, "total_tokens": 4060, "completion_tokens_details": {"accepted_prediction_tokens": 0, "audio_tokens": 0, "reasoning_tokens": 0, "rejected_prediction_tokens": 0}, "prompt_tokens_details": {"audio_tokens": 0, "cached_tokens": 0}}, "prompt_filter_results": [{"prompt_index": 0, "content_filter_results": {"hate": {"filtered": false, "severity": "safe"}, "jailbreak": {"filtered": false, "detected": false}, "self_harm": {"filtered": false, "severity": "safe"}, "sexual": {"filtered": false, "severity": "safe"}, "violence": {"filtered": false, "severity": "safe"}}}]}
python_service-1  | 
python_service-1  | 
python_service-1  | DEBUG:LiteLLM:RAW RESPONSE:
python_service-1  | {"id": "chatcmpl-AziinMgUJbDqZbcCRkfZDTTE0LoJK", "choices": [{"finish_reason": "stop", "index": 0, "logprobs": null, "message": {"content": "```json\n{\n  \"fields\": [\n    \"Pbl. \u00a7 12-5\",\n    \"pbl \u00a7 12-5,nr 1\",\n    \"pbl \u00a7 12-5, nr 2\",\n    \"pbl \u00a7 12-5,2. ledd nr 3\",\n    \"pbl \u00a7 12-7 nr. 10\"\n  ]\n}\n```", "refusal": null, "role": "assistant", "audio": null, "function_call": null, "tool_calls": null}, "content_filter_results": {"hate": {"filtered": false, "severity": "safe"}, "protected_material_code": {"filtered": false, "detected": false}, "protected_material_text": {"filtered": false, "detected": false}, "self_harm": {"filtered": false, "severity": "safe"}, "sexual": {"filtered": false, "severity": "safe"}, "violence": {"filtered": false, "severity": "safe"}}}], "created": 1739273281, "model": "gpt-4o-mini-2024-07-18", "object": "chat.completion", "service_tier": null, "system_fingerprint": "fp_f3927aa00d", "usage": {"completion_tokens": 84, "prompt_tokens": 3976, "total_tokens": 4060, "completion_tokens_details": {"accepted_prediction_tokens": 0, "audio_tokens": 0, "reasoning_tokens": 0, "rejected_prediction_tokens": 0}, "prompt_tokens_details": {"audio_tokens": 0, "cached_tokens": 0}}, "prompt_filter_results": [{"prompt_index": 0, "content_filter_results": {"hate": {"filtered": false, "severity": "safe"}, "jailbreak": {"filtered": false, "detected": false}, "self_harm": {"filtered": false, "severity": "safe"}, "sexual": {"filtered": false, "severity": "safe"}, "violence": {"filtered": false, "severity": "safe"}}}]}
python_service-1  | 
python_service-1  | 
python_service-1  | [92m11:28:02 - LiteLLM:INFO[0m: utils.py:1084 - Wrapper: Completed Call, calling success_handler
python_service-1  | INFO:LiteLLM:Wrapper: Completed Call, calling success_handler
python_service-1  | [92m11:28:02 - LiteLLM:DEBUG[0m: cost_calculator.py:563 - completion_response _select_model_name_for_cost_calc: azure/gpt-4o-mini-2024-07-18
python_service-1  | DEBUG:LiteLLM:completion_response _select_model_name_for_cost_calc: azure/gpt-4o-mini-2024-07-18
python_service-1  | [92m11:28:02 - LiteLLM:DEBUG[0m: litellm_logging.py:1014 - Logging Details LiteLLM-Success Call: Cache_hit=None
python_service-1  | DEBUG:LiteLLM:Logging Details LiteLLM-Success Call: Cache_hit=None
python_service-1  | [92m11:28:02 - LiteLLM:DEBUG[0m: utils.py:4175 - checking potential_model_names in litellm.model_cost: {'split_model': 'gpt-4o-mini-2024-07-18', 'combined_model_name': 'azure/gpt-4o-mini-2024-07-18', 'stripped_model_name': 'gpt-4o-mini-2024-07-18', 'combined_stripped_model_name': 'azure/gpt-4o-mini-2024-07-18', 'custom_llm_provider': 'azure'}
python_service-1  | DEBUG:LiteLLM:checking potential_model_names in litellm.model_cost: {'split_model': 'gpt-4o-mini-2024-07-18', 'combined_model_name': 'azure/gpt-4o-mini-2024-07-18', 'stripped_model_name': 'gpt-4o-mini-2024-07-18', 'combined_stripped_model_name': 'azure/gpt-4o-mini-2024-07-18', 'custom_llm_provider': 'azure'}
python_service-1  | [92m11:28:02 - LiteLLM:DEBUG[0m: cost_calculator.py:563 - completion_response _select_model_name_for_cost_calc: azure/gpt-4o-mini-2024-07-18
python_service-1  | DEBUG:LiteLLM:completion_response _select_model_name_for_cost_calc: azure/gpt-4o-mini-2024-07-18
python_service-1  | [92m11:28:02 - LiteLLM:DEBUG[0m: utils.py:4453 - model_info: {'key': 'azure/gpt-4o-mini-2024-07-18', 'max_tokens': 16384, 'max_input_tokens': 128000, 'max_output_tokens': 16384, 'input_cost_per_token': 1.65e-07, 'cache_creation_input_token_cost': None, 'cache_read_input_token_cost': 7.5e-08, 'input_cost_per_character': None, 'input_cost_per_token_above_128k_tokens': None, 'input_cost_per_query': None, 'input_cost_per_second': None, 'input_cost_per_audio_token': None, 'output_cost_per_token': 6.6e-07, 'output_cost_per_audio_token': None, 'output_cost_per_character': None, 'output_cost_per_token_above_128k_tokens': None, 'output_cost_per_character_above_128k_tokens': None, 'output_cost_per_second': None, 'output_cost_per_image': None, 'output_vector_size': None, 'litellm_provider': 'azure', 'mode': 'chat', 'supports_system_messages': None, 'supports_response_schema': True, 'supports_vision': True, 'supports_function_calling': True, 'supports_tool_choice': True, 'supports_assistant_prefill': False, 'supports_prompt_caching': True, 'supports_audio_input': False, 'supports_audio_output': False, 'supports_pdf_input': False, 'supports_embedding_image_input': False, 'supports_native_streaming': None, 'tpm': None, 'rpm': None}
python_service-1  | DEBUG:LiteLLM:model_info: {'key': 'azure/gpt-4o-mini-2024-07-18', 'max_tokens': 16384, 'max_input_tokens': 128000, 'max_output_tokens': 16384, 'input_cost_per_token': 1.65e-07, 'cache_creation_input_token_cost': None, 'cache_read_input_token_cost': 7.5e-08, 'input_cost_per_character': None, 'input_cost_per_token_above_128k_tokens': None, 'input_cost_per_query': None, 'input_cost_per_second': None, 'input_cost_per_audio_token': None, 'output_cost_per_token': 6.6e-07, 'output_cost_per_audio_token': None, 'output_cost_per_character': None, 'output_cost_per_token_above_128k_tokens': None, 'output_cost_per_character_above_128k_tokens': None, 'output_cost_per_second': None, 'output_cost_per_image': None, 'output_vector_size': None, 'litellm_provider': 'azure', 'mode': 'chat', 'supports_system_messages': None, 'supports_response_schema': True, 'supports_vision': True, 'supports_function_calling': True, 'supports_tool_choice': True, 'supports_assistant_prefill': False, 'supports_prompt_caching': True, 'supports_audio_input': False, 'supports_audio_output': False, 'supports_pdf_input': False, 'supports_embedding_image_input': False, 'supports_native_streaming': None, 'tpm': None, 'rpm': None}
python_service-1  | [92m11:28:02 - LiteLLM:DEBUG[0m: utils.py:4175 - checking potential_model_names in litellm.model_cost: {'split_model': 'gpt-4o-mini-2024-07-18', 'combined_model_name': 'azure/gpt-4o-mini-2024-07-18', 'stripped_model_name': 'gpt-4o-mini-2024-07-18', 'combined_stripped_model_name': 'azure/gpt-4o-mini-2024-07-18', 'custom_llm_provider': 'azure'}
python_service-1  | DEBUG:LiteLLM:checking potential_model_names in litellm.model_cost: {'split_model': 'gpt-4o-mini-2024-07-18', 'combined_model_name': 'azure/gpt-4o-mini-2024-07-18', 'stripped_model_name': 'gpt-4o-mini-2024-07-18', 'combined_stripped_model_name': 'azure/gpt-4o-mini-2024-07-18', 'custom_llm_provider': 'azure'}
python_service-1  | [92m11:28:02 - LiteLLM:DEBUG[0m: litellm_logging.py:846 - response_cost: 0.00071148
python_service-1  | DEBUG:LiteLLM:response_cost: 0.00071148
python_service-1  | DEBUG:app.llm.extractor:Available base codes: set()
python_service-1  | DEBUG:app.llm.extractor:Checking field: pbl ¬ß 12-5, nr 2
python_service-1  | WARNING:app.llm.extractor:No base codes available, using pattern matching
python_service-1  | DEBUG:app.llm.extractor:Checking field: pbl ¬ß 12-7 nr. 10
python_service-1  | WARNING:app.llm.extractor:No base codes available, using pattern matching
python_service-1  | DEBUG:app.llm.extractor:Checking field: pbl ¬ß 12-5,2. ledd nr 3
python_service-1  | WARNING:app.llm.extractor:No base codes available, using pattern matching
python_service-1  | DEBUG:app.llm.extractor:Checking field: Pbl. ¬ß 12-5
python_service-1  | WARNING:app.llm.extractor:No base codes available, using pattern matching
python_service-1  | DEBUG:app.llm.extractor:Checking field: pbl ¬ß 12-5,nr 1
python_service-1  | WARNING:app.llm.extractor:No base codes available, using pattern matching
python_service-1  | [92m11:28:02 - LiteLLM:DEBUG[0m: utils.py:4453 - model_info: {'key': 'azure/gpt-4o-mini-2024-07-18', 'max_tokens': 16384, 'max_input_tokens': 128000, 'max_output_tokens': 16384, 'input_cost_per_token': 1.65e-07, 'cache_creation_input_token_cost': None, 'cache_read_input_token_cost': 7.5e-08, 'input_cost_per_character': None, 'input_cost_per_token_above_128k_tokens': None, 'input_cost_per_query': None, 'input_cost_per_second': None, 'input_cost_per_audio_token': None, 'output_cost_per_token': 6.6e-07, 'output_cost_per_audio_token': None, 'output_cost_per_character': None, 'output_cost_per_token_above_128k_tokens': None, 'output_cost_per_character_above_128k_tokens': None, 'output_cost_per_second': None, 'output_cost_per_image': None, 'output_vector_size': None, 'litellm_provider': 'azure', 'mode': 'chat', 'supports_system_messages': None, 'supports_response_schema': True, 'supports_vision': True, 'supports_function_calling': True, 'supports_tool_choice': True, 'supports_assistant_prefill': False, 'supports_prompt_caching': True, 'supports_audio_input': False, 'supports_audio_output': False, 'supports_pdf_input': False, 'supports_embedding_image_input': False, 'supports_native_streaming': None, 'tpm': None, 'rpm': None}
python_service-1  | DEBUG:LiteLLM:model_info: {'key': 'azure/gpt-4o-mini-2024-07-18', 'max_tokens': 16384, 'max_input_tokens': 128000, 'max_output_tokens': 16384, 'input_cost_per_token': 1.65e-07, 'cache_creation_input_token_cost': None, 'cache_read_input_token_cost': 7.5e-08, 'input_cost_per_character': None, 'input_cost_per_token_above_128k_tokens': None, 'input_cost_per_query': None, 'input_cost_per_second': None, 'input_cost_per_audio_token': None, 'output_cost_per_token': 6.6e-07, 'output_cost_per_audio_token': None, 'output_cost_per_character': None, 'output_cost_per_token_above_128k_tokens': None, 'output_cost_per_character_above_128k_tokens': None, 'output_cost_per_second': None, 'output_cost_per_image': None, 'output_vector_size': None, 'litellm_provider': 'azure', 'mode': 'chat', 'supports_system_messages': None, 'supports_response_schema': True, 'supports_vision': True, 'supports_function_calling': True, 'supports_tool_choice': True, 'supports_assistant_prefill': False, 'supports_prompt_caching': True, 'supports_audio_input': False, 'supports_audio_output': False, 'supports_pdf_input': False, 'supports_embedding_image_input': False, 'supports_native_streaming': None, 'tpm': None, 'rpm': None}
python_service-1  | [92m11:28:02 - LiteLLM:DEBUG[0m: litellm_logging.py:846 - response_cost: 0.00071148
python_service-1  | INFO:app.llm.extractor:Extracted fields: set()
python_service-1  | DEBUG:LiteLLM:response_cost: 0.00071148
python_service-1  | [92m11:28:02 - LiteLLM:DEBUG[0m: utils.py:4175 - checking potential_model_names in litellm.model_cost: {'split_model': 'gpt-4o-mini-2024-07-18', 'combined_model_name': 'azure/gpt-4o-mini-2024-07-18', 'stripped_model_name': 'gpt-4o-mini-2024-07-18', 'combined_stripped_model_name': 'azure/gpt-4o-mini-2024-07-18', 'custom_llm_provider': 'azure'}
python_service-1  | INFO:app.main:Field consistency check completed successfully
python_service-1  | DEBUG:LiteLLM:checking potential_model_names in litellm.model_cost: {'split_model': 'gpt-4o-mini-2024-07-18', 'combined_model_name': 'azure/gpt-4o-mini-2024-07-18', 'stripped_model_name': 'gpt-4o-mini-2024-07-18', 'combined_stripped_model_name': 'azure/gpt-4o-mini-2024-07-18', 'custom_llm_provider': 'azure'}
python_service-1  | INFO:     172.19.0.4:55976 - "POST /api/check-field-consistency HTTP/1.1" 200 OK
python_service-1  | [92m11:28:02 - LiteLLM:DEBUG[0m: utils.py:4453 - model_info: {'key': 'azure/gpt-4o-mini-2024-07-18', 'max_tokens': 16384, 'max_input_tokens': 128000, 'max_output_tokens': 16384, 'input_cost_per_token': 1.65e-07, 'cache_creation_input_token_cost': None, 'cache_read_input_token_cost': 7.5e-08, 'input_cost_per_character': None, 'input_cost_per_token_above_128k_tokens': None, 'input_cost_per_query': None, 'input_cost_per_second': None, 'input_cost_per_audio_token': None, 'output_cost_per_token': 6.6e-07, 'output_cost_per_audio_token': None, 'output_cost_per_character': None, 'output_cost_per_token_above_128k_tokens': None, 'output_cost_per_character_above_128k_tokens': None, 'output_cost_per_second': None, 'output_cost_per_image': None, 'output_vector_size': None, 'litellm_provider': 'azure', 'mode': 'chat', 'supports_system_messages': None, 'supports_response_schema': True, 'supports_vision': True, 'supports_function_calling': True, 'supports_tool_choice': True, 'supports_assistant_prefill': False, 'supports_prompt_caching': True, 'supports_audio_input': False, 'supports_audio_output': False, 'supports_pdf_input': False, 'supports_embedding_image_input': False, 'supports_native_streaming': None, 'tpm': None, 'rpm': None}
python_service-1  | DEBUG:LiteLLM:model_info: {'key': 'azure/gpt-4o-mini-2024-07-18', 'max_tokens': 16384, 'max_input_tokens': 128000, 'max_output_tokens': 16384, 'input_cost_per_token': 1.65e-07, 'cache_creation_input_token_cost': None, 'cache_read_input_token_cost': 7.5e-08, 'input_cost_per_character': None, 'input_cost_per_token_above_128k_tokens': None, 'input_cost_per_query': None, 'input_cost_per_second': None, 'input_cost_per_audio_token': None, 'output_cost_per_token': 6.6e-07, 'output_cost_per_audio_token': None, 'output_cost_per_character': None, 'output_cost_per_token_above_128k_tokens': None, 'output_cost_per_character_above_128k_tokens': None, 'output_cost_per_second': None, 'output_cost_per_image': None, 'output_vector_size': None, 'litellm_provider': 'azure', 'mode': 'chat', 'supports_system_messages': None, 'supports_response_schema': True, 'supports_vision': True, 'supports_function_calling': True, 'supports_tool_choice': True, 'supports_assistant_prefill': False, 'supports_prompt_caching': True, 'supports_audio_input': False, 'supports_audio_output': False, 'supports_pdf_input': False, 'supports_embedding_image_input': False, 'supports_native_streaming': None, 'tpm': None, 'rpm': None}
python_service-1  | [92m11:28:02 - LiteLLM:DEBUG[0m: litellm_logging.py:1040 - Logging Details LiteLLM-Success Call streaming complete
python_service-1  | DEBUG:LiteLLM:Logging Details LiteLLM-Success Call streaming complete
python_service-1  | [92m11:28:02 - LiteLLM:DEBUG[0m: cost_calculator.py:563 - completion_response _select_model_name_for_cost_calc: azure/gpt-4o-mini-2024-07-18
python_service-1  | DEBUG:LiteLLM:completion_response _select_model_name_for_cost_calc: azure/gpt-4o-mini-2024-07-18
python_service-1  | [92m11:28:02 - LiteLLM:DEBUG[0m: utils.py:4175 - checking potential_model_names in litellm.model_cost: {'split_model': 'gpt-4o-mini-2024-07-18', 'combined_model_name': 'azure/gpt-4o-mini-2024-07-18', 'stripped_model_name': 'gpt-4o-mini-2024-07-18', 'combined_stripped_model_name': 'azure/gpt-4o-mini-2024-07-18', 'custom_llm_provider': 'azure'}
python_service-1  | DEBUG:LiteLLM:checking potential_model_names in litellm.model_cost: {'split_model': 'gpt-4o-mini-2024-07-18', 'combined_model_name': 'azure/gpt-4o-mini-2024-07-18', 'stripped_model_name': 'gpt-4o-mini-2024-07-18', 'combined_stripped_model_name': 'azure/gpt-4o-mini-2024-07-18', 'custom_llm_provider': 'azure'}
python_service-1  | [92m11:28:02 - LiteLLM:DEBUG[0m: utils.py:4453 - model_info: {'key': 'azure/gpt-4o-mini-2024-07-18', 'max_tokens': 16384, 'max_input_tokens': 128000, 'max_output_tokens': 16384, 'input_cost_per_token': 1.65e-07, 'cache_creation_input_token_cost': None, 'cache_read_input_token_cost': 7.5e-08, 'input_cost_per_character': None, 'input_cost_per_token_above_128k_tokens': None, 'input_cost_per_query': None, 'input_cost_per_second': None, 'input_cost_per_audio_token': None, 'output_cost_per_token': 6.6e-07, 'output_cost_per_audio_token': None, 'output_cost_per_character': None, 'output_cost_per_token_above_128k_tokens': None, 'output_cost_per_character_above_128k_tokens': None, 'output_cost_per_second': None, 'output_cost_per_image': None, 'output_vector_size': None, 'litellm_provider': 'azure', 'mode': 'chat', 'supports_system_messages': None, 'supports_response_schema': True, 'supports_vision': True, 'supports_function_calling': True, 'supports_tool_choice': True, 'supports_assistant_prefill': False, 'supports_prompt_caching': True, 'supports_audio_input': False, 'supports_audio_output': False, 'supports_pdf_input': False, 'supports_embedding_image_input': False, 'supports_native_streaming': None, 'tpm': None, 'rpm': None}
python_service-1  | DEBUG:LiteLLM:model_info: {'key': 'azure/gpt-4o-mini-2024-07-18', 'max_tokens': 16384, 'max_input_tokens': 128000, 'max_output_tokens': 16384, 'input_cost_per_token': 1.65e-07, 'cache_creation_input_token_cost': None, 'cache_read_input_token_cost': 7.5e-08, 'input_cost_per_character': None, 'input_cost_per_token_above_128k_tokens': None, 'input_cost_per_query': None, 'input_cost_per_second': None, 'input_cost_per_audio_token': None, 'output_cost_per_token': 6.6e-07, 'output_cost_per_audio_token': None, 'output_cost_per_character': None, 'output_cost_per_token_above_128k_tokens': None, 'output_cost_per_character_above_128k_tokens': None, 'output_cost_per_second': None, 'output_cost_per_image': None, 'output_vector_size': None, 'litellm_provider': 'azure', 'mode': 'chat', 'supports_system_messages': None, 'supports_response_schema': True, 'supports_vision': True, 'supports_function_calling': True, 'supports_tool_choice': True, 'supports_assistant_prefill': False, 'supports_prompt_caching': True, 'supports_audio_input': False, 'supports_audio_output': False, 'supports_pdf_input': False, 'supports_embedding_image_input': False, 'supports_native_streaming': None, 'tpm': None, 'rpm': None}
python_service-1  | [92m11:28:02 - LiteLLM:DEBUG[0m: litellm_logging.py:861 - response_cost_failure_debug_information: {'error_str': "'CompletionUsage' object is not subscriptable", 'traceback_str': 'Traceback (most recent call last):\n  File "/usr/local/lib/python3.12/site-packages/litellm/litellm_core_utils/litellm_logging.py", line 843, in _response_cost_calculator\n    response_cost = litellm.response_cost_calculator(\n                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "/usr/local/lib/python3.12/site-packages/litellm/cost_calculator.py", line 833, in response_cost_calculator\n    raise e\n  File "/usr/local/lib/python3.12/site-packages/litellm/cost_calculator.py", line 821, in response_cost_calculator\n    response_cost = completion_cost(\n                    ^^^^^^^^^^^^^^^^\n  File "/usr/local/lib/python3.12/site-packages/litellm/cost_calculator.py", line 771, in completion_cost\n    raise e\n  File "/usr/local/lib/python3.12/site-packages/litellm/cost_calculator.py", line 750, in completion_cost\n    ) = cost_per_token(\n        ^^^^^^^^^^^^^^^\n  File "/usr/local/lib/python3.12/site-packages/litellm/cost_calculator.py", line 279, in cost_per_token\n    return azure_openai_cost_per_token(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "/usr/local/lib/python3.12/site-packages/litellm/llms/azure/cost_calculation.py", line 38, in cost_per_token\n    usage["completion_tokens"] * model_info["output_cost_per_token"]\n    ~~~~~^^^^^^^^^^^^^^^^^^^^^\nTypeError: \'CompletionUsage\' object is not subscriptable\n', 'model': 'gpt-4o-mini', 'cache_hit': None, 'custom_llm_provider': 'azure', 'base_model': None, 'call_type': 'completion', 'custom_pricing': False}
python_service-1  | DEBUG:LiteLLM:response_cost_failure_debug_information: {'error_str': "'CompletionUsage' object is not subscriptable", 'traceback_str': 'Traceback (most recent call last):\n  File "/usr/local/lib/python3.12/site-packages/litellm/litellm_core_utils/litellm_logging.py", line 843, in _response_cost_calculator\n    response_cost = litellm.response_cost_calculator(\n                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "/usr/local/lib/python3.12/site-packages/litellm/cost_calculator.py", line 833, in response_cost_calculator\n    raise e\n  File "/usr/local/lib/python3.12/site-packages/litellm/cost_calculator.py", line 821, in response_cost_calculator\n    response_cost = completion_cost(\n                    ^^^^^^^^^^^^^^^^\n  File "/usr/local/lib/python3.12/site-packages/litellm/cost_calculator.py", line 771, in completion_cost\n    raise e\n  File "/usr/local/lib/python3.12/site-packages/litellm/cost_calculator.py", line 750, in completion_cost\n    ) = cost_per_token(\n        ^^^^^^^^^^^^^^^\n  File "/usr/local/lib/python3.12/site-packages/litellm/cost_calculator.py", line 279, in cost_per_token\n    return azure_openai_cost_per_token(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "/usr/local/lib/python3.12/site-packages/litellm/llms/azure/cost_calculation.py", line 38, in cost_per_token\n    usage["completion_tokens"] * model_info["output_cost_per_token"]\n    ~~~~~^^^^^^^^^^^^^^^^^^^^^\nTypeError: \'CompletionUsage\' object is not subscriptable\n', 'model': 'gpt-4o-mini', 'cache_hit': None, 'custom_llm_provider': 'azure', 'base_model': None, 'call_type': 'completion', 'custom_pricing': False}
python_service-1  | [92m11:28:02 - LiteLLM:DEBUG[0m: utils.py:4175 - checking potential_model_names in litellm.model_cost: {'split_model': 'gpt-4o-mini-2024-07-18', 'combined_model_name': 'azure/gpt-4o-mini-2024-07-18', 'stripped_model_name': 'gpt-4o-mini-2024-07-18', 'combined_stripped_model_name': 'azure/gpt-4o-mini-2024-07-18', 'custom_llm_provider': 'azure'}
python_service-1  | DEBUG:LiteLLM:checking potential_model_names in litellm.model_cost: {'split_model': 'gpt-4o-mini-2024-07-18', 'combined_model_name': 'azure/gpt-4o-mini-2024-07-18', 'stripped_model_name': 'gpt-4o-mini-2024-07-18', 'combined_stripped_model_name': 'azure/gpt-4o-mini-2024-07-18', 'custom_llm_provider': 'azure'}
python_service-1  | [92m11:28:02 - LiteLLM:DEBUG[0m: utils.py:4453 - model_info: {'key': 'azure/gpt-4o-mini-2024-07-18', 'max_tokens': 16384, 'max_input_tokens': 128000, 'max_output_tokens': 16384, 'input_cost_per_token': 1.65e-07, 'cache_creation_input_token_cost': None, 'cache_read_input_token_cost': 7.5e-08, 'input_cost_per_character': None, 'input_cost_per_token_above_128k_tokens': None, 'input_cost_per_query': None, 'input_cost_per_second': None, 'input_cost_per_audio_token': None, 'output_cost_per_token': 6.6e-07, 'output_cost_per_audio_token': None, 'output_cost_per_character': None, 'output_cost_per_token_above_128k_tokens': None, 'output_cost_per_character_above_128k_tokens': None, 'output_cost_per_second': None, 'output_cost_per_image': None, 'output_vector_size': None, 'litellm_provider': 'azure', 'mode': 'chat', 'supports_system_messages': None, 'supports_response_schema': True, 'supports_vision': True, 'supports_function_calling': True, 'supports_tool_choice': True, 'supports_assistant_prefill': False, 'supports_prompt_caching': True, 'supports_audio_input': False, 'supports_audio_output': False, 'supports_pdf_input': False, 'supports_embedding_image_input': False, 'supports_native_streaming': None, 'tpm': None, 'rpm': None}
python_service-1  | DEBUG:LiteLLM:model_info: {'key': 'azure/gpt-4o-mini-2024-07-18', 'max_tokens': 16384, 'max_input_tokens': 128000, 'max_output_tokens': 16384, 'input_cost_per_token': 1.65e-07, 'cache_creation_input_token_cost': None, 'cache_read_input_token_cost': 7.5e-08, 'input_cost_per_character': None, 'input_cost_per_token_above_128k_tokens': None, 'input_cost_per_query': None, 'input_cost_per_second': None, 'input_cost_per_audio_token': None, 'output_cost_per_token': 6.6e-07, 'output_cost_per_audio_token': None, 'output_cost_per_character': None, 'output_cost_per_token_above_128k_tokens': None, 'output_cost_per_character_above_128k_tokens': None, 'output_cost_per_second': None, 'output_cost_per_image': None, 'output_vector_size': None, 'litellm_provider': 'azure', 'mode': 'chat', 'supports_system_messages': None, 'supports_response_schema': True, 'supports_vision': True, 'supports_function_calling': True, 'supports_tool_choice': True, 'supports_assistant_prefill': False, 'supports_prompt_caching': True, 'supports_audio_input': False, 'supports_audio_output': False, 'supports_pdf_input': False, 'supports_embedding_image_input': False, 'supports_native_streaming': None, 'tpm': None, 'rpm': None}
python_service-1  | DEBUG:python_multipart.multipart:Calling on_part_begin with no data
python_service-1  | DEBUG:python_multipart.multipart:Calling on_header_field with data[40:52]
python_service-1  | DEBUG:python_multipart.multipart:Calling on_header_value with data[54:69]
python_service-1  | DEBUG:python_multipart.multipart:Calling on_header_end with no data
python_service-1  | DEBUG:python_multipart.multipart:Calling on_header_field with data[71:90]
python_service-1  | DEBUG:python_multipart.multipart:Calling on_header_value with data[92:226]
python_service-1  | DEBUG:python_multipart.multipart:Calling on_header_end with no data
python_service-1  | DEBUG:python_multipart.multipart:Calling on_headers_finished with no data
python_service-1  | DEBUG:python_multipart.multipart:Calling on_part_data with data[230:32779]
python_service-1  | DEBUG:python_multipart.multipart:Calling on_part_data with data[0:262144]
python_service-1  | DEBUG:python_multipart.multipart:Calling on_part_data with data[0:236336]
python_service-1  | DEBUG:python_multipart.multipart:Calling on_part_data with data[0:2]
python_service-1  | DEBUG:python_multipart.multipart:Calling on_part_end with no data
python_service-1  | DEBUG:python_multipart.multipart:Calling on_part_begin with no data
python_service-1  | DEBUG:python_multipart.multipart:Calling on_header_field with data[42:54]
python_service-1  | DEBUG:python_multipart.multipart:Calling on_header_value with data[56:71]
python_service-1  | DEBUG:python_multipart.multipart:Calling on_header_end with no data
python_service-1  | DEBUG:python_multipart.multipart:Calling on_header_field with data[73:92]
python_service-1  | DEBUG:python_multipart.multipart:Calling on_header_value with data[94:232]
python_service-1  | DEBUG:python_multipart.multipart:Calling on_header_end with no data
python_service-1  | DEBUG:python_multipart.multipart:Calling on_headers_finished with no data
python_service-1  | DEBUG:python_multipart.multipart:Calling on_part_data with data[236:183233]
python_service-1  | DEBUG:python_multipart.multipart:Calling on_part_end with no data
python_service-1  | DEBUG:python_multipart.multipart:Calling on_end with no data
python_service-1  | INFO:app.main:Received files: plankart=fbc7d72c-cd5d-41b8-9d75-cc4ddbc07fb7.pdf, bestemmelser=8def3212-f253-410a-889a-fb0fc53134cb.pdf
python_service-1  | DEBUG:app.llm.extractor:Raw text from PDF: [{'content': 'Alfred Uglands veg\nEvje aktivitetspark\n50/132\n50/40\nGudvangen\n49/70\n49/87\n42/12\n49/78\n49/8050/128\n50/139\n50/101\n50/89\n49/77\n49/83\n50/6650/127 50/151\n42/51\n49/10\n49/82\n49/86\n50/40\n50/40\n50/59\n50/71\n50/132\n50/148\n50/155\n50/158\n50/600\n42/25\n50/637\nBR\nBIA\no_SPA\no_GF3\no_GF1\no_GF2\no_GTD1\no_GTD2\nA=2889 m¬≤\n%-BYA=\n40%\nBKS\nA=3304 m¬≤\n%-BYA=45%\no_SV1\no_SV3\nf_BE\nH220\nH210\n#01 SN√ò\n#02 SN√ò\nPlanert terreng =c+182,0moh\nH320\nVegstenges\no_SF2\no_SF1\n√ò430350\n√ò430425\n√ò430500\n√ò430575\nN6494250\nN6494325 N6494400\nN6494475\nN\n01937.5m\nTegnforklaring\nReguleringsplan PBL 2008\n¬ß12-5. Nr. 1 - Bebyggelse og anlegg\nBoligbebyggelse-konsentrert\nsm√•husbebyggelseBKS\nForsamlingslokale for\nreligionsut√∏velseBR\nIdrettsanleggBIA\nEnergianleggBE\n¬ß12-5. Nr. 2 - Samferdselsanlegg og\nteknisk infrastruktur\nVeg SV\nFortau SF\nParkering SPA\n¬ß12-5. Nr. 3 - Gr√∏nnstruktur\nTurdrag GTD\nFriomr√•deGF\n¬ß12-6 - Hensynssoner\nR√∏d sone iht. T-1442H210\nGul sone iht. T-1442H220\nFlomfare H320\n¬ß12-7 - Bestemmelseomr√•der\nVilk√•r for bruk av arealer, bygninger\nog anlegg #0 SN√ò\nLinjesymbol\nGrense for st√∏ysone\nGrense for faresone\nPlanens begrensning\nForm√•lgrense\nBestemmelsegrense\nByggegrense\nFrisiktlinje\nPunktsymboler\nStenging av avkj√∏rsel\nAvkj√∏rsel - b√•de inn og utkj√∏ring\nKartopplysninger\nKilde for basiskart:\nDato for basiskart:\nKoordinatsystem:\nH√∏ydegrunnlag:\nEkvidistanse:\nKartm√•lestokk:\n1m1:750\nKartverket 05.11.2019\nETRS89.UTM-32N\nNN2000\nDato\nArealplan-ID:\nForslagsstiller:\nSAKS-\nNR\nDATO SIGN\nTEGNNR. DATO SIGN.\nMed tilh√∏rende reguleringsbestemmelser\nSAKSBEHANDLING ETTER PLAN- OG BYGNINGSLOVEN\nPLANEN ER UTARBEIDET AV:\nDato\nDato\nDato\nRevisjon\nRevisjonRevisjon\nKommunestyret sitt vedtak\nDet bekreftes at planen er i samsvar med kommunestyrets vedtak av 16.06.202223.06.2022Siv Therese Kile Lie\nPlansjef\n4219_202102\nDeep Capital Investments AS\n11.05.2022 S√ÖF\n2021/215 \n10.02.22\n18.03.21 \n 04.03.21\nEvje og Hornnes\nkommune\nDetaljregulering\nSt√∏peritomta\nPLANKONSULENT\n2. gangs behandling\nOffentlig ettersyn fra 17.03.2022  til 28.04.2022\n1. gangs behandling i Planutvalget\nKunngj√∏ring av oppstart av planarbeid\nOppstartsm√∏te 04.03.21\n4/22 \n42/22 19.05.22\n16.06.22 59/22 STL\nSTL\nSTL'}]...
python_service-1  | [92m11:28:56 - LiteLLM:DEBUG[0m: utils.py:298 - 
python_service-1  | 
python_service-1  | DEBUG:LiteLLM:
python_service-1  | 
python_service-1  | [92m11:28:56 - LiteLLM:DEBUG[0m: utils.py:298 - [92mRequest to litellm:[0m
python_service-1  | DEBUG:LiteLLM:[92mRequest to litellm:[0m
python_service-1  | [92m11:28:56 - LiteLLM:DEBUG[0m: utils.py:298 - [92mlitellm.completion(messages=[{'role': 'system', 'content': 'You are a server API that receives document information and returns specific fields in JSON format.\n\n\n        As a genius expert, your task is to understand the content and provide\n        the parsed objects in json that match the following json_schema:\n\n\n        {\n  "description": "Contract for field extraction from regulatory documents.\\n\\nDefines the structure and prompt for extracting regulation codes from\\nNorwegian planning documents (plankart and bestemmelser).\\n\\nAttributes:\\n    fields (Set[str]): Set of extracted regulation codes",\n  "properties": {\n    "fields": {\n      "items": {\n        "type": "string"\n      },\n      "title": "Fields",\n      "type": "array",\n      "uniqueItems": true\n    }\n  },\n  "required": [\n    "fields"\n  ],\n  "title": "FieldExtractContract",\n  "type": "object"\n}\n\n        Make sure to return an instance of the JSON, not the schema itself\n'}, {'role': 'user', 'content': '##Content\n\n{content: "Alfred Uglands veg\\nEvje aktivitetspark\\n50/132\\n50/40\\nGudvangen\\n49/70\\n\\\n    49/87\\n42/12\\n49/78\\n49/8050/128\\n50/139\\n50/101\\n50/89\\n49/77\\n49/83\\n50/6650/127\\\n    \\ 50/151\\n42/51\\n49/10\\n49/82\\n49/86\\n50/40\\n50/40\\n50/59\\n50/71\\n50/132\\n50/148\\n\\\n    50/155\\n50/158\\n50/600\\n42/25\\n50/637\\nBR\\nBIA\\no_SPA\\no_GF3\\no_GF1\\no_GF2\\no_GTD1\\n\\\n    o_GTD2\\nA=2889 m\\xB2\\n%-BYA=\\n40%\\nBKS\\nA=3304 m\\xB2\\n%-BYA=45%\\no_SV1\\no_SV3\\n\\\n    f_BE\\nH220\\nH210\\n#01 SN\\xD8\\n#02 SN\\xD8\\nPlanert terreng =c+182,0moh\\nH320\\n\\\n    Vegstenges\\no_SF2\\no_SF1\\n\\xD8430350\\n\\xD8430425\\n\\xD8430500\\n\\xD8430575\\nN6494250\\n\\\n    N6494325 N6494400\\nN6494475\\nN\\n01937.5m\\nTegnforklaring\\nReguleringsplan PBL\\\n    \\ 2008\\n\\xA712-5. Nr. 1 - Bebyggelse og anlegg\\nBoligbebyggelse-konsentrert\\n\\\n    sm\\xE5husbebyggelseBKS\\nForsamlingslokale for\\nreligionsut\\xF8velseBR\\nIdrettsanleggBIA\\n\\\n    EnergianleggBE\\n\\xA712-5. Nr. 2 - Samferdselsanlegg og\\nteknisk infrastruktur\\n\\\n    Veg SV\\nFortau SF\\nParkering SPA\\n\\xA712-5. Nr. 3 - Gr\\xF8nnstruktur\\nTurdrag\\\n    \\ GTD\\nFriomr\\xE5deGF\\n\\xA712-6 - Hensynssoner\\nR\\xF8d sone iht. T-1442H210\\n\\\n    Gul sone iht. T-1442H220\\nFlomfare H320\\n\\xA712-7 - Bestemmelseomr\\xE5der\\nVilk\\xE5\\\n    r for bruk av arealer, bygninger\\nog anlegg #0 SN\\xD8\\nLinjesymbol\\nGrense for\\\n    \\ st\\xF8ysone\\nGrense for faresone\\nPlanens begrensning\\nForm\\xE5lgrense\\nBestemmelsegrense\\n\\\n    Byggegrense\\nFrisiktlinje\\nPunktsymboler\\nStenging av avkj\\xF8rsel\\nAvkj\\xF8rsel\\\n    \\ - b\\xE5de inn og utkj\\xF8ring\\nKartopplysninger\\nKilde for basiskart:\\nDato\\\n    \\ for basiskart:\\nKoordinatsystem:\\nH\\xF8ydegrunnlag:\\nEkvidistanse:\\nKartm\\xE5\\\n    lestokk:\\n1m1:750\\nKartverket 05.11.2019\\nETRS89.UTM-32N\\nNN2000\\nDato\\nArealplan-ID:\\n\\\n    Forslagsstiller:\\nSAKS-\\nNR\\nDATO SIGN\\nTEGNNR. DATO SIGN.\\nMed tilh\\xF8rende\\\n    \\ reguleringsbestemmelser\\nSAKSBEHANDLING ETTER PLAN- OG BYGNINGSLOVEN\\nPLANEN\\\n    \\ ER UTARBEIDET AV:\\nDato\\nDato\\nDato\\nRevisjon\\nRevisjonRevisjon\\nKommunestyret\\\n    \\ sitt vedtak\\nDet bekreftes at planen er i samsvar med kommunestyrets vedtak\\\n    \\ av 16.06.202223.06.2022Siv Therese Kile Lie\\nPlansjef\\n4219_202102\\nDeep Capital\\\n    \\ Investments AS\\n11.05.2022 S\\xC5F\\n2021/215 \\n10.02.22\\n18.03.21 \\n 04.03.21\\n\\\n    Evje og Hornnes\\nkommune\\nDetaljregulering\\nSt\\xF8peritomta\\nPLANKONSULENT\\n2.\\\n    \\ gangs behandling\\nOffentlig ettersyn fra 17.03.2022  til 28.04.2022\\n1. gangs\\\n    \\ behandling i Planutvalget\\nKunngj\\xF8ring av oppstart av planarbeid\\nOppstartsm\\xF8\\\n    te 04.03.21\\n4/22 \\n42/22 19.05.22\\n16.06.22 59/22 STL\\nSTL\\nSTL", images: [],\n  metadata: {num_pages: 1}}\n\n\nReturn the correct JSON response within a ```json codeblock. not the JSON_SCHEMA'}], model='azure/gpt-4o-mini', temperature=0, max_tokens=4000, timeout=3000)[0m
python_service-1  | DEBUG:LiteLLM:[92mlitellm.completion(messages=[{'role': 'system', 'content': 'You are a server API that receives document information and returns specific fields in JSON format.\n\n\n        As a genius expert, your task is to understand the content and provide\n        the parsed objects in json that match the following json_schema:\n\n\n        {\n  "description": "Contract for field extraction from regulatory documents.\\n\\nDefines the structure and prompt for extracting regulation codes from\\nNorwegian planning documents (plankart and bestemmelser).\\n\\nAttributes:\\n    fields (Set[str]): Set of extracted regulation codes",\n  "properties": {\n    "fields": {\n      "items": {\n        "type": "string"\n      },\n      "title": "Fields",\n      "type": "array",\n      "uniqueItems": true\n    }\n  },\n  "required": [\n    "fields"\n  ],\n  "title": "FieldExtractContract",\n  "type": "object"\n}\n\n        Make sure to return an instance of the JSON, not the schema itself\n'}, {'role': 'user', 'content': '##Content\n\n{content: "Alfred Uglands veg\\nEvje aktivitetspark\\n50/132\\n50/40\\nGudvangen\\n49/70\\n\\\n    49/87\\n42/12\\n49/78\\n49/8050/128\\n50/139\\n50/101\\n50/89\\n49/77\\n49/83\\n50/6650/127\\\n    \\ 50/151\\n42/51\\n49/10\\n49/82\\n49/86\\n50/40\\n50/40\\n50/59\\n50/71\\n50/132\\n50/148\\n\\\n    50/155\\n50/158\\n50/600\\n42/25\\n50/637\\nBR\\nBIA\\no_SPA\\no_GF3\\no_GF1\\no_GF2\\no_GTD1\\n\\\n    o_GTD2\\nA=2889 m\\xB2\\n%-BYA=\\n40%\\nBKS\\nA=3304 m\\xB2\\n%-BYA=45%\\no_SV1\\no_SV3\\n\\\n    f_BE\\nH220\\nH210\\n#01 SN\\xD8\\n#02 SN\\xD8\\nPlanert terreng =c+182,0moh\\nH320\\n\\\n    Vegstenges\\no_SF2\\no_SF1\\n\\xD8430350\\n\\xD8430425\\n\\xD8430500\\n\\xD8430575\\nN6494250\\n\\\n    N6494325 N6494400\\nN6494475\\nN\\n01937.5m\\nTegnforklaring\\nReguleringsplan PBL\\\n    \\ 2008\\n\\xA712-5. Nr. 1 - Bebyggelse og anlegg\\nBoligbebyggelse-konsentrert\\n\\\n    sm\\xE5husbebyggelseBKS\\nForsamlingslokale for\\nreligionsut\\xF8velseBR\\nIdrettsanleggBIA\\n\\\n    EnergianleggBE\\n\\xA712-5. Nr. 2 - Samferdselsanlegg og\\nteknisk infrastruktur\\n\\\n    Veg SV\\nFortau SF\\nParkering SPA\\n\\xA712-5. Nr. 3 - Gr\\xF8nnstruktur\\nTurdrag\\\n    \\ GTD\\nFriomr\\xE5deGF\\n\\xA712-6 - Hensynssoner\\nR\\xF8d sone iht. T-1442H210\\n\\\n    Gul sone iht. T-1442H220\\nFlomfare H320\\n\\xA712-7 - Bestemmelseomr\\xE5der\\nVilk\\xE5\\\n    r for bruk av arealer, bygninger\\nog anlegg #0 SN\\xD8\\nLinjesymbol\\nGrense for\\\n    \\ st\\xF8ysone\\nGrense for faresone\\nPlanens begrensning\\nForm\\xE5lgrense\\nBestemmelsegrense\\n\\\n    Byggegrense\\nFrisiktlinje\\nPunktsymboler\\nStenging av avkj\\xF8rsel\\nAvkj\\xF8rsel\\\n    \\ - b\\xE5de inn og utkj\\xF8ring\\nKartopplysninger\\nKilde for basiskart:\\nDato\\\n    \\ for basiskart:\\nKoordinatsystem:\\nH\\xF8ydegrunnlag:\\nEkvidistanse:\\nKartm\\xE5\\\n    lestokk:\\n1m1:750\\nKartverket 05.11.2019\\nETRS89.UTM-32N\\nNN2000\\nDato\\nArealplan-ID:\\n\\\n    Forslagsstiller:\\nSAKS-\\nNR\\nDATO SIGN\\nTEGNNR. DATO SIGN.\\nMed tilh\\xF8rende\\\n    \\ reguleringsbestemmelser\\nSAKSBEHANDLING ETTER PLAN- OG BYGNINGSLOVEN\\nPLANEN\\\n    \\ ER UTARBEIDET AV:\\nDato\\nDato\\nDato\\nRevisjon\\nRevisjonRevisjon\\nKommunestyret\\\n    \\ sitt vedtak\\nDet bekreftes at planen er i samsvar med kommunestyrets vedtak\\\n    \\ av 16.06.202223.06.2022Siv Therese Kile Lie\\nPlansjef\\n4219_202102\\nDeep Capital\\\n    \\ Investments AS\\n11.05.2022 S\\xC5F\\n2021/215 \\n10.02.22\\n18.03.21 \\n 04.03.21\\n\\\n    Evje og Hornnes\\nkommune\\nDetaljregulering\\nSt\\xF8peritomta\\nPLANKONSULENT\\n2.\\\n    \\ gangs behandling\\nOffentlig ettersyn fra 17.03.2022  til 28.04.2022\\n1. gangs\\\n    \\ behandling i Planutvalget\\nKunngj\\xF8ring av oppstart av planarbeid\\nOppstartsm\\xF8\\\n    te 04.03.21\\n4/22 \\n42/22 19.05.22\\n16.06.22 59/22 STL\\nSTL\\nSTL", images: [],\n  metadata: {num_pages: 1}}\n\n\nReturn the correct JSON response within a ```json codeblock. not the JSON_SCHEMA'}], model='azure/gpt-4o-mini', temperature=0, max_tokens=4000, timeout=3000)[0m
python_service-1  | [92m11:28:56 - LiteLLM:DEBUG[0m: utils.py:298 - 
python_service-1  | 
python_service-1  | DEBUG:LiteLLM:
python_service-1  | 
python_service-1  | [92m11:28:56 - LiteLLM:DEBUG[0m: litellm_logging.py:377 - self.optional_params: {}
python_service-1  | DEBUG:LiteLLM:self.optional_params: {}
python_service-1  | [92m11:28:56 - LiteLLM:DEBUG[0m: utils.py:298 - SYNC kwargs[caching]: False; litellm.cache: None; kwargs.get('cache')['no-cache']: False
python_service-1  | DEBUG:LiteLLM:SYNC kwargs[caching]: False; litellm.cache: None; kwargs.get('cache')['no-cache']: False
python_service-1  | [92m11:28:56 - LiteLLM:DEBUG[0m: transformation.py:126 - Translating developer role to system role for non-OpenAI providers.
python_service-1  | DEBUG:LiteLLM:Translating developer role to system role for non-OpenAI providers.
python_service-1  | [92m11:28:56 - LiteLLM:INFO[0m: utils.py:2905 - 
python_service-1  | LiteLLM completion() model= gpt-4o-mini; provider = azure
python_service-1  | INFO:LiteLLM:
python_service-1  | LiteLLM completion() model= gpt-4o-mini; provider = azure
python_service-1  | [92m11:28:56 - LiteLLM:DEBUG[0m: utils.py:2908 - 
python_service-1  | LiteLLM: Params passed to completion() {'model': 'gpt-4o-mini', 'functions': None, 'function_call': None, 'temperature': 0, 'top_p': None, 'n': None, 'stream': None, 'stream_options': None, 'stop': None, 'max_tokens': 4000, 'max_completion_tokens': None, 'modalities': None, 'prediction': None, 'audio': None, 'presence_penalty': None, 'frequency_penalty': None, 'logit_bias': None, 'user': None, 'custom_llm_provider': 'azure', 'response_format': None, 'seed': None, 'tools': None, 'tool_choice': None, 'max_retries': None, 'logprobs': None, 'top_logprobs': None, 'extra_headers': None, 'api_version': None, 'parallel_tool_calls': None, 'drop_params': None, 'reasoning_effort': None, 'additional_drop_params': None, 'messages': [{'role': 'system', 'content': 'You are a server API that receives document information and returns specific fields in JSON format.\n\n\n        As a genius expert, your task is to understand the content and provide\n        the parsed objects in json that match the following json_schema:\n\n\n        {\n  "description": "Contract for field extraction from regulatory documents.\\n\\nDefines the structure and prompt for extracting regulation codes from\\nNorwegian planning documents (plankart and bestemmelser).\\n\\nAttributes:\\n    fields (Set[str]): Set of extracted regulation codes",\n  "properties": {\n    "fields": {\n      "items": {\n        "type": "string"\n      },\n      "title": "Fields",\n      "type": "array",\n      "uniqueItems": true\n    }\n  },\n  "required": [\n    "fields"\n  ],\n  "title": "FieldExtractContract",\n  "type": "object"\n}\n\n        Make sure to return an instance of the JSON, not the schema itself\n'}, {'role': 'user', 'content': '##Content\n\n{content: "Alfred Uglands veg\\nEvje aktivitetspark\\n50/132\\n50/40\\nGudvangen\\n49/70\\n\\\n    49/87\\n42/12\\n49/78\\n49/8050/128\\n50/139\\n50/101\\n50/89\\n49/77\\n49/83\\n50/6650/127\\\n    \\ 50/151\\n42/51\\n49/10\\n49/82\\n49/86\\n50/40\\n50/40\\n50/59\\n50/71\\n50/132\\n50/148\\n\\\n    50/155\\n50/158\\n50/600\\n42/25\\n50/637\\nBR\\nBIA\\no_SPA\\no_GF3\\no_GF1\\no_GF2\\no_GTD1\\n\\\n    o_GTD2\\nA=2889 m\\xB2\\n%-BYA=\\n40%\\nBKS\\nA=3304 m\\xB2\\n%-BYA=45%\\no_SV1\\no_SV3\\n\\\n    f_BE\\nH220\\nH210\\n#01 SN\\xD8\\n#02 SN\\xD8\\nPlanert terreng =c+182,0moh\\nH320\\n\\\n    Vegstenges\\no_SF2\\no_SF1\\n\\xD8430350\\n\\xD8430425\\n\\xD8430500\\n\\xD8430575\\nN6494250\\n\\\n    N6494325 N6494400\\nN6494475\\nN\\n01937.5m\\nTegnforklaring\\nReguleringsplan PBL\\\n    \\ 2008\\n\\xA712-5. Nr. 1 - Bebyggelse og anlegg\\nBoligbebyggelse-konsentrert\\n\\\n    sm\\xE5husbebyggelseBKS\\nForsamlingslokale for\\nreligionsut\\xF8velseBR\\nIdrettsanleggBIA\\n\\\n    EnergianleggBE\\n\\xA712-5. Nr. 2 - Samferdselsanlegg og\\nteknisk infrastruktur\\n\\\n    Veg SV\\nFortau SF\\nParkering SPA\\n\\xA712-5. Nr. 3 - Gr\\xF8nnstruktur\\nTurdrag\\\n    \\ GTD\\nFriomr\\xE5deGF\\n\\xA712-6 - Hensynssoner\\nR\\xF8d sone iht. T-1442H210\\n\\\n    Gul sone iht. T-1442H220\\nFlomfare H320\\n\\xA712-7 - Bestemmelseomr\\xE5der\\nVilk\\xE5\\\n    r for bruk av arealer, bygninger\\nog anlegg #0 SN\\xD8\\nLinjesymbol\\nGrense for\\\n    \\ st\\xF8ysone\\nGrense for faresone\\nPlanens begrensning\\nForm\\xE5lgrense\\nBestemmelsegrense\\n\\\n    Byggegrense\\nFrisiktlinje\\nPunktsymboler\\nStenging av avkj\\xF8rsel\\nAvkj\\xF8rsel\\\n    \\ - b\\xE5de inn og utkj\\xF8ring\\nKartopplysninger\\nKilde for basiskart:\\nDato\\\n    \\ for basiskart:\\nKoordinatsystem:\\nH\\xF8ydegrunnlag:\\nEkvidistanse:\\nKartm\\xE5\\\n    lestokk:\\n1m1:750\\nKartverket 05.11.2019\\nETRS89.UTM-32N\\nNN2000\\nDato\\nArealplan-ID:\\n\\\n    Forslagsstiller:\\nSAKS-\\nNR\\nDATO SIGN\\nTEGNNR. DATO SIGN.\\nMed tilh\\xF8rende\\\n    \\ reguleringsbestemmelser\\nSAKSBEHANDLING ETTER PLAN- OG BYGNINGSLOVEN\\nPLANEN\\\n    \\ ER UTARBEIDET AV:\\nDato\\nDato\\nDato\\nRevisjon\\nRevisjonRevisjon\\nKommunestyret\\\n    \\ sitt vedtak\\nDet bekreftes at planen er i samsvar med kommunestyrets vedtak\\\n    \\ av 16.06.202223.06.2022Siv Therese Kile Lie\\nPlansjef\\n4219_202102\\nDeep Capital\\\n    \\ Investments AS\\n11.05.2022 S\\xC5F\\n2021/215 \\n10.02.22\\n18.03.21 \\n 04.03.21\\n\\\n    Evje og Hornnes\\nkommune\\nDetaljregulering\\nSt\\xF8peritomta\\nPLANKONSULENT\\n2.\\\n    \\ gangs behandling\\nOffentlig ettersyn fra 17.03.2022  til 28.04.2022\\n1. gangs\\\n    \\ behandling i Planutvalget\\nKunngj\\xF8ring av oppstart av planarbeid\\nOppstartsm\\xF8\\\n    te 04.03.21\\n4/22 \\n42/22 19.05.22\\n16.06.22 59/22 STL\\nSTL\\nSTL", images: [],\n  metadata: {num_pages: 1}}\n\n\nReturn the correct JSON response within a ```json codeblock. not the JSON_SCHEMA'}]}
python_service-1  | DEBUG:LiteLLM:
python_service-1  | LiteLLM: Params passed to completion() {'model': 'gpt-4o-mini', 'functions': None, 'function_call': None, 'temperature': 0, 'top_p': None, 'n': None, 'stream': None, 'stream_options': None, 'stop': None, 'max_tokens': 4000, 'max_completion_tokens': None, 'modalities': None, 'prediction': None, 'audio': None, 'presence_penalty': None, 'frequency_penalty': None, 'logit_bias': None, 'user': None, 'custom_llm_provider': 'azure', 'response_format': None, 'seed': None, 'tools': None, 'tool_choice': None, 'max_retries': None, 'logprobs': None, 'top_logprobs': None, 'extra_headers': None, 'api_version': None, 'parallel_tool_calls': None, 'drop_params': None, 'reasoning_effort': None, 'additional_drop_params': None, 'messages': [{'role': 'system', 'content': 'You are a server API that receives document information and returns specific fields in JSON format.\n\n\n        As a genius expert, your task is to understand the content and provide\n        the parsed objects in json that match the following json_schema:\n\n\n        {\n  "description": "Contract for field extraction from regulatory documents.\\n\\nDefines the structure and prompt for extracting regulation codes from\\nNorwegian planning documents (plankart and bestemmelser).\\n\\nAttributes:\\n    fields (Set[str]): Set of extracted regulation codes",\n  "properties": {\n    "fields": {\n      "items": {\n        "type": "string"\n      },\n      "title": "Fields",\n      "type": "array",\n      "uniqueItems": true\n    }\n  },\n  "required": [\n    "fields"\n  ],\n  "title": "FieldExtractContract",\n  "type": "object"\n}\n\n        Make sure to return an instance of the JSON, not the schema itself\n'}, {'role': 'user', 'content': '##Content\n\n{content: "Alfred Uglands veg\\nEvje aktivitetspark\\n50/132\\n50/40\\nGudvangen\\n49/70\\n\\\n    49/87\\n42/12\\n49/78\\n49/8050/128\\n50/139\\n50/101\\n50/89\\n49/77\\n49/83\\n50/6650/127\\\n    \\ 50/151\\n42/51\\n49/10\\n49/82\\n49/86\\n50/40\\n50/40\\n50/59\\n50/71\\n50/132\\n50/148\\n\\\n    50/155\\n50/158\\n50/600\\n42/25\\n50/637\\nBR\\nBIA\\no_SPA\\no_GF3\\no_GF1\\no_GF2\\no_GTD1\\n\\\n    o_GTD2\\nA=2889 m\\xB2\\n%-BYA=\\n40%\\nBKS\\nA=3304 m\\xB2\\n%-BYA=45%\\no_SV1\\no_SV3\\n\\\n    f_BE\\nH220\\nH210\\n#01 SN\\xD8\\n#02 SN\\xD8\\nPlanert terreng =c+182,0moh\\nH320\\n\\\n    Vegstenges\\no_SF2\\no_SF1\\n\\xD8430350\\n\\xD8430425\\n\\xD8430500\\n\\xD8430575\\nN6494250\\n\\\n    N6494325 N6494400\\nN6494475\\nN\\n01937.5m\\nTegnforklaring\\nReguleringsplan PBL\\\n    \\ 2008\\n\\xA712-5. Nr. 1 - Bebyggelse og anlegg\\nBoligbebyggelse-konsentrert\\n\\\n    sm\\xE5husbebyggelseBKS\\nForsamlingslokale for\\nreligionsut\\xF8velseBR\\nIdrettsanleggBIA\\n\\\n    EnergianleggBE\\n\\xA712-5. Nr. 2 - Samferdselsanlegg og\\nteknisk infrastruktur\\n\\\n    Veg SV\\nFortau SF\\nParkering SPA\\n\\xA712-5. Nr. 3 - Gr\\xF8nnstruktur\\nTurdrag\\\n    \\ GTD\\nFriomr\\xE5deGF\\n\\xA712-6 - Hensynssoner\\nR\\xF8d sone iht. T-1442H210\\n\\\n    Gul sone iht. T-1442H220\\nFlomfare H320\\n\\xA712-7 - Bestemmelseomr\\xE5der\\nVilk\\xE5\\\n    r for bruk av arealer, bygninger\\nog anlegg #0 SN\\xD8\\nLinjesymbol\\nGrense for\\\n    \\ st\\xF8ysone\\nGrense for faresone\\nPlanens begrensning\\nForm\\xE5lgrense\\nBestemmelsegrense\\n\\\n    Byggegrense\\nFrisiktlinje\\nPunktsymboler\\nStenging av avkj\\xF8rsel\\nAvkj\\xF8rsel\\\n    \\ - b\\xE5de inn og utkj\\xF8ring\\nKartopplysninger\\nKilde for basiskart:\\nDato\\\n    \\ for basiskart:\\nKoordinatsystem:\\nH\\xF8ydegrunnlag:\\nEkvidistanse:\\nKartm\\xE5\\\n    lestokk:\\n1m1:750\\nKartverket 05.11.2019\\nETRS89.UTM-32N\\nNN2000\\nDato\\nArealplan-ID:\\n\\\n    Forslagsstiller:\\nSAKS-\\nNR\\nDATO SIGN\\nTEGNNR. DATO SIGN.\\nMed tilh\\xF8rende\\\n    \\ reguleringsbestemmelser\\nSAKSBEHANDLING ETTER PLAN- OG BYGNINGSLOVEN\\nPLANEN\\\n    \\ ER UTARBEIDET AV:\\nDato\\nDato\\nDato\\nRevisjon\\nRevisjonRevisjon\\nKommunestyret\\\n    \\ sitt vedtak\\nDet bekreftes at planen er i samsvar med kommunestyrets vedtak\\\n    \\ av 16.06.202223.06.2022Siv Therese Kile Lie\\nPlansjef\\n4219_202102\\nDeep Capital\\\n    \\ Investments AS\\n11.05.2022 S\\xC5F\\n2021/215 \\n10.02.22\\n18.03.21 \\n 04.03.21\\n\\\n    Evje og Hornnes\\nkommune\\nDetaljregulering\\nSt\\xF8peritomta\\nPLANKONSULENT\\n2.\\\n    \\ gangs behandling\\nOffentlig ettersyn fra 17.03.2022  til 28.04.2022\\n1. gangs\\\n    \\ behandling i Planutvalget\\nKunngj\\xF8ring av oppstart av planarbeid\\nOppstartsm\\xF8\\\n    te 04.03.21\\n4/22 \\n42/22 19.05.22\\n16.06.22 59/22 STL\\nSTL\\nSTL", images: [],\n  metadata: {num_pages: 1}}\n\n\nReturn the correct JSON response within a ```json codeblock. not the JSON_SCHEMA'}]}
python_service-1  | [92m11:28:56 - LiteLLM:DEBUG[0m: utils.py:2911 - 
python_service-1  | LiteLLM: Non-Default params passed to completion() {'temperature': 0, 'max_tokens': 4000}
python_service-1  | DEBUG:LiteLLM:
python_service-1  | LiteLLM: Non-Default params passed to completion() {'temperature': 0, 'max_tokens': 4000}
python_service-1  | [92m11:28:56 - LiteLLM:DEBUG[0m: utils.py:3511 - Azure optional params - api_version: api_version=None, litellm.api_version=2024-08-01-preview, os.environ['AZURE_API_VERSION']=None
python_service-1  | DEBUG:LiteLLM:Azure optional params - api_version: api_version=None, litellm.api_version=2024-08-01-preview, os.environ['AZURE_API_VERSION']=None
python_service-1  | [92m11:28:56 - LiteLLM:DEBUG[0m: utils.py:298 - Final returned optional params: {'temperature': 0, 'max_tokens': 4000, 'extra_body': {}}
python_service-1  | DEBUG:LiteLLM:Final returned optional params: {'temperature': 0, 'max_tokens': 4000, 'extra_body': {}}
python_service-1  | [92m11:28:56 - LiteLLM:DEBUG[0m: litellm_logging.py:377 - self.optional_params: {'temperature': 0, 'max_tokens': 4000, 'extra_body': {}}
python_service-1  | DEBUG:LiteLLM:self.optional_params: {'temperature': 0, 'max_tokens': 4000, 'extra_body': {}}
python_service-1  | [92m11:28:56 - LiteLLM:DEBUG[0m: litellm_logging.py:634 - [92m
python_service-1  | 
python_service-1  | POST Request Sent from LiteLLM:
python_service-1  | curl -X POST \
python_service-1  | https://kartai-openai.openai.azure.com \
python_service-1  | -H 'api_key: Dm20Qg2RomLirlz8icux5Y3XavqI2BfAwmuOdjuI********************************************' -H 'azure_ad_token: *****' \
python_service-1  | -d '{'model': 'gpt-4o-mini', 'messages': [{'role': 'system', 'content': 'You are a server API that receives document information and returns specific fields in JSON format.\n\n\n        As a genius expert, your task is to understand the content and provide\n        the parsed objects in json that match the following json_schema:\n\n\n        {\n  "description": "Contract for field extraction from regulatory documents.\\n\\nDefines the structure and prompt for extracting regulation codes from\\nNorwegian planning documents (plankart and bestemmelser).\\n\\nAttributes:\\n    fields (Set[str]): Set of extracted regulation codes",\n  "properties": {\n    "fields": {\n      "items": {\n        "type": "string"\n      },\n      "title": "Fields",\n      "type": "array",\n      "uniqueItems": true\n    }\n  },\n  "required": [\n    "fields"\n  ],\n  "title": "FieldExtractContract",\n  "type": "object"\n}\n\n        Make sure to return an instance of the JSON, not the schema itself\n'}, {'role': 'user', 'content': '##Content\n\n{content: "Alfred Uglands veg\\nEvje aktivitetspark\\n50/132\\n50/40\\nGudvangen\\n49/70\\n\\\n    49/87\\n42/12\\n49/78\\n49/8050/128\\n50/139\\n50/101\\n50/89\\n49/77\\n49/83\\n50/6650/127\\\n    \\ 50/151\\n42/51\\n49/10\\n49/82\\n49/86\\n50/40\\n50/40\\n50/59\\n50/71\\n50/132\\n50/148\\n\\\n    50/155\\n50/158\\n50/600\\n42/25\\n50/637\\nBR\\nBIA\\no_SPA\\no_GF3\\no_GF1\\no_GF2\\no_GTD1\\n\\\n    o_GTD2\\nA=2889 m\\xB2\\n%-BYA=\\n40%\\nBKS\\nA=3304 m\\xB2\\n%-BYA=45%\\no_SV1\\no_SV3\\n\\\n    f_BE\\nH220\\nH210\\n#01 SN\\xD8\\n#02 SN\\xD8\\nPlanert terreng =c+182,0moh\\nH320\\n\\\n    Vegstenges\\no_SF2\\no_SF1\\n\\xD8430350\\n\\xD8430425\\n\\xD8430500\\n\\xD8430575\\nN6494250\\n\\\n    N6494325 N6494400\\nN6494475\\nN\\n01937.5m\\nTegnforklaring\\nReguleringsplan PBL\\\n    \\ 2008\\n\\xA712-5. Nr. 1 - Bebyggelse og anlegg\\nBoligbebyggelse-konsentrert\\n\\\n    sm\\xE5husbebyggelseBKS\\nForsamlingslokale for\\nreligionsut\\xF8velseBR\\nIdrettsanleggBIA\\n\\\n    EnergianleggBE\\n\\xA712-5. Nr. 2 - Samferdselsanlegg og\\nteknisk infrastruktur\\n\\\n    Veg SV\\nFortau SF\\nParkering SPA\\n\\xA712-5. Nr. 3 - Gr\\xF8nnstruktur\\nTurdrag\\\n    \\ GTD\\nFriomr\\xE5deGF\\n\\xA712-6 - Hensynssoner\\nR\\xF8d sone iht. T-1442H210\\n\\\n    Gul sone iht. T-1442H220\\nFlomfare H320\\n\\xA712-7 - Bestemmelseomr\\xE5der\\nVilk\\xE5\\\n    r for bruk av arealer, bygninger\\nog anlegg #0 SN\\xD8\\nLinjesymbol\\nGrense for\\\n    \\ st\\xF8ysone\\nGrense for faresone\\nPlanens begrensning\\nForm\\xE5lgrense\\nBestemmelsegrense\\n\\\n    Byggegrense\\nFrisiktlinje\\nPunktsymboler\\nStenging av avkj\\xF8rsel\\nAvkj\\xF8rsel\\\n    \\ - b\\xE5de inn og utkj\\xF8ring\\nKartopplysninger\\nKilde for basiskart:\\nDato\\\n    \\ for basiskart:\\nKoordinatsystem:\\nH\\xF8ydegrunnlag:\\nEkvidistanse:\\nKartm\\xE5\\\n    lestokk:\\n1m1:750\\nKartverket 05.11.2019\\nETRS89.UTM-32N\\nNN2000\\nDato\\nArealplan-ID:\\n\\\n    Forslagsstiller:\\nSAKS-\\nNR\\nDATO SIGN\\nTEGNNR. DATO SIGN.\\nMed tilh\\xF8rende\\\n    \\ reguleringsbestemmelser\\nSAKSBEHANDLING ETTER PLAN- OG BYGNINGSLOVEN\\nPLANEN\\\n    \\ ER UTARBEIDET AV:\\nDato\\nDato\\nDato\\nRevisjon\\nRevisjonRevisjon\\nKommunestyret\\\n    \\ sitt vedtak\\nDet bekreftes at planen er i samsvar med kommunestyrets vedtak\\\n    \\ av 16.06.202223.06.2022Siv Therese Kile Lie\\nPlansjef\\n4219_202102\\nDeep Capital\\\n    \\ Investments AS\\n11.05.2022 S\\xC5F\\n2021/215 \\n10.02.22\\n18.03.21 \\n 04.03.21\\n\\\n    Evje og Hornnes\\nkommune\\nDetaljregulering\\nSt\\xF8peritomta\\nPLANKONSULENT\\n2.\\\n    \\ gangs behandling\\nOffentlig ettersyn fra 17.03.2022  til 28.04.2022\\n1. gangs\\\n    \\ behandling i Planutvalget\\nKunngj\\xF8ring av oppstart av planarbeid\\nOppstartsm\\xF8\\\n    te 04.03.21\\n4/22 \\n42/22 19.05.22\\n16.06.22 59/22 STL\\nSTL\\nSTL", images: [],\n  metadata: {num_pages: 1}}\n\n\nReturn the correct JSON response within a ```json codeblock. not the JSON_SCHEMA'}], 'temperature': 0, 'max_tokens': 4000, 'extra_body': {}}'
python_service-1  | [0m
python_service-1  | 
python_service-1  | DEBUG:LiteLLM:[92m
python_service-1  | 
python_service-1  | POST Request Sent from LiteLLM:
python_service-1  | curl -X POST \
python_service-1  | https://kartai-openai.openai.azure.com \
python_service-1  | -H 'api_key: Dm20Qg2RomLirlz8icux5Y3XavqI2BfAwmuOdjuI********************************************' -H 'azure_ad_token: *****' \
python_service-1  | -d '{'model': 'gpt-4o-mini', 'messages': [{'role': 'system', 'content': 'You are a server API that receives document information and returns specific fields in JSON format.\n\n\n        As a genius expert, your task is to understand the content and provide\n        the parsed objects in json that match the following json_schema:\n\n\n        {\n  "description": "Contract for field extraction from regulatory documents.\\n\\nDefines the structure and prompt for extracting regulation codes from\\nNorwegian planning documents (plankart and bestemmelser).\\n\\nAttributes:\\n    fields (Set[str]): Set of extracted regulation codes",\n  "properties": {\n    "fields": {\n      "items": {\n        "type": "string"\n      },\n      "title": "Fields",\n      "type": "array",\n      "uniqueItems": true\n    }\n  },\n  "required": [\n    "fields"\n  ],\n  "title": "FieldExtractContract",\n  "type": "object"\n}\n\n        Make sure to return an instance of the JSON, not the schema itself\n'}, {'role': 'user', 'content': '##Content\n\n{content: "Alfred Uglands veg\\nEvje aktivitetspark\\n50/132\\n50/40\\nGudvangen\\n49/70\\n\\\n    49/87\\n42/12\\n49/78\\n49/8050/128\\n50/139\\n50/101\\n50/89\\n49/77\\n49/83\\n50/6650/127\\\n    \\ 50/151\\n42/51\\n49/10\\n49/82\\n49/86\\n50/40\\n50/40\\n50/59\\n50/71\\n50/132\\n50/148\\n\\\n    50/155\\n50/158\\n50/600\\n42/25\\n50/637\\nBR\\nBIA\\no_SPA\\no_GF3\\no_GF1\\no_GF2\\no_GTD1\\n\\\n    o_GTD2\\nA=2889 m\\xB2\\n%-BYA=\\n40%\\nBKS\\nA=3304 m\\xB2\\n%-BYA=45%\\no_SV1\\no_SV3\\n\\\n    f_BE\\nH220\\nH210\\n#01 SN\\xD8\\n#02 SN\\xD8\\nPlanert terreng =c+182,0moh\\nH320\\n\\\n    Vegstenges\\no_SF2\\no_SF1\\n\\xD8430350\\n\\xD8430425\\n\\xD8430500\\n\\xD8430575\\nN6494250\\n\\\n    N6494325 N6494400\\nN6494475\\nN\\n01937.5m\\nTegnforklaring\\nReguleringsplan PBL\\\n    \\ 2008\\n\\xA712-5. Nr. 1 - Bebyggelse og anlegg\\nBoligbebyggelse-konsentrert\\n\\\n    sm\\xE5husbebyggelseBKS\\nForsamlingslokale for\\nreligionsut\\xF8velseBR\\nIdrettsanleggBIA\\n\\\n    EnergianleggBE\\n\\xA712-5. Nr. 2 - Samferdselsanlegg og\\nteknisk infrastruktur\\n\\\n    Veg SV\\nFortau SF\\nParkering SPA\\n\\xA712-5. Nr. 3 - Gr\\xF8nnstruktur\\nTurdrag\\\n    \\ GTD\\nFriomr\\xE5deGF\\n\\xA712-6 - Hensynssoner\\nR\\xF8d sone iht. T-1442H210\\n\\\n    Gul sone iht. T-1442H220\\nFlomfare H320\\n\\xA712-7 - Bestemmelseomr\\xE5der\\nVilk\\xE5\\\n    r for bruk av arealer, bygninger\\nog anlegg #0 SN\\xD8\\nLinjesymbol\\nGrense for\\\n    \\ st\\xF8ysone\\nGrense for faresone\\nPlanens begrensning\\nForm\\xE5lgrense\\nBestemmelsegrense\\n\\\n    Byggegrense\\nFrisiktlinje\\nPunktsymboler\\nStenging av avkj\\xF8rsel\\nAvkj\\xF8rsel\\\n    \\ - b\\xE5de inn og utkj\\xF8ring\\nKartopplysninger\\nKilde for basiskart:\\nDato\\\n    \\ for basiskart:\\nKoordinatsystem:\\nH\\xF8ydegrunnlag:\\nEkvidistanse:\\nKartm\\xE5\\\n    lestokk:\\n1m1:750\\nKartverket 05.11.2019\\nETRS89.UTM-32N\\nNN2000\\nDato\\nArealplan-ID:\\n\\\n    Forslagsstiller:\\nSAKS-\\nNR\\nDATO SIGN\\nTEGNNR. DATO SIGN.\\nMed tilh\\xF8rende\\\n    \\ reguleringsbestemmelser\\nSAKSBEHANDLING ETTER PLAN- OG BYGNINGSLOVEN\\nPLANEN\\\n    \\ ER UTARBEIDET AV:\\nDato\\nDato\\nDato\\nRevisjon\\nRevisjonRevisjon\\nKommunestyret\\\n    \\ sitt vedtak\\nDet bekreftes at planen er i samsvar med kommunestyrets vedtak\\\n    \\ av 16.06.202223.06.2022Siv Therese Kile Lie\\nPlansjef\\n4219_202102\\nDeep Capital\\\n    \\ Investments AS\\n11.05.2022 S\\xC5F\\n2021/215 \\n10.02.22\\n18.03.21 \\n 04.03.21\\n\\\n    Evje og Hornnes\\nkommune\\nDetaljregulering\\nSt\\xF8peritomta\\nPLANKONSULENT\\n2.\\\n    \\ gangs behandling\\nOffentlig ettersyn fra 17.03.2022  til 28.04.2022\\n1. gangs\\\n    \\ behandling i Planutvalget\\nKunngj\\xF8ring av oppstart av planarbeid\\nOppstartsm\\xF8\\\n    te 04.03.21\\n4/22 \\n42/22 19.05.22\\n16.06.22 59/22 STL\\nSTL\\nSTL", images: [],\n  metadata: {num_pages: 1}}\n\n\nReturn the correct JSON response within a ```json codeblock. not the JSON_SCHEMA'}], 'temperature': 0, 'max_tokens': 4000, 'extra_body': {}}'
python_service-1  | [0m
python_service-1  | 
python_service-1  | [92m11:29:04 - LiteLLM:DEBUG[0m: utils.py:298 - RAW RESPONSE:
python_service-1  | {"id": "chatcmpl-Azijm7FYJrwqeMm7rckW1oen2RcOs", "choices": [{"finish_reason": "stop", "index": 0, "logprobs": null, "message": {"content": "```json\n{\n  \"fields\": [\n    \"50/132\",\n    \"50/40\",\n    \"49/70\",\n    \"49/87\",\n    \"42/12\",\n    \"49/78\",\n    \"49/80\",\n    \"50/128\",\n    \"50/139\",\n    \"50/101\",\n    \"50/89\",\n    \"49/77\",\n    \"49/83\",\n    \"50/66\",\n    \"50/127\",\n    \"50/151\",\n    \"42/51\",\n    \"49/10\",\n    \"49/82\",\n    \"49/86\",\n    \"50/40\",\n    \"50/40\",\n    \"50/59\",\n    \"50/71\",\n    \"50/132\",\n    \"50/148\",\n    \"50/155\",\n    \"50/158\",\n    \"50/600\",\n    \"42/25\",\n    \"50/637\",\n    \"BR\",\n    \"BIA\",\n    \"o_SPA\",\n    \"o_GF3\",\n    \"o_GF1\",\n    \"o_GF2\",\n    \"o_GTD1\",\n    \"o_GTD2\",\n    \"H220\",\n    \"H210\",\n    \"#01 SN\u00d8\",\n    \"#02 SN\u00d8\",\n    \"H320\",\n    \"o_SF2\",\n    \"o_SF1\",\n    \"N6494250\",\n    \"N6494325\",\n    \"N6494400\",\n    \"N6494475\",\n    \"SN\u00d8\",\n    \"T-1442H210\",\n    \"T-1442H220\",\n    \"H320\",\n    \"SN\u00d8\"\n  ]\n}\n```", "refusal": null, "role": "assistant", "audio": null, "function_call": null, "tool_calls": null}, "content_filter_results": {"hate": {"filtered": false, "severity": "safe"}, "protected_material_code": {"filtered": false, "detected": false}, "protected_material_text": {"filtered": false, "detected": false}, "self_harm": {"filtered": false, "severity": "safe"}, "sexual": {"filtered": false, "severity": "safe"}, "violence": {"filtered": false, "severity": "safe"}}}], "created": 1739273342, "model": "gpt-4o-mini-2024-07-18", "object": "chat.completion", "service_tier": null, "system_fingerprint": "fp_f3927aa00d", "usage": {"completion_tokens": 348, "prompt_tokens": 1367, "total_tokens": 1715, "completion_tokens_details": {"accepted_prediction_tokens": 0, "audio_tokens": 0, "reasoning_tokens": 0, "rejected_prediction_tokens": 0}, "prompt_tokens_details": {"audio_tokens": 0, "cached_tokens": 0}}, "prompt_filter_results": [{"prompt_index": 0, "content_filter_results": {"hate": {"filtered": false, "severity": "safe"}, "jailbreak": {"filtered": false, "detected": false}, "self_harm": {"filtered": false, "severity": "safe"}, "sexual": {"filtered": false, "severity": "safe"}, "violence": {"filtered": false, "severity": "safe"}}}]}
python_service-1  | 
python_service-1  | 
python_service-1  | DEBUG:LiteLLM:RAW RESPONSE:
python_service-1  | {"id": "chatcmpl-Azijm7FYJrwqeMm7rckW1oen2RcOs", "choices": [{"finish_reason": "stop", "index": 0, "logprobs": null, "message": {"content": "```json\n{\n  \"fields\": [\n    \"50/132\",\n    \"50/40\",\n    \"49/70\",\n    \"49/87\",\n    \"42/12\",\n    \"49/78\",\n    \"49/80\",\n    \"50/128\",\n    \"50/139\",\n    \"50/101\",\n    \"50/89\",\n    \"49/77\",\n    \"49/83\",\n    \"50/66\",\n    \"50/127\",\n    \"50/151\",\n    \"42/51\",\n    \"49/10\",\n    \"49/82\",\n    \"49/86\",\n    \"50/40\",\n    \"50/40\",\n    \"50/59\",\n    \"50/71\",\n    \"50/132\",\n    \"50/148\",\n    \"50/155\",\n    \"50/158\",\n    \"50/600\",\n    \"42/25\",\n    \"50/637\",\n    \"BR\",\n    \"BIA\",\n    \"o_SPA\",\n    \"o_GF3\",\n    \"o_GF1\",\n    \"o_GF2\",\n    \"o_GTD1\",\n    \"o_GTD2\",\n    \"H220\",\n    \"H210\",\n    \"#01 SN\u00d8\",\n    \"#02 SN\u00d8\",\n    \"H320\",\n    \"o_SF2\",\n    \"o_SF1\",\n    \"N6494250\",\n    \"N6494325\",\n    \"N6494400\",\n    \"N6494475\",\n    \"SN\u00d8\",\n    \"T-1442H210\",\n    \"T-1442H220\",\n    \"H320\",\n    \"SN\u00d8\"\n  ]\n}\n```", "refusal": null, "role": "assistant", "audio": null, "function_call": null, "tool_calls": null}, "content_filter_results": {"hate": {"filtered": false, "severity": "safe"}, "protected_material_code": {"filtered": false, "detected": false}, "protected_material_text": {"filtered": false, "detected": false}, "self_harm": {"filtered": false, "severity": "safe"}, "sexual": {"filtered": false, "severity": "safe"}, "violence": {"filtered": false, "severity": "safe"}}}], "created": 1739273342, "model": "gpt-4o-mini-2024-07-18", "object": "chat.completion", "service_tier": null, "system_fingerprint": "fp_f3927aa00d", "usage": {"completion_tokens": 348, "prompt_tokens": 1367, "total_tokens": 1715, "completion_tokens_details": {"accepted_prediction_tokens": 0, "audio_tokens": 0, "reasoning_tokens": 0, "rejected_prediction_tokens": 0}, "prompt_tokens_details": {"audio_tokens": 0, "cached_tokens": 0}}, "prompt_filter_results": [{"prompt_index": 0, "content_filter_results": {"hate": {"filtered": false, "severity": "safe"}, "jailbreak": {"filtered": false, "detected": false}, "self_harm": {"filtered": false, "severity": "safe"}, "sexual": {"filtered": false, "severity": "safe"}, "violence": {"filtered": false, "severity": "safe"}}}]}
python_service-1  | 
python_service-1  | 
python_service-1  | [92m11:29:04 - LiteLLM:INFO[0m: utils.py:1084 - Wrapper: Completed Call, calling success_handler
python_service-1  | INFO:LiteLLM:Wrapper: Completed Call, calling success_handler
python_service-1  | [92m11:29:04 - LiteLLM:DEBUG[0m: cost_calculator.py:563 - completion_response _select_model_name_for_cost_calc: azure/gpt-4o-mini-2024-07-18
python_service-1  | DEBUG:LiteLLM:completion_response _select_model_name_for_cost_calc: azure/gpt-4o-mini-2024-07-18
python_service-1  | [92m11:29:04 - LiteLLM:DEBUG[0m: utils.py:4175 - checking potential_model_names in litellm.model_cost: {'split_model': 'gpt-4o-mini-2024-07-18', 'combined_model_name': 'azure/gpt-4o-mini-2024-07-18', 'stripped_model_name': 'gpt-4o-mini-2024-07-18', 'combined_stripped_model_name': 'azure/gpt-4o-mini-2024-07-18', 'custom_llm_provider': 'azure'}
python_service-1  | DEBUG:LiteLLM:checking potential_model_names in litellm.model_cost: {'split_model': 'gpt-4o-mini-2024-07-18', 'combined_model_name': 'azure/gpt-4o-mini-2024-07-18', 'stripped_model_name': 'gpt-4o-mini-2024-07-18', 'combined_stripped_model_name': 'azure/gpt-4o-mini-2024-07-18', 'custom_llm_provider': 'azure'}
python_service-1  | [92m11:29:04 - LiteLLM:DEBUG[0m: litellm_logging.py:1014 - Logging Details LiteLLM-Success Call: Cache_hit=None
python_service-1  | DEBUG:LiteLLM:Logging Details LiteLLM-Success Call: Cache_hit=None
python_service-1  | [92m11:29:04 - LiteLLM:DEBUG[0m: utils.py:4453 - model_info: {'key': 'azure/gpt-4o-mini-2024-07-18', 'max_tokens': 16384, 'max_input_tokens': 128000, 'max_output_tokens': 16384, 'input_cost_per_token': 1.65e-07, 'cache_creation_input_token_cost': None, 'cache_read_input_token_cost': 7.5e-08, 'input_cost_per_character': None, 'input_cost_per_token_above_128k_tokens': None, 'input_cost_per_query': None, 'input_cost_per_second': None, 'input_cost_per_audio_token': None, 'output_cost_per_token': 6.6e-07, 'output_cost_per_audio_token': None, 'output_cost_per_character': None, 'output_cost_per_token_above_128k_tokens': None, 'output_cost_per_character_above_128k_tokens': None, 'output_cost_per_second': None, 'output_cost_per_image': None, 'output_vector_size': None, 'litellm_provider': 'azure', 'mode': 'chat', 'supports_system_messages': None, 'supports_response_schema': True, 'supports_vision': True, 'supports_function_calling': True, 'supports_tool_choice': True, 'supports_assistant_prefill': False, 'supports_prompt_caching': True, 'supports_audio_input': False, 'supports_audio_output': False, 'supports_pdf_input': False, 'supports_embedding_image_input': False, 'supports_native_streaming': None, 'tpm': None, 'rpm': None}
python_service-1  | DEBUG:LiteLLM:model_info: {'key': 'azure/gpt-4o-mini-2024-07-18', 'max_tokens': 16384, 'max_input_tokens': 128000, 'max_output_tokens': 16384, 'input_cost_per_token': 1.65e-07, 'cache_creation_input_token_cost': None, 'cache_read_input_token_cost': 7.5e-08, 'input_cost_per_character': None, 'input_cost_per_token_above_128k_tokens': None, 'input_cost_per_query': None, 'input_cost_per_second': None, 'input_cost_per_audio_token': None, 'output_cost_per_token': 6.6e-07, 'output_cost_per_audio_token': None, 'output_cost_per_character': None, 'output_cost_per_token_above_128k_tokens': None, 'output_cost_per_character_above_128k_tokens': None, 'output_cost_per_second': None, 'output_cost_per_image': None, 'output_vector_size': None, 'litellm_provider': 'azure', 'mode': 'chat', 'supports_system_messages': None, 'supports_response_schema': True, 'supports_vision': True, 'supports_function_calling': True, 'supports_tool_choice': True, 'supports_assistant_prefill': False, 'supports_prompt_caching': True, 'supports_audio_input': False, 'supports_audio_output': False, 'supports_pdf_input': False, 'supports_embedding_image_input': False, 'supports_native_streaming': None, 'tpm': None, 'rpm': None}
python_service-1  | [92m11:29:04 - LiteLLM:DEBUG[0m: cost_calculator.py:563 - completion_response _select_model_name_for_cost_calc: azure/gpt-4o-mini-2024-07-18
python_service-1  | DEBUG:LiteLLM:completion_response _select_model_name_for_cost_calc: azure/gpt-4o-mini-2024-07-18
python_service-1  | [92m11:29:04 - LiteLLM:DEBUG[0m: litellm_logging.py:846 - response_cost: 0.000455235
python_service-1  | DEBUG:LiteLLM:response_cost: 0.000455235
python_service-1  | [92m11:29:04 - LiteLLM:DEBUG[0m: utils.py:4175 - checking potential_model_names in litellm.model_cost: {'split_model': 'gpt-4o-mini-2024-07-18', 'combined_model_name': 'azure/gpt-4o-mini-2024-07-18', 'stripped_model_name': 'gpt-4o-mini-2024-07-18', 'combined_stripped_model_name': 'azure/gpt-4o-mini-2024-07-18', 'custom_llm_provider': 'azure'}
python_service-1  | DEBUG:LiteLLM:checking potential_model_names in litellm.model_cost: {'split_model': 'gpt-4o-mini-2024-07-18', 'combined_model_name': 'azure/gpt-4o-mini-2024-07-18', 'stripped_model_name': 'gpt-4o-mini-2024-07-18', 'combined_stripped_model_name': 'azure/gpt-4o-mini-2024-07-18', 'custom_llm_provider': 'azure'}
python_service-1  | [92m11:29:04 - LiteLLM:DEBUG[0m: utils.py:4453 - model_info: {'key': 'azure/gpt-4o-mini-2024-07-18', 'max_tokens': 16384, 'max_input_tokens': 128000, 'max_output_tokens': 16384, 'input_cost_per_token': 1.65e-07, 'cache_creation_input_token_cost': None, 'cache_read_input_token_cost': 7.5e-08, 'input_cost_per_character': None, 'input_cost_per_token_above_128k_tokens': None, 'input_cost_per_query': None, 'input_cost_per_second': None, 'input_cost_per_audio_token': None, 'output_cost_per_token': 6.6e-07, 'output_cost_per_audio_token': None, 'output_cost_per_character': None, 'output_cost_per_token_above_128k_tokens': None, 'output_cost_per_character_above_128k_tokens': None, 'output_cost_per_second': None, 'output_cost_per_image': None, 'output_vector_size': None, 'litellm_provider': 'azure', 'mode': 'chat', 'supports_system_messages': None, 'supports_response_schema': True, 'supports_vision': True, 'supports_function_calling': True, 'supports_tool_choice': True, 'supports_assistant_prefill': False, 'supports_prompt_caching': True, 'supports_audio_input': False, 'supports_audio_output': False, 'supports_pdf_input': False, 'supports_embedding_image_input': False, 'supports_native_streaming': None, 'tpm': None, 'rpm': None}
python_service-1  | DEBUG:app.llm.extractor:Available base codes: set()
python_service-1  | DEBUG:app.llm.extractor:Checking field: 42/25
python_service-1  | WARNING:app.llm.extractor:No base codes available, using pattern matching
python_service-1  | DEBUG:app.llm.extractor:Checking field: 50/139
python_service-1  | WARNING:app.llm.extractor:No base codes available, using pattern matching
python_service-1  | DEBUG:LiteLLM:model_info: {'key': 'azure/gpt-4o-mini-2024-07-18', 'max_tokens': 16384, 'max_input_tokens': 128000, 'max_output_tokens': 16384, 'input_cost_per_token': 1.65e-07, 'cache_creation_input_token_cost': None, 'cache_read_input_token_cost': 7.5e-08, 'input_cost_per_character': None, 'input_cost_per_token_above_128k_tokens': None, 'input_cost_per_query': None, 'input_cost_per_second': None, 'input_cost_per_audio_token': None, 'output_cost_per_token': 6.6e-07, 'output_cost_per_audio_token': None, 'output_cost_per_character': None, 'output_cost_per_token_above_128k_tokens': None, 'output_cost_per_character_above_128k_tokens': None, 'output_cost_per_second': None, 'output_cost_per_image': None, 'output_vector_size': None, 'litellm_provider': 'azure', 'mode': 'chat', 'supports_system_messages': None, 'supports_response_schema': True, 'supports_vision': True, 'supports_function_calling': True, 'supports_tool_choice': True, 'supports_assistant_prefill': False, 'supports_prompt_caching': True, 'supports_audio_input': False, 'supports_audio_output': False, 'supports_pdf_input': False, 'supports_embedding_image_input': False, 'supports_native_streaming': None, 'tpm': None, 'rpm': None}
python_service-1  | [92m11:29:04 - LiteLLM:DEBUG[0m: litellm_logging.py:846 - response_cost: 0.000455235
python_service-1  | DEBUG:app.llm.extractor:Checking field: o_GF2
python_service-1  | DEBUG:LiteLLM:response_cost: 0.000455235
python_service-1  | [92m11:29:04 - LiteLLM:DEBUG[0m: utils.py:4175 - checking potential_model_names in litellm.model_cost: {'split_model': 'gpt-4o-mini-2024-07-18', 'combined_model_name': 'azure/gpt-4o-mini-2024-07-18', 'stripped_model_name': 'gpt-4o-mini-2024-07-18', 'combined_stripped_model_name': 'azure/gpt-4o-mini-2024-07-18', 'custom_llm_provider': 'azure'}
python_service-1  | WARNING:app.llm.extractor:No base codes available, using pattern matching
python_service-1  | DEBUG:LiteLLM:checking potential_model_names in litellm.model_cost: {'split_model': 'gpt-4o-mini-2024-07-18', 'combined_model_name': 'azure/gpt-4o-mini-2024-07-18', 'stripped_model_name': 'gpt-4o-mini-2024-07-18', 'combined_stripped_model_name': 'azure/gpt-4o-mini-2024-07-18', 'custom_llm_provider': 'azure'}
python_service-1  | [92m11:29:04 - LiteLLM:DEBUG[0m: utils.py:4453 - model_info: {'key': 'azure/gpt-4o-mini-2024-07-18', 'max_tokens': 16384, 'max_input_tokens': 128000, 'max_output_tokens': 16384, 'input_cost_per_token': 1.65e-07, 'cache_creation_input_token_cost': None, 'cache_read_input_token_cost': 7.5e-08, 'input_cost_per_character': None, 'input_cost_per_token_above_128k_tokens': None, 'input_cost_per_query': None, 'input_cost_per_second': None, 'input_cost_per_audio_token': None, 'output_cost_per_token': 6.6e-07, 'output_cost_per_audio_token': None, 'output_cost_per_character': None, 'output_cost_per_token_above_128k_tokens': None, 'output_cost_per_character_above_128k_tokens': None, 'output_cost_per_second': None, 'output_cost_per_image': None, 'output_vector_size': None, 'litellm_provider': 'azure', 'mode': 'chat', 'supports_system_messages': None, 'supports_response_schema': True, 'supports_vision': True, 'supports_function_calling': True, 'supports_tool_choice': True, 'supports_assistant_prefill': False, 'supports_prompt_caching': True, 'supports_audio_input': False, 'supports_audio_output': False, 'supports_pdf_input': False, 'supports_embedding_image_input': False, 'supports_native_streaming': None, 'tpm': None, 'rpm': None}
python_service-1  | DEBUG:app.llm.extractor:Added valid code: o_GF2
python_service-1  | DEBUG:LiteLLM:model_info: {'key': 'azure/gpt-4o-mini-2024-07-18', 'max_tokens': 16384, 'max_input_tokens': 128000, 'max_output_tokens': 16384, 'input_cost_per_token': 1.65e-07, 'cache_creation_input_token_cost': None, 'cache_read_input_token_cost': 7.5e-08, 'input_cost_per_character': None, 'input_cost_per_token_above_128k_tokens': None, 'input_cost_per_query': None, 'input_cost_per_second': None, 'input_cost_per_audio_token': None, 'output_cost_per_token': 6.6e-07, 'output_cost_per_audio_token': None, 'output_cost_per_character': None, 'output_cost_per_token_above_128k_tokens': None, 'output_cost_per_character_above_128k_tokens': None, 'output_cost_per_second': None, 'output_cost_per_image': None, 'output_vector_size': None, 'litellm_provider': 'azure', 'mode': 'chat', 'supports_system_messages': None, 'supports_response_schema': True, 'supports_vision': True, 'supports_function_calling': True, 'supports_tool_choice': True, 'supports_assistant_prefill': False, 'supports_prompt_caching': True, 'supports_audio_input': False, 'supports_audio_output': False, 'supports_pdf_input': False, 'supports_embedding_image_input': False, 'supports_native_streaming': None, 'tpm': None, 'rpm': None}
python_service-1  | [92m11:29:04 - LiteLLM:DEBUG[0m: litellm_logging.py:1040 - Logging Details LiteLLM-Success Call streaming complete
python_service-1  | DEBUG:app.llm.extractor:Checking field: 49/80
python_service-1  | DEBUG:LiteLLM:Logging Details LiteLLM-Success Call streaming complete
python_service-1  | [92m11:29:04 - LiteLLM:DEBUG[0m: cost_calculator.py:563 - completion_response _select_model_name_for_cost_calc: azure/gpt-4o-mini-2024-07-18
python_service-1  | WARNING:app.llm.extractor:No base codes available, using pattern matching
python_service-1  | DEBUG:app.llm.extractor:Checking field: o_GTD2
python_service-1  | WARNING:app.llm.extractor:No base codes available, using pattern matching
python_service-1  | DEBUG:app.llm.extractor:Added valid code: o_GTD2
python_service-1  | DEBUG:app.llm.extractor:Checking field: 49/83
python_service-1  | WARNING:app.llm.extractor:No base codes available, using pattern matching
python_service-1  | DEBUG:app.llm.extractor:Checking field: 49/78
python_service-1  | WARNING:app.llm.extractor:No base codes available, using pattern matching
python_service-1  | DEBUG:app.llm.extractor:Checking field: N6494475
python_service-1  | WARNING:app.llm.extractor:No base codes available, using pattern matching
python_service-1  | DEBUG:app.llm.extractor:Checking field: 50/600
python_service-1  | WARNING:app.llm.extractor:No base codes available, using pattern matching
python_service-1  | DEBUG:app.llm.extractor:Checking field: H210
python_service-1  | WARNING:app.llm.extractor:No base codes available, using pattern matching
python_service-1  | DEBUG:app.llm.extractor:Checking field: 50/127
python_service-1  | WARNING:app.llm.extractor:No base codes available, using pattern matching
python_service-1  | DEBUG:app.llm.extractor:Checking field: 50/148
python_service-1  | WARNING:app.llm.extractor:No base codes available, using pattern matching
python_service-1  | DEBUG:app.llm.extractor:Checking field: o_GF1
python_service-1  | WARNING:app.llm.extractor:No base codes available, using pattern matching
python_service-1  | DEBUG:app.llm.extractor:Added valid code: o_GF1
python_service-1  | DEBUG:app.llm.extractor:Checking field: T-1442H220
python_service-1  | DEBUG:LiteLLM:completion_response _select_model_name_for_cost_calc: azure/gpt-4o-mini-2024-07-18
python_service-1  | [92m11:29:04 - LiteLLM:DEBUG[0m: utils.py:4175 - checking potential_model_names in litellm.model_cost: {'split_model': 'gpt-4o-mini-2024-07-18', 'combined_model_name': 'azure/gpt-4o-mini-2024-07-18', 'stripped_model_name': 'gpt-4o-mini-2024-07-18', 'combined_stripped_model_name': 'azure/gpt-4o-mini-2024-07-18', 'custom_llm_provider': 'azure'}
python_service-1  | WARNING:app.llm.extractor:No base codes available, using pattern matching
python_service-1  | DEBUG:LiteLLM:checking potential_model_names in litellm.model_cost: {'split_model': 'gpt-4o-mini-2024-07-18', 'combined_model_name': 'azure/gpt-4o-mini-2024-07-18', 'stripped_model_name': 'gpt-4o-mini-2024-07-18', 'combined_stripped_model_name': 'azure/gpt-4o-mini-2024-07-18', 'custom_llm_provider': 'azure'}
python_service-1  | [92m11:29:04 - LiteLLM:DEBUG[0m: utils.py:4453 - model_info: {'key': 'azure/gpt-4o-mini-2024-07-18', 'max_tokens': 16384, 'max_input_tokens': 128000, 'max_output_tokens': 16384, 'input_cost_per_token': 1.65e-07, 'cache_creation_input_token_cost': None, 'cache_read_input_token_cost': 7.5e-08, 'input_cost_per_character': None, 'input_cost_per_token_above_128k_tokens': None, 'input_cost_per_query': None, 'input_cost_per_second': None, 'input_cost_per_audio_token': None, 'output_cost_per_token': 6.6e-07, 'output_cost_per_audio_token': None, 'output_cost_per_character': None, 'output_cost_per_token_above_128k_tokens': None, 'output_cost_per_character_above_128k_tokens': None, 'output_cost_per_second': None, 'output_cost_per_image': None, 'output_vector_size': None, 'litellm_provider': 'azure', 'mode': 'chat', 'supports_system_messages': None, 'supports_response_schema': True, 'supports_vision': True, 'supports_function_calling': True, 'supports_tool_choice': True, 'supports_assistant_prefill': False, 'supports_prompt_caching': True, 'supports_audio_input': False, 'supports_audio_output': False, 'supports_pdf_input': False, 'supports_embedding_image_input': False, 'supports_native_streaming': None, 'tpm': None, 'rpm': None}
python_service-1  | DEBUG:app.llm.extractor:Checking field: 50/59
python_service-1  | WARNING:app.llm.extractor:No base codes available, using pattern matching
python_service-1  | DEBUG:LiteLLM:model_info: {'key': 'azure/gpt-4o-mini-2024-07-18', 'max_tokens': 16384, 'max_input_tokens': 128000, 'max_output_tokens': 16384, 'input_cost_per_token': 1.65e-07, 'cache_creation_input_token_cost': None, 'cache_read_input_token_cost': 7.5e-08, 'input_cost_per_character': None, 'input_cost_per_token_above_128k_tokens': None, 'input_cost_per_query': None, 'input_cost_per_second': None, 'input_cost_per_audio_token': None, 'output_cost_per_token': 6.6e-07, 'output_cost_per_audio_token': None, 'output_cost_per_character': None, 'output_cost_per_token_above_128k_tokens': None, 'output_cost_per_character_above_128k_tokens': None, 'output_cost_per_second': None, 'output_cost_per_image': None, 'output_vector_size': None, 'litellm_provider': 'azure', 'mode': 'chat', 'supports_system_messages': None, 'supports_response_schema': True, 'supports_vision': True, 'supports_function_calling': True, 'supports_tool_choice': True, 'supports_assistant_prefill': False, 'supports_prompt_caching': True, 'supports_audio_input': False, 'supports_audio_output': False, 'supports_pdf_input': False, 'supports_embedding_image_input': False, 'supports_native_streaming': None, 'tpm': None, 'rpm': None}
python_service-1  | [92m11:29:04 - LiteLLM:DEBUG[0m: litellm_logging.py:861 - response_cost_failure_debug_information: {'error_str': "'CompletionUsage' object is not subscriptable", 'traceback_str': 'Traceback (most recent call last):\n  File "/usr/local/lib/python3.12/site-packages/litellm/litellm_core_utils/litellm_logging.py", line 843, in _response_cost_calculator\n    response_cost = litellm.response_cost_calculator(\n                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "/usr/local/lib/python3.12/site-packages/litellm/cost_calculator.py", line 833, in response_cost_calculator\n    raise e\n  File "/usr/local/lib/python3.12/site-packages/litellm/cost_calculator.py", line 821, in response_cost_calculator\n    response_cost = completion_cost(\n                    ^^^^^^^^^^^^^^^^\n  File "/usr/local/lib/python3.12/site-packages/litellm/cost_calculator.py", line 771, in completion_cost\n    raise e\n  File "/usr/local/lib/python3.12/site-packages/litellm/cost_calculator.py", line 750, in completion_cost\n    ) = cost_per_token(\n        ^^^^^^^^^^^^^^^\n  File "/usr/local/lib/python3.12/site-packages/litellm/cost_calculator.py", line 279, in cost_per_token\n    return azure_openai_cost_per_token(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "/usr/local/lib/python3.12/site-packages/litellm/llms/azure/cost_calculation.py", line 38, in cost_per_token\n    usage["completion_tokens"] * model_info["output_cost_per_token"]\n    ~~~~~^^^^^^^^^^^^^^^^^^^^^\nTypeError: \'CompletionUsage\' object is not subscriptable\n', 'model': 'gpt-4o-mini', 'cache_hit': None, 'custom_llm_provider': 'azure', 'base_model': None, 'call_type': 'completion', 'custom_pricing': False}
python_service-1  | DEBUG:app.llm.extractor:Checking field: 50/155
python_service-1  | DEBUG:LiteLLM:response_cost_failure_debug_information: {'error_str': "'CompletionUsage' object is not subscriptable", 'traceback_str': 'Traceback (most recent call last):\n  File "/usr/local/lib/python3.12/site-packages/litellm/litellm_core_utils/litellm_logging.py", line 843, in _response_cost_calculator\n    response_cost = litellm.response_cost_calculator(\n                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "/usr/local/lib/python3.12/site-packages/litellm/cost_calculator.py", line 833, in response_cost_calculator\n    raise e\n  File "/usr/local/lib/python3.12/site-packages/litellm/cost_calculator.py", line 821, in response_cost_calculator\n    response_cost = completion_cost(\n                    ^^^^^^^^^^^^^^^^\n  File "/usr/local/lib/python3.12/site-packages/litellm/cost_calculator.py", line 771, in completion_cost\n    raise e\n  File "/usr/local/lib/python3.12/site-packages/litellm/cost_calculator.py", line 750, in completion_cost\n    ) = cost_per_token(\n        ^^^^^^^^^^^^^^^\n  File "/usr/local/lib/python3.12/site-packages/litellm/cost_calculator.py", line 279, in cost_per_token\n    return azure_openai_cost_per_token(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "/usr/local/lib/python3.12/site-packages/litellm/llms/azure/cost_calculation.py", line 38, in cost_per_token\n    usage["completion_tokens"] * model_info["output_cost_per_token"]\n    ~~~~~^^^^^^^^^^^^^^^^^^^^^\nTypeError: \'CompletionUsage\' object is not subscriptable\n', 'model': 'gpt-4o-mini', 'cache_hit': None, 'custom_llm_provider': 'azure', 'base_model': None, 'call_type': 'completion', 'custom_pricing': False}
python_service-1  | [92m11:29:04 - LiteLLM:DEBUG[0m: utils.py:4175 - checking potential_model_names in litellm.model_cost: {'split_model': 'gpt-4o-mini-2024-07-18', 'combined_model_name': 'azure/gpt-4o-mini-2024-07-18', 'stripped_model_name': 'gpt-4o-mini-2024-07-18', 'combined_stripped_model_name': 'azure/gpt-4o-mini-2024-07-18', 'custom_llm_provider': 'azure'}
python_service-1  | WARNING:app.llm.extractor:No base codes available, using pattern matching
python_service-1  | DEBUG:app.llm.extractor:Checking field: 50/151
python_service-1  | WARNING:app.llm.extractor:No base codes available, using pattern matching
python_service-1  | DEBUG:app.llm.extractor:Checking field: 50/101
python_service-1  | WARNING:app.llm.extractor:No base codes available, using pattern matching
python_service-1  | DEBUG:app.llm.extractor:Checking field: #02 SN√ò
python_service-1  | WARNING:app.llm.extractor:No base codes available, using pattern matching
python_service-1  | DEBUG:app.llm.extractor:Checking field: N6494250
python_service-1  | WARNING:app.llm.extractor:No base codes available, using pattern matching
python_service-1  | DEBUG:app.llm.extractor:Checking field: 42/12
python_service-1  | WARNING:app.llm.extractor:No base codes available, using pattern matching
python_service-1  | DEBUG:app.llm.extractor:Checking field: 49/87
python_service-1  | WARNING:app.llm.extractor:No base codes available, using pattern matching
python_service-1  | DEBUG:app.llm.extractor:Checking field: 49/70
python_service-1  | WARNING:app.llm.extractor:No base codes available, using pattern matching
python_service-1  | DEBUG:app.llm.extractor:Checking field: o_SPA
python_service-1  | WARNING:app.llm.extractor:No base codes available, using pattern matching
python_service-1  | DEBUG:app.llm.extractor:Added valid code: o_SPA
python_service-1  | DEBUG:app.llm.extractor:Checking field: 50/89
python_service-1  | WARNING:app.llm.extractor:No base codes available, using pattern matching
python_service-1  | DEBUG:LiteLLM:checking potential_model_names in litellm.model_cost: {'split_model': 'gpt-4o-mini-2024-07-18', 'combined_model_name': 'azure/gpt-4o-mini-2024-07-18', 'stripped_model_name': 'gpt-4o-mini-2024-07-18', 'combined_stripped_model_name': 'azure/gpt-4o-mini-2024-07-18', 'custom_llm_provider': 'azure'}
python_service-1  | [92m11:29:04 - LiteLLM:DEBUG[0m: utils.py:4453 - model_info: {'key': 'azure/gpt-4o-mini-2024-07-18', 'max_tokens': 16384, 'max_input_tokens': 128000, 'max_output_tokens': 16384, 'input_cost_per_token': 1.65e-07, 'cache_creation_input_token_cost': None, 'cache_read_input_token_cost': 7.5e-08, 'input_cost_per_character': None, 'input_cost_per_token_above_128k_tokens': None, 'input_cost_per_query': None, 'input_cost_per_second': None, 'input_cost_per_audio_token': None, 'output_cost_per_token': 6.6e-07, 'output_cost_per_audio_token': None, 'output_cost_per_character': None, 'output_cost_per_token_above_128k_tokens': None, 'output_cost_per_character_above_128k_tokens': None, 'output_cost_per_second': None, 'output_cost_per_image': None, 'output_vector_size': None, 'litellm_provider': 'azure', 'mode': 'chat', 'supports_system_messages': None, 'supports_response_schema': True, 'supports_vision': True, 'supports_function_calling': True, 'supports_tool_choice': True, 'supports_assistant_prefill': False, 'supports_prompt_caching': True, 'supports_audio_input': False, 'supports_audio_output': False, 'supports_pdf_input': False, 'supports_embedding_image_input': False, 'supports_native_streaming': None, 'tpm': None, 'rpm': None}
python_service-1  | DEBUG:app.llm.extractor:Checking field: N6494400
python_service-1  | DEBUG:LiteLLM:model_info: {'key': 'azure/gpt-4o-mini-2024-07-18', 'max_tokens': 16384, 'max_input_tokens': 128000, 'max_output_tokens': 16384, 'input_cost_per_token': 1.65e-07, 'cache_creation_input_token_cost': None, 'cache_read_input_token_cost': 7.5e-08, 'input_cost_per_character': None, 'input_cost_per_token_above_128k_tokens': None, 'input_cost_per_query': None, 'input_cost_per_second': None, 'input_cost_per_audio_token': None, 'output_cost_per_token': 6.6e-07, 'output_cost_per_audio_token': None, 'output_cost_per_character': None, 'output_cost_per_token_above_128k_tokens': None, 'output_cost_per_character_above_128k_tokens': None, 'output_cost_per_second': None, 'output_cost_per_image': None, 'output_vector_size': None, 'litellm_provider': 'azure', 'mode': 'chat', 'supports_system_messages': None, 'supports_response_schema': True, 'supports_vision': True, 'supports_function_calling': True, 'supports_tool_choice': True, 'supports_assistant_prefill': False, 'supports_prompt_caching': True, 'supports_audio_input': False, 'supports_audio_output': False, 'supports_pdf_input': False, 'supports_embedding_image_input': False, 'supports_native_streaming': None, 'tpm': None, 'rpm': None}
python_service-1  | WARNING:app.llm.extractor:No base codes available, using pattern matching
python_service-1  | DEBUG:app.llm.extractor:Checking field: o_GTD1
python_service-1  | WARNING:app.llm.extractor:No base codes available, using pattern matching
python_service-1  | DEBUG:app.llm.extractor:Added valid code: o_GTD1
python_service-1  | DEBUG:app.llm.extractor:Checking field: H220
python_service-1  | WARNING:app.llm.extractor:No base codes available, using pattern matching
python_service-1  | DEBUG:app.llm.extractor:Checking field: o_SF1
python_service-1  | WARNING:app.llm.extractor:No base codes available, using pattern matching
python_service-1  | DEBUG:app.llm.extractor:Added valid code: o_SF1
python_service-1  | DEBUG:app.llm.extractor:Checking field: o_GF3
python_service-1  | WARNING:app.llm.extractor:No base codes available, using pattern matching
python_service-1  | DEBUG:app.llm.extractor:Added valid code: o_GF3
python_service-1  | DEBUG:app.llm.extractor:Checking field: 50/66
python_service-1  | WARNING:app.llm.extractor:No base codes available, using pattern matching
python_service-1  | DEBUG:app.llm.extractor:Checking field: #01 SN√ò
python_service-1  | WARNING:app.llm.extractor:No base codes available, using pattern matching
python_service-1  | DEBUG:app.llm.extractor:Checking field: H320
python_service-1  | WARNING:app.llm.extractor:No base codes available, using pattern matching
python_service-1  | DEBUG:app.llm.extractor:Checking field: 50/71
python_service-1  | WARNING:app.llm.extractor:No base codes available, using pattern matching
python_service-1  | DEBUG:app.llm.extractor:Checking field: 50/158
python_service-1  | WARNING:app.llm.extractor:No base codes available, using pattern matching
python_service-1  | DEBUG:app.llm.extractor:Checking field: 49/82
python_service-1  | WARNING:app.llm.extractor:No base codes available, using pattern matching
python_service-1  | DEBUG:app.llm.extractor:Checking field: o_SF2
python_service-1  | WARNING:app.llm.extractor:No base codes available, using pattern matching
python_service-1  | DEBUG:app.llm.extractor:Added valid code: o_SF2
python_service-1  | DEBUG:app.llm.extractor:Checking field: T-1442H210
python_service-1  | WARNING:app.llm.extractor:No base codes available, using pattern matching
python_service-1  | DEBUG:app.llm.extractor:Checking field: SN√ò
python_service-1  | WARNING:app.llm.extractor:No base codes available, using pattern matching
python_service-1  | DEBUG:app.llm.extractor:Checking field: 50/40
python_service-1  | WARNING:app.llm.extractor:No base codes available, using pattern matching
python_service-1  | DEBUG:app.llm.extractor:Checking field: 50/637
python_service-1  | WARNING:app.llm.extractor:No base codes available, using pattern matching
python_service-1  | DEBUG:app.llm.extractor:Checking field: 49/10
python_service-1  | WARNING:app.llm.extractor:No base codes available, using pattern matching
python_service-1  | DEBUG:app.llm.extractor:Checking field: BR
python_service-1  | WARNING:app.llm.extractor:No base codes available, using pattern matching
python_service-1  | DEBUG:app.llm.extractor:Checking field: 49/77
python_service-1  | WARNING:app.llm.extractor:No base codes available, using pattern matching
python_service-1  | DEBUG:app.llm.extractor:Checking field: 49/86
python_service-1  | WARNING:app.llm.extractor:No base codes available, using pattern matching
python_service-1  | DEBUG:app.llm.extractor:Checking field: BIA
python_service-1  | WARNING:app.llm.extractor:No base codes available, using pattern matching
python_service-1  | DEBUG:app.llm.extractor:Checking field: N6494325
python_service-1  | WARNING:app.llm.extractor:No base codes available, using pattern matching
python_service-1  | DEBUG:app.llm.extractor:Checking field: 50/132
python_service-1  | WARNING:app.llm.extractor:No base codes available, using pattern matching
python_service-1  | DEBUG:app.llm.extractor:Checking field: 50/128
python_service-1  | WARNING:app.llm.extractor:No base codes available, using pattern matching
python_service-1  | DEBUG:app.llm.extractor:Checking field: 42/51
python_service-1  | WARNING:app.llm.extractor:No base codes available, using pattern matching
python_service-1  | INFO:app.llm.extractor:Extracted fields: {'O_SF1', 'O_GF1', 'O_GTD2', 'O_GF2', 'O_SPA', 'O_GF3', 'O_SF2', 'O_GTD1'}
python_service-1  | DEBUG:app.llm.extractor:Raw text from PDF: [{'content': '  1 \n  \n \n \nReguleringsbestemmelser  \nfor \nSt√∏peritomta \n \nPlan ID: 202102 \nPlankart dato: 11.05.2022 \nReguleringsbestemmelser dato: 11.05.2022 \nVedtatt PS 59/22: 16.06.2022 \n  \n \n¬ß1. Planform√•l \nForm√•let med planen er √• tilrettelegge for konsentrert bebyggelse med tilh√∏rende anlegg. \nPlanen omfatter ogs√• kirke/annen religionsut√∏velse, parkeringsanlegg og idrett/park.  \n \nPlanen inneholder f√∏lgende form√•l (Pbl. ¬ß 12-5): \n \n¬ß1.1 Bebyggelse og anlegg (pbl ¬ß12-5,nr 1) \nBoligbebyggelse- Konsentrert sm√•husbebyggelse (BKS) \nForsamlingslokale for religionsut√∏velse (BR) \nIdrettsanlegg (BIA) \nEnergianlegg (BE) \n \n¬ß1.2 Samferdselsanlegg og teknisk infrastruktur (pbl ¬ß12-5, nr 2) \nVeg (o_SV1 og 3) \nFortau (o_SF) \nParkering(o_SPA) \n \n¬ß1.3 Gr√∏nnstruktur (pbl ¬ß12-5,2. ledd nr 3) \nFriomr√•de (o_GF1-3) \nTurdrag (o_GTD1-2) \n \n \n  \n'}, {'content': '  2 \n¬ß2. Rekkef√∏lgebestemmelser (pbl ¬ß 12-7 nr. 10) \n \n¬ß2.1 F√∏r midlertidig brukstillatelse for BKS skal o_SV3 v√¶re ferdig opparbeidet.  \n¬ß2.2 F√∏r midlertidig brukstillatelse for 1. boenhet p√• BKS skal lekeplass innenfor GF1 v√¶re ferdig \nopparbeidet. \n¬ß2.3 F√∏r midlertidig brukstillatelse p√• 5. boenhet p√• BKS skal o_GTD1-2 v√¶re ferdig opparbeidet.  \n¬ß2.4 F√∏r midlertidig brukstillatelse for BKS skal o_SF v√¶re ferdig opparbeidet. \n¬ß2.5 F√∏r ferdigattest p√• BR, skal o_SF og o_SPA v√¶re ferdig opparbeidet. \n \n \n \n \n \n¬ß3. Fellesbestemmelser \n¬ß3.1 Bygge- og anleggsst√∏y skal ikke overskride st√∏ygrensen i tabell 4 i retningslinje for behandling \nav st√∏y i arealplanlegging (T-1442/2021). St√∏yende aktivitet skal foregaÃä p√• dagtid. \n¬ß4. Bebyggelse og anlegg (pbl 12-5 nr. 1) \nBoligbebyggelse-konsentrert sm√•husbebyggelse - BKS \n \n¬ß4.1 Bebyggelse: Det tillates fire tomannsboliger p√• tomten. Totalt 8 boenheter.   \n¬ß4.2 Byggegrenser: Plassering av nye tiltak skal skje innenfor byggegrensene. For \ngarasje/carport/bod mindre enn 50 m2 BYA gjelder byggegrense p√• 1 meter fra tomtegrense. \nTerrenginngrep og grunnarbeider i forbindelse med opparbeidelse av tomtene tillattes \nutenfor byggegrense. Avkj√∏rsel og parkering tillates utenfor byggegrense. \n¬ß4.3 Garasje/Carport: Alle boenheter skal ha minst en parkering under tak til disposisjon.  \n¬ß4.4 Bestemmelsesomr√•de #01 SN√ò: Innenfor omr√•det kan det anlegges opplag for sn√∏. \n \nGrad av utnytting \n¬ß4.5 Utnyttelsesgrad: BYA for omr√•det BKS skal v√¶re maksimalt %-BYA= 40%. Overbygg til \nrenovasjon eller dunker medregnes ikke i %-BYA. \n¬ß4.6 Parkering: Det skal avsettes 2 parkeringsplasser for hver boenhet, hvor en av disse skal v√¶re i \ngarasje/carport. BYA for parkering er 3x6=18m2 per plass. \n \nH√∏yder ‚Äì Utforming av bebyggelse \n¬ß4.7 Planeringsh√∏yder: Maksimal planeringsh√∏yde er angitt i plankart. Maks planeringsh√∏yde er \nK+182. \n¬ß4.8 Takform: Bebyggelse skal ha saltak med en takvinkel mellom 30 - 40 grader.  \n¬ß4.9 Takh√∏yder: Tillate takh√∏yder er angitt i tabellen under. H√∏yder regnes fra planert terreng. \n \n Saltak \nM√∏ne 6,0 m \nGesimsh√∏yde 3,5 m \nTakvinkel 30-40 grader \n \nSt√∏yf√∏lsom bebyggelse \nF√∏r det tillates tiltak innenfor omr√•det skal det gj√∏res st√∏yskjermede tiltak.   \n¬ß4.10 Alle boenheter skal ha uteplass p√• b√•de √∏stsiden og vestsiden av bebyggelsen.  '}, {'content': '  3 \n¬ß4.11 Alle boenheter skal v√¶re gjennomg√•ende og ha minst ett soverom plassert p√• vestsiden og \n√∏stsiden. Eventuelt √∏kt lydisolasjon i fasade i minst ett soverom i hver boenhet. \n \nTeknisk plan \n¬ß4.12 Det stilles teknisk plan for VA, overvannsh√•ndtering og str√∏mforsyning f√∏r \nigangsettingstillatelse kan gis innenfor omr√•det BKS. Det b√∏r legge til rette for √•pne \nvannveier for overvannsh√•ndtering. Dersom andre l√∏sninger velges skal det begrunnes \nhvorfor naturbaserte l√∏sninger velges bort. \n¬ß4.13 V/A- anlegg samt vei skal dimensjoneres og opparbeides i samsvar med til enhver tids \ngjeldende ¬´Retningslinjer for vei, vann og avl√∏p¬ª for Evje og Hornnes kommune. Det skal \nsikres teknisk godkjenning av offentlig samferdselsanlegg. \n¬ß4.14 Det skal f√∏r utbygging avklares hvordan det nye utbyggingsomr√•det i planomr√•det skal \nforsynes med elektrisk str√∏m. Det m√• avklares i hvilken grad eksisterende ledninger/kabler \neventuelt kan benyttes og om nye ledninger/kabler m√• legges om og om det er behov for \nny(e) nettstasjon(er). \n \nUtforming av tomt \n¬ß4.15 Situasjonsplan: Ved s√∏knad om tillatelse til tiltak skal situasjonsplan vedlegges i tilpasset \nm√•lestokk som viser plassering av bebyggelse og h√∏yde. Situasjonsplan skal ogs√• vise \nplassering av parkering, avkj√∏rsel og evt. st√∏ttemurer.  \n¬ß4.16 Renovasjon: Areal for renovasjon skal vises p√• situasjonsplan. Situasjonsplanen skal vise at \nrenovasjonsbil har tilstrekkelig snuareal innenfor planomr√•det.  \n¬ß4.17 Forst√∏tningsmur: Det tillattes forst√∏tningsmurer for √• tilpasse terrenget. Forst√∏tningsmurer \ntillates oppf√∏rt utenfor byggegrense. Maks tillatt h√∏yde p√• forst√∏tningsmurer er 2,5 meter.  \n¬ß4.18 Det stilles estetisk krav til utforming av fylling / naturstein plastret skr√•ning mot bekk. \nSkr√•ning skal jord klees, tils√•es og sikres mot erosjon. \n \nForsamlingslokale for religionsut√∏velse - BR \n \n¬ß4.19 Omr√•det skal benyttes til nytt sentrumsn√¶rt bedehus i n√∏dvendig grad og utstrekning \n¬ß4.20 Bygninger kan oppf√∏res med gesimsh√∏yde 8,0 meter og m√∏neh√∏yde 10,5 meter. \n¬ß4.21 BYA for arealform√•let skal v√¶re maksimalt %-BYA= 50. Areal for parkering medregnes ikke i \n%BYA \n¬ß4.22 Det skal avsettes tilstrekkelig med parkeringsareal til gjeldende aktivitet innenfor regulert \nomr√•de. Parkeringsbehovet for bedehuset kan l√∏ses b√•de innenfor BR og SPA. \n¬ß4.23 Arealutnyttelse utover dette skal opparbeides parkmessig og v√¶re tilgjengelig for \nallmennheten. \n¬ß4.24 Oppgitt gesimsh√∏yde og m√∏neh√∏yde skal regnes ut fra gjennomsnittlig h√∏yde p√• tomta/ \nomr√•det f√∏r opparbeidelse begynner. \n¬ß4.25 Innenfor omr√•det BR tillates det internveier og parkeringsplasser. \n \nIdrettsanlegg - BIA \n¬ß4.26 Innenfor omr√•det er det tillatt med tiltak som fremmer idrettsaktiviteter.  \n \nEnergianlegg - BE \n¬ß4.27 Innenfor omr√•det er det tillatt plassering av trafo og infrastruktur i sammenheng med dette. \n \n  '}, {'content': '  4 \n¬ß5. Samferdselsanlegg og teknisk infrastruktur (pbl 12-5 nr. 2) \nVeg (o_SV1) \n¬ß5.1 Veien o_SV1 er adkomst for alle tilgrensende eiendommer. \nDet skal opparbeides et fysisk skille mellom o_SV1 og omkringliggende arealform√•l SPA, GF \nog SGS. Adkomst til SPA og BR skal ikke v√¶re rett ovenfor hverandre. \n \n \n \nVeg (o_SV3) \n¬ß5.2 Veien o_SV3-er adkomst for boligomr√•de BKS og BR samt atkomst til o_SPA. Plasseringer av \navkj√∏rsler langs o_SV3 er ikke endelige og tillates justert i samr√•d med veieier. \n \nFortau (o_SF1-2) \n¬ß5.3 o_SF1-2 er regulert til offentlig fortau med en bredde p√• 3 meter. \n \nParkering (o_SPA) \n¬ß5.4 o_SPA er offentlig parkeringsplass. \n¬ß5.5 Parkeringsbehov for bedehuset kan l√∏ses innenfor o_SPA. \n¬ß5.6 Det tillates etablert ladestasjoner innenfor omr√•det.  \n¬ß5.7 Atkomst til SPA og SGS skal ikke anlegges vertikalt rett overfor hverandre. \n \n \n¬ß6. Gr√∏nnstruktur (pbl 12-5 nr. 3) \n \nFriomr√•de (o_GF1-3) \n¬ß6.1 Omr√•de for friomr√•de/gr√∏ntstruktur GF1-GF3 er til fri ferdsel for allmenheten. \n¬ß6.2 I omr√•dene er det tillat oppf√∏rt bebyggelse og andre tekniske installasjoner som typisk \nberiker bruken av omr√•de. \n¬ß6.3 Innenfor omr√•det GF1 skal det opparbeides et felles leke- og uteoppholdsareal for hele \nplanomr√•det. Lekeplassen skal utstyres med sand, benk og min. 3 ulike lekeapparater. \n¬ß6.4 Det tillates avkj√∏rsel for BR over o_GF3 \n¬ß6.5 Bestemmelsesomr√•de #02 SN√ò: Innenfor omr√•det kan det anlegges opplag for sn√∏. \n¬ß6.6 Det tillates √• legge kabler i bakken innenfor omr√•de avsatt til friomr√•de. \n¬ß6.7 Adkomst til lekearealer skal v√¶re universelt utformet. \n \nTurdrag (GTD1-2) \n¬ß6.8 Omr√•dene skal benyttes til turveier. \n \n \n \nDato 11.05.2022 '}]...
python_service-1  | [92m11:29:04 - LiteLLM:DEBUG[0m: utils.py:298 - 
python_service-1  | 
python_service-1  | DEBUG:LiteLLM:
python_service-1  | 
python_service-1  | [92m11:29:04 - LiteLLM:DEBUG[0m: utils.py:298 - [92mRequest to litellm:[0m
python_service-1  | DEBUG:LiteLLM:[92mRequest to litellm:[0m
python_service-1  | [92m11:29:04 - LiteLLM:DEBUG[0m: utils.py:298 - [92mlitellm.completion(messages=[{'role': 'system', 'content': 'You are a server API that receives document information and returns specific fields in JSON format.\n\n\n        As a genius expert, your task is to understand the content and provide\n        the parsed objects in json that match the following json_schema:\n\n\n        {\n  "description": "Contract for field extraction from regulatory documents.\\n\\nDefines the structure and prompt for extracting regulation codes from\\nNorwegian planning documents (plankart and bestemmelser).\\n\\nAttributes:\\n    fields (Set[str]): Set of extracted regulation codes",\n  "properties": {\n    "fields": {\n      "items": {\n        "type": "string"\n      },\n      "title": "Fields",\n      "type": "array",\n      "uniqueItems": true\n    }\n  },\n  "required": [\n    "fields"\n  ],\n  "title": "FieldExtractContract",\n  "type": "object"\n}\n\n        Make sure to return an instance of the JSON, not the schema itself\n'}, {'role': 'user', 'content': '##Content\n\n{content: "  1 \\n  \\n \\n \\nReguleringsbestemmelser  \\nfor \\nSt\\xF8peritomta \\n \\n\\\n    Plan ID: 202102 \\nPlankart dato: 11.05.2022 \\nReguleringsbestemmelser dato: 11.05.2022\\\n    \\ \\nVedtatt PS 59/22: 16.06.2022 \\n  \\n \\n\\xA71. Planform\\xE5l \\nForm\\xE5let med\\\n    \\ planen er \\xE5 tilrettelegge for konsentrert bebyggelse med tilh\\xF8rende anlegg.\\\n    \\ \\nPlanen omfatter ogs\\xE5 kirke/annen religionsut\\xF8velse, parkeringsanlegg\\\n    \\ og idrett/park.  \\n \\nPlanen inneholder f\\xF8lgende form\\xE5l (Pbl. \\xA7 12-5):\\\n    \\ \\n \\n\\xA71.1 Bebyggelse og anlegg (pbl \\xA712-5,nr 1) \\nBoligbebyggelse- Konsentrert\\\n    \\ sm\\xE5husbebyggelse (BKS) \\nForsamlingslokale for religionsut\\xF8velse (BR)\\\n    \\ \\nIdrettsanlegg (BIA) \\nEnergianlegg (BE) \\n \\n\\xA71.2 Samferdselsanlegg og\\\n    \\ teknisk infrastruktur (pbl \\xA712-5, nr 2) \\nVeg (o_SV1 og 3) \\nFortau (o_SF)\\\n    \\ \\nParkering(o_SPA) \\n \\n\\xA71.3 Gr\\xF8nnstruktur (pbl \\xA712-5,2. ledd nr 3)\\\n    \\ \\nFriomr\\xE5de (o_GF1-3) \\nTurdrag (o_GTD1-2) \\n \\n \\n  \\n\\n\\n  2 \\n\\xA72. Rekkef\\xF8\\\n    lgebestemmelser (pbl \\xA7 12-7 nr. 10) \\n \\n\\xA72.1 F\\xF8r midlertidig brukstillatelse\\\n    \\ for BKS skal o_SV3 v\\xE6re ferdig opparbeidet.  \\n\\xA72.2 F\\xF8r midlertidig\\\n    \\ brukstillatelse for 1. boenhet p\\xE5 BKS skal lekeplass innenfor GF1 v\\xE6re\\\n    \\ ferdig \\nopparbeidet. \\n\\xA72.3 F\\xF8r midlertidig brukstillatelse p\\xE5 5.\\\n    \\ boenhet p\\xE5 BKS skal o_GTD1-2 v\\xE6re ferdig opparbeidet.  \\n\\xA72.4 F\\xF8\\\n    r midlertidig brukstillatelse for BKS skal o_SF v\\xE6re ferdig opparbeidet. \\n\\\n    \\xA72.5 F\\xF8r ferdigattest p\\xE5 BR, skal o_SF og o_SPA v\\xE6re ferdig opparbeidet.\\\n    \\ \\n \\n \\n \\n \\n \\n\\xA73. Fellesbestemmelser \\n\\xA73.1 Bygge- og anleggsst\\xF8\\\n    y skal ikke overskride st\\xF8ygrensen i tabell 4 i retningslinje for behandling\\\n    \\ \\nav st\\xF8y i arealplanlegging (T-1442/2021). St\\xF8yende aktivitet skal forega\\u030A\\\n    \\ p\\xE5 dagtid. \\n\\xA74. Bebyggelse og anlegg (pbl 12-5 nr. 1) \\nBoligbebyggelse-konsentrert\\\n    \\ sm\\xE5husbebyggelse - BKS \\n \\n\\xA74.1 Bebyggelse: Det tillates fire tomannsboliger\\\n    \\ p\\xE5 tomten. Totalt 8 boenheter.   \\n\\xA74.2 Byggegrenser: Plassering av nye\\\n    \\ tiltak skal skje innenfor byggegrensene. For \\ngarasje/carport/bod mindre enn\\\n    \\ 50 m2 BYA gjelder byggegrense p\\xE5 1 meter fra tomtegrense. \\nTerrenginngrep\\\n    \\ og grunnarbeider i forbindelse med opparbeidelse av tomtene tillattes \\nutenfor\\\n    \\ byggegrense. Avkj\\xF8rsel og parkering tillates utenfor byggegrense. \\n\\xA7\\\n    4.3 Garasje/Carport: Alle boenheter skal ha minst en parkering under tak til disposisjon.\\\n    \\  \\n\\xA74.4 Bestemmelsesomr\\xE5de #01 SN\\xD8: Innenfor omr\\xE5det kan det anlegges\\\n    \\ opplag for sn\\xF8. \\n \\nGrad av utnytting \\n\\xA74.5 Utnyttelsesgrad: BYA for\\\n    \\ omr\\xE5det BKS skal v\\xE6re maksimalt %-BYA= 40%. Overbygg til \\nrenovasjon\\\n    \\ eller dunker medregnes ikke i %-BYA. \\n\\xA74.6 Parkering: Det skal avsettes\\\n    \\ 2 parkeringsplasser for hver boenhet, hvor en av disse skal v\\xE6re i \\ngarasje/carport.\\\n    \\ BYA for parkering er 3x6=18m2 per plass. \\n \\nH\\xF8yder \\u2013 Utforming av\\\n    \\ bebyggelse \\n\\xA74.7 Planeringsh\\xF8yder: Maksimal planeringsh\\xF8yde er angitt\\\n    \\ i plankart. Maks planeringsh\\xF8yde er \\nK+182. \\n\\xA74.8 Takform: Bebyggelse\\\n    \\ skal ha saltak med en takvinkel mellom 30 - 40 grader.  \\n\\xA74.9 Takh\\xF8yder:\\\n    \\ Tillate takh\\xF8yder er angitt i tabellen under. H\\xF8yder regnes fra planert\\\n    \\ terreng. \\n \\n Saltak \\nM\\xF8ne 6,0 m \\nGesimsh\\xF8yde 3,5 m \\nTakvinkel 30-40\\\n    \\ grader \\n \\nSt\\xF8yf\\xF8lsom bebyggelse \\nF\\xF8r det tillates tiltak innenfor\\\n    \\ omr\\xE5det skal det gj\\xF8res st\\xF8yskjermede tiltak.   \\n\\xA74.10 Alle boenheter\\\n    \\ skal ha uteplass p\\xE5 b\\xE5de \\xF8stsiden og vestsiden av bebyggelsen.  \\n\\n\\\n    \\  3 \\n\\xA74.11 Alle boenheter skal v\\xE6re gjennomg\\xE5ende og ha minst ett soverom\\\n    \\ plassert p\\xE5 vestsiden og \\n\\xF8stsiden. Eventuelt \\xF8kt lydisolasjon i fasade\\\n    \\ i minst ett soverom i hver boenhet. \\n \\nTeknisk plan \\n\\xA74.12 Det stilles\\\n    \\ teknisk plan for VA, overvannsh\\xE5ndtering og str\\xF8mforsyning f\\xF8r \\nigangsettingstillatelse\\\n    \\ kan gis innenfor omr\\xE5det BKS. Det b\\xF8r legge til rette for \\xE5pne \\nvannveier\\\n    \\ for overvannsh\\xE5ndtering. Dersom andre l\\xF8sninger velges skal det begrunnes\\\n    \\ \\nhvorfor naturbaserte l\\xF8sninger velges bort. \\n\\xA74.13 V/A- anlegg samt\\\n    \\ vei skal dimensjoneres og opparbeides i samsvar med til enhver tids \\ngjeldende\\\n    \\ \\xABRetningslinjer for vei, vann og avl\\xF8p\\xBB for Evje og Hornnes kommune.\\\n    \\ Det skal \\nsikres teknisk godkjenning av offentlig samferdselsanlegg. \\n\\xA7\\\n    4.14 Det skal f\\xF8r utbygging avklares hvordan det nye utbyggingsomr\\xE5det i\\\n    \\ planomr\\xE5det skal \\nforsynes med elektrisk str\\xF8m. Det m\\xE5 avklares i\\\n    \\ hvilken grad eksisterende ledninger/kabler \\neventuelt kan benyttes og om nye\\\n    \\ ledninger/kabler m\\xE5 legges om og om det er behov for \\nny(e) nettstasjon(er).\\\n    \\ \\n \\nUtforming av tomt \\n\\xA74.15 Situasjonsplan: Ved s\\xF8knad om tillatelse\\\n    \\ til tiltak skal situasjonsplan vedlegges i tilpasset \\nm\\xE5lestokk som viser\\\n    \\ plassering av bebyggelse og h\\xF8yde. Situasjonsplan skal ogs\\xE5 vise \\nplassering\\\n    \\ av parkering, avkj\\xF8rsel og evt. st\\xF8ttemurer.  \\n\\xA74.16 Renovasjon: Areal\\\n    \\ for renovasjon skal vises p\\xE5 situasjonsplan. Situasjonsplanen skal vise at\\\n    \\ \\nrenovasjonsbil har tilstrekkelig snuareal innenfor planomr\\xE5det.  \\n\\xA7\\\n    4.17 Forst\\xF8tningsmur: Det tillattes forst\\xF8tningsmurer for \\xE5 tilpasse\\\n    \\ terrenget. Forst\\xF8tningsmurer \\ntillates oppf\\xF8rt utenfor byggegrense. Maks\\\n    \\ tillatt h\\xF8yde p\\xE5 forst\\xF8tningsmurer er 2,5 meter.  \\n\\xA74.18 Det stilles\\\n    \\ estetisk krav til utforming av fylling / naturstein plastret skr\\xE5ning mot\\\n    \\ bekk. \\nSkr\\xE5ning skal jord klees, tils\\xE5es og sikres mot erosjon. \\n \\n\\\n    Forsamlingslokale for religionsut\\xF8velse - BR \\n \\n\\xA74.19 Omr\\xE5det skal\\\n    \\ benyttes til nytt sentrumsn\\xE6rt bedehus i n\\xF8dvendig grad og utstrekning\\\n    \\ \\n\\xA74.20 Bygninger kan oppf\\xF8res med gesimsh\\xF8yde 8,0 meter og m\\xF8neh\\xF8\\\n    yde 10,5 meter. \\n\\xA74.21 BYA for arealform\\xE5let skal v\\xE6re maksimalt %-BYA=\\\n    \\ 50. Areal for parkering medregnes ikke i \\n%BYA \\n\\xA74.22 Det skal avsettes\\\n    \\ tilstrekkelig med parkeringsareal til gjeldende aktivitet innenfor regulert\\\n    \\ \\nomr\\xE5de. Parkeringsbehovet for bedehuset kan l\\xF8ses b\\xE5de innenfor BR\\\n    \\ og SPA. \\n\\xA74.23 Arealutnyttelse utover dette skal opparbeides parkmessig\\\n    \\ og v\\xE6re tilgjengelig for \\nallmennheten. \\n\\xA74.24 Oppgitt gesimsh\\xF8yde\\\n    \\ og m\\xF8neh\\xF8yde skal regnes ut fra gjennomsnittlig h\\xF8yde p\\xE5 tomta/\\\n    \\ \\nomr\\xE5det f\\xF8r opparbeidelse begynner. \\n\\xA74.25 Innenfor omr\\xE5det BR\\\n    \\ tillates det internveier og parkeringsplasser. \\n \\nIdrettsanlegg - BIA \\n\\xA7\\\n    4.26 Innenfor omr\\xE5det er det tillatt med tiltak som fremmer idrettsaktiviteter.\\\n    \\  \\n \\nEnergianlegg - BE \\n\\xA74.27 Innenfor omr\\xE5det er det tillatt plassering\\\n    \\ av trafo og infrastruktur i sammenheng med dette. \\n \\n  \\n\\n  4 \\n\\xA75. Samferdselsanlegg\\\n    \\ og teknisk infrastruktur (pbl 12-5 nr. 2) \\nVeg (o_SV1) \\n\\xA75.1 Veien o_SV1\\\n    \\ er adkomst for alle tilgrensende eiendommer. \\nDet skal opparbeides et fysisk\\\n    \\ skille mellom o_SV1 og omkringliggende arealform\\xE5l SPA, GF \\nog SGS. Adkomst\\\n    \\ til SPA og BR skal ikke v\\xE6re rett ovenfor hverandre. \\n \\n \\n \\nVeg (o_SV3)\\\n    \\ \\n\\xA75.2 Veien o_SV3-er adkomst for boligomr\\xE5de BKS og BR samt atkomst til\\\n    \\ o_SPA. Plasseringer av \\navkj\\xF8rsler langs o_SV3 er ikke endelige og tillates\\\n    \\ justert i samr\\xE5d med veieier. \\n \\nFortau (o_SF1-2) \\n\\xA75.3 o_SF1-2 er\\\n    \\ regulert til offentlig fortau med en bredde p\\xE5 3 meter. \\n \\nParkering (o_SPA)\\\n    \\ \\n\\xA75.4 o_SPA er offentlig parkeringsplass. \\n\\xA75.5 Parkeringsbehov for\\\n    \\ bedehuset kan l\\xF8ses innenfor o_SPA. \\n\\xA75.6 Det tillates etablert ladestasjoner\\\n    \\ innenfor omr\\xE5det.  \\n\\xA75.7 Atkomst til SPA og SGS skal ikke anlegges vertikalt\\\n    \\ rett overfor hverandre. \\n \\n \\n\\xA76. Gr\\xF8nnstruktur (pbl 12-5 nr. 3) \\n\\\n    \\ \\nFriomr\\xE5de (o_GF1-3) \\n\\xA76.1 Omr\\xE5de for friomr\\xE5de/gr\\xF8ntstruktur\\\n    \\ GF1-GF3 er til fri ferdsel for allmenheten. \\n\\xA76.2 I omr\\xE5dene er det tillat\\\n    \\ oppf\\xF8rt bebyggelse og andre tekniske installasjoner som typisk \\nberiker\\\n    \\ bruken av omr\\xE5de. \\n\\xA76.3 Innenfor omr\\xE5det GF1 skal det opparbeides\\\n    \\ et felles leke- og uteoppholdsareal for hele \\nplanomr\\xE5det. Lekeplassen skal\\\n    \\ utstyres med sand, benk og min. 3 ulike lekeapparater. \\n\\xA76.4 Det tillates\\\n    \\ avkj\\xF8rsel for BR over o_GF3 \\n\\xA76.5 Bestemmelsesomr\\xE5de #02 SN\\xD8: Innenfor\\\n    \\ omr\\xE5det kan det anlegges opplag for sn\\xF8. \\n\\xA76.6 Det tillates \\xE5 legge\\\n    \\ kabler i bakken innenfor omr\\xE5de avsatt til friomr\\xE5de. \\n\\xA76.7 Adkomst\\\n    \\ til lekearealer skal v\\xE6re universelt utformet. \\n \\nTurdrag (GTD1-2) \\n\\xA7\\\n    6.8 Omr\\xE5dene skal benyttes til turveier. \\n \\n \\n \\nDato 11.05.2022 ", images: [],\n  metadata: {num_pages: 4}}\n\n\nReturn the correct JSON response within a ```json codeblock. not the JSON_SCHEMA'}], model='azure/gpt-4o-mini', temperature=0, max_tokens=4000, timeout=3000)[0m
python_service-1  | DEBUG:LiteLLM:[92mlitellm.completion(messages=[{'role': 'system', 'content': 'You are a server API that receives document information and returns specific fields in JSON format.\n\n\n        As a genius expert, your task is to understand the content and provide\n        the parsed objects in json that match the following json_schema:\n\n\n        {\n  "description": "Contract for field extraction from regulatory documents.\\n\\nDefines the structure and prompt for extracting regulation codes from\\nNorwegian planning documents (plankart and bestemmelser).\\n\\nAttributes:\\n    fields (Set[str]): Set of extracted regulation codes",\n  "properties": {\n    "fields": {\n      "items": {\n        "type": "string"\n      },\n      "title": "Fields",\n      "type": "array",\n      "uniqueItems": true\n    }\n  },\n  "required": [\n    "fields"\n  ],\n  "title": "FieldExtractContract",\n  "type": "object"\n}\n\n        Make sure to return an instance of the JSON, not the schema itself\n'}, {'role': 'user', 'content': '##Content\n\n{content: "  1 \\n  \\n \\n \\nReguleringsbestemmelser  \\nfor \\nSt\\xF8peritomta \\n \\n\\\n    Plan ID: 202102 \\nPlankart dato: 11.05.2022 \\nReguleringsbestemmelser dato: 11.05.2022\\\n    \\ \\nVedtatt PS 59/22: 16.06.2022 \\n  \\n \\n\\xA71. Planform\\xE5l \\nForm\\xE5let med\\\n    \\ planen er \\xE5 tilrettelegge for konsentrert bebyggelse med tilh\\xF8rende anlegg.\\\n    \\ \\nPlanen omfatter ogs\\xE5 kirke/annen religionsut\\xF8velse, parkeringsanlegg\\\n    \\ og idrett/park.  \\n \\nPlanen inneholder f\\xF8lgende form\\xE5l (Pbl. \\xA7 12-5):\\\n    \\ \\n \\n\\xA71.1 Bebyggelse og anlegg (pbl \\xA712-5,nr 1) \\nBoligbebyggelse- Konsentrert\\\n    \\ sm\\xE5husbebyggelse (BKS) \\nForsamlingslokale for religionsut\\xF8velse (BR)\\\n    \\ \\nIdrettsanlegg (BIA) \\nEnergianlegg (BE) \\n \\n\\xA71.2 Samferdselsanlegg og\\\n    \\ teknisk infrastruktur (pbl \\xA712-5, nr 2) \\nVeg (o_SV1 og 3) \\nFortau (o_SF)\\\n    \\ \\nParkering(o_SPA) \\n \\n\\xA71.3 Gr\\xF8nnstruktur (pbl \\xA712-5,2. ledd nr 3)\\\n    \\ \\nFriomr\\xE5de (o_GF1-3) \\nTurdrag (o_GTD1-2) \\n \\n \\n  \\n\\n\\n  2 \\n\\xA72. Rekkef\\xF8\\\n    lgebestemmelser (pbl \\xA7 12-7 nr. 10) \\n \\n\\xA72.1 F\\xF8r midlertidig brukstillatelse\\\n    \\ for BKS skal o_SV3 v\\xE6re ferdig opparbeidet.  \\n\\xA72.2 F\\xF8r midlertidig\\\n    \\ brukstillatelse for 1. boenhet p\\xE5 BKS skal lekeplass innenfor GF1 v\\xE6re\\\n    \\ ferdig \\nopparbeidet. \\n\\xA72.3 F\\xF8r midlertidig brukstillatelse p\\xE5 5.\\\n    \\ boenhet p\\xE5 BKS skal o_GTD1-2 v\\xE6re ferdig opparbeidet.  \\n\\xA72.4 F\\xF8\\\n    r midlertidig brukstillatelse for BKS skal o_SF v\\xE6re ferdig opparbeidet. \\n\\\n    \\xA72.5 F\\xF8r ferdigattest p\\xE5 BR, skal o_SF og o_SPA v\\xE6re ferdig opparbeidet.\\\n    \\ \\n \\n \\n \\n \\n \\n\\xA73. Fellesbestemmelser \\n\\xA73.1 Bygge- og anleggsst\\xF8\\\n    y skal ikke overskride st\\xF8ygrensen i tabell 4 i retningslinje for behandling\\\n    \\ \\nav st\\xF8y i arealplanlegging (T-1442/2021). St\\xF8yende aktivitet skal forega\\u030A\\\n    \\ p\\xE5 dagtid. \\n\\xA74. Bebyggelse og anlegg (pbl 12-5 nr. 1) \\nBoligbebyggelse-konsentrert\\\n    \\ sm\\xE5husbebyggelse - BKS \\n \\n\\xA74.1 Bebyggelse: Det tillates fire tomannsboliger\\\n    \\ p\\xE5 tomten. Totalt 8 boenheter.   \\n\\xA74.2 Byggegrenser: Plassering av nye\\\n    \\ tiltak skal skje innenfor byggegrensene. For \\ngarasje/carport/bod mindre enn\\\n    \\ 50 m2 BYA gjelder byggegrense p\\xE5 1 meter fra tomtegrense. \\nTerrenginngrep\\\n    \\ og grunnarbeider i forbindelse med opparbeidelse av tomtene tillattes \\nutenfor\\\n    \\ byggegrense. Avkj\\xF8rsel og parkering tillates utenfor byggegrense. \\n\\xA7\\\n    4.3 Garasje/Carport: Alle boenheter skal ha minst en parkering under tak til disposisjon.\\\n    \\  \\n\\xA74.4 Bestemmelsesomr\\xE5de #01 SN\\xD8: Innenfor omr\\xE5det kan det anlegges\\\n    \\ opplag for sn\\xF8. \\n \\nGrad av utnytting \\n\\xA74.5 Utnyttelsesgrad: BYA for\\\n    \\ omr\\xE5det BKS skal v\\xE6re maksimalt %-BYA= 40%. Overbygg til \\nrenovasjon\\\n    \\ eller dunker medregnes ikke i %-BYA. \\n\\xA74.6 Parkering: Det skal avsettes\\\n    \\ 2 parkeringsplasser for hver boenhet, hvor en av disse skal v\\xE6re i \\ngarasje/carport.\\\n    \\ BYA for parkering er 3x6=18m2 per plass. \\n \\nH\\xF8yder \\u2013 Utforming av\\\n    \\ bebyggelse \\n\\xA74.7 Planeringsh\\xF8yder: Maksimal planeringsh\\xF8yde er angitt\\\n    \\ i plankart. Maks planeringsh\\xF8yde er \\nK+182. \\n\\xA74.8 Takform: Bebyggelse\\\n    \\ skal ha saltak med en takvinkel mellom 30 - 40 grader.  \\n\\xA74.9 Takh\\xF8yder:\\\n    \\ Tillate takh\\xF8yder er angitt i tabellen under. H\\xF8yder regnes fra planert\\\n    \\ terreng. \\n \\n Saltak \\nM\\xF8ne 6,0 m \\nGesimsh\\xF8yde 3,5 m \\nTakvinkel 30-40\\\n    \\ grader \\n \\nSt\\xF8yf\\xF8lsom bebyggelse \\nF\\xF8r det tillates tiltak innenfor\\\n    \\ omr\\xE5det skal det gj\\xF8res st\\xF8yskjermede tiltak.   \\n\\xA74.10 Alle boenheter\\\n    \\ skal ha uteplass p\\xE5 b\\xE5de \\xF8stsiden og vestsiden av bebyggelsen.  \\n\\n\\\n    \\  3 \\n\\xA74.11 Alle boenheter skal v\\xE6re gjennomg\\xE5ende og ha minst ett soverom\\\n    \\ plassert p\\xE5 vestsiden og \\n\\xF8stsiden. Eventuelt \\xF8kt lydisolasjon i fasade\\\n    \\ i minst ett soverom i hver boenhet. \\n \\nTeknisk plan \\n\\xA74.12 Det stilles\\\n    \\ teknisk plan for VA, overvannsh\\xE5ndtering og str\\xF8mforsyning f\\xF8r \\nigangsettingstillatelse\\\n    \\ kan gis innenfor omr\\xE5det BKS. Det b\\xF8r legge til rette for \\xE5pne \\nvannveier\\\n    \\ for overvannsh\\xE5ndtering. Dersom andre l\\xF8sninger velges skal det begrunnes\\\n    \\ \\nhvorfor naturbaserte l\\xF8sninger velges bort. \\n\\xA74.13 V/A- anlegg samt\\\n    \\ vei skal dimensjoneres og opparbeides i samsvar med til enhver tids \\ngjeldende\\\n    \\ \\xABRetningslinjer for vei, vann og avl\\xF8p\\xBB for Evje og Hornnes kommune.\\\n    \\ Det skal \\nsikres teknisk godkjenning av offentlig samferdselsanlegg. \\n\\xA7\\\n    4.14 Det skal f\\xF8r utbygging avklares hvordan det nye utbyggingsomr\\xE5det i\\\n    \\ planomr\\xE5det skal \\nforsynes med elektrisk str\\xF8m. Det m\\xE5 avklares i\\\n    \\ hvilken grad eksisterende ledninger/kabler \\neventuelt kan benyttes og om nye\\\n    \\ ledninger/kabler m\\xE5 legges om og om det er behov for \\nny(e) nettstasjon(er).\\\n    \\ \\n \\nUtforming av tomt \\n\\xA74.15 Situasjonsplan: Ved s\\xF8knad om tillatelse\\\n    \\ til tiltak skal situasjonsplan vedlegges i tilpasset \\nm\\xE5lestokk som viser\\\n    \\ plassering av bebyggelse og h\\xF8yde. Situasjonsplan skal ogs\\xE5 vise \\nplassering\\\n    \\ av parkering, avkj\\xF8rsel og evt. st\\xF8ttemurer.  \\n\\xA74.16 Renovasjon: Areal\\\n    \\ for renovasjon skal vises p\\xE5 situasjonsplan. Situasjonsplanen skal vise at\\\n    \\ \\nrenovasjonsbil har tilstrekkelig snuareal innenfor planomr\\xE5det.  \\n\\xA7\\\n    4.17 Forst\\xF8tningsmur: Det tillattes forst\\xF8tningsmurer for \\xE5 tilpasse\\\n    \\ terrenget. Forst\\xF8tningsmurer \\ntillates oppf\\xF8rt utenfor byggegrense. Maks\\\n    \\ tillatt h\\xF8yde p\\xE5 forst\\xF8tningsmurer er 2,5 meter.  \\n\\xA74.18 Det stilles\\\n    \\ estetisk krav til utforming av fylling / naturstein plastret skr\\xE5ning mot\\\n    \\ bekk. \\nSkr\\xE5ning skal jord klees, tils\\xE5es og sikres mot erosjon. \\n \\n\\\n    Forsamlingslokale for religionsut\\xF8velse - BR \\n \\n\\xA74.19 Omr\\xE5det skal\\\n    \\ benyttes til nytt sentrumsn\\xE6rt bedehus i n\\xF8dvendig grad og utstrekning\\\n    \\ \\n\\xA74.20 Bygninger kan oppf\\xF8res med gesimsh\\xF8yde 8,0 meter og m\\xF8neh\\xF8\\\n    yde 10,5 meter. \\n\\xA74.21 BYA for arealform\\xE5let skal v\\xE6re maksimalt %-BYA=\\\n    \\ 50. Areal for parkering medregnes ikke i \\n%BYA \\n\\xA74.22 Det skal avsettes\\\n    \\ tilstrekkelig med parkeringsareal til gjeldende aktivitet innenfor regulert\\\n    \\ \\nomr\\xE5de. Parkeringsbehovet for bedehuset kan l\\xF8ses b\\xE5de innenfor BR\\\n    \\ og SPA. \\n\\xA74.23 Arealutnyttelse utover dette skal opparbeides parkmessig\\\n    \\ og v\\xE6re tilgjengelig for \\nallmennheten. \\n\\xA74.24 Oppgitt gesimsh\\xF8yde\\\n    \\ og m\\xF8neh\\xF8yde skal regnes ut fra gjennomsnittlig h\\xF8yde p\\xE5 tomta/\\\n    \\ \\nomr\\xE5det f\\xF8r opparbeidelse begynner. \\n\\xA74.25 Innenfor omr\\xE5det BR\\\n    \\ tillates det internveier og parkeringsplasser. \\n \\nIdrettsanlegg - BIA \\n\\xA7\\\n    4.26 Innenfor omr\\xE5det er det tillatt med tiltak som fremmer idrettsaktiviteter.\\\n    \\  \\n \\nEnergianlegg - BE \\n\\xA74.27 Innenfor omr\\xE5det er det tillatt plassering\\\n    \\ av trafo og infrastruktur i sammenheng med dette. \\n \\n  \\n\\n  4 \\n\\xA75. Samferdselsanlegg\\\n    \\ og teknisk infrastruktur (pbl 12-5 nr. 2) \\nVeg (o_SV1) \\n\\xA75.1 Veien o_SV1\\\n    \\ er adkomst for alle tilgrensende eiendommer. \\nDet skal opparbeides et fysisk\\\n    \\ skille mellom o_SV1 og omkringliggende arealform\\xE5l SPA, GF \\nog SGS. Adkomst\\\n    \\ til SPA og BR skal ikke v\\xE6re rett ovenfor hverandre. \\n \\n \\n \\nVeg (o_SV3)\\\n    \\ \\n\\xA75.2 Veien o_SV3-er adkomst for boligomr\\xE5de BKS og BR samt atkomst til\\\n    \\ o_SPA. Plasseringer av \\navkj\\xF8rsler langs o_SV3 er ikke endelige og tillates\\\n    \\ justert i samr\\xE5d med veieier. \\n \\nFortau (o_SF1-2) \\n\\xA75.3 o_SF1-2 er\\\n    \\ regulert til offentlig fortau med en bredde p\\xE5 3 meter. \\n \\nParkering (o_SPA)\\\n    \\ \\n\\xA75.4 o_SPA er offentlig parkeringsplass. \\n\\xA75.5 Parkeringsbehov for\\\n    \\ bedehuset kan l\\xF8ses innenfor o_SPA. \\n\\xA75.6 Det tillates etablert ladestasjoner\\\n    \\ innenfor omr\\xE5det.  \\n\\xA75.7 Atkomst til SPA og SGS skal ikke anlegges vertikalt\\\n    \\ rett overfor hverandre. \\n \\n \\n\\xA76. Gr\\xF8nnstruktur (pbl 12-5 nr. 3) \\n\\\n    \\ \\nFriomr\\xE5de (o_GF1-3) \\n\\xA76.1 Omr\\xE5de for friomr\\xE5de/gr\\xF8ntstruktur\\\n    \\ GF1-GF3 er til fri ferdsel for allmenheten. \\n\\xA76.2 I omr\\xE5dene er det tillat\\\n    \\ oppf\\xF8rt bebyggelse og andre tekniske installasjoner som typisk \\nberiker\\\n    \\ bruken av omr\\xE5de. \\n\\xA76.3 Innenfor omr\\xE5det GF1 skal det opparbeides\\\n    \\ et felles leke- og uteoppholdsareal for hele \\nplanomr\\xE5det. Lekeplassen skal\\\n    \\ utstyres med sand, benk og min. 3 ulike lekeapparater. \\n\\xA76.4 Det tillates\\\n    \\ avkj\\xF8rsel for BR over o_GF3 \\n\\xA76.5 Bestemmelsesomr\\xE5de #02 SN\\xD8: Innenfor\\\n    \\ omr\\xE5det kan det anlegges opplag for sn\\xF8. \\n\\xA76.6 Det tillates \\xE5 legge\\\n    \\ kabler i bakken innenfor omr\\xE5de avsatt til friomr\\xE5de. \\n\\xA76.7 Adkomst\\\n    \\ til lekearealer skal v\\xE6re universelt utformet. \\n \\nTurdrag (GTD1-2) \\n\\xA7\\\n    6.8 Omr\\xE5dene skal benyttes til turveier. \\n \\n \\n \\nDato 11.05.2022 ", images: [],\n  metadata: {num_pages: 4}}\n\n\nReturn the correct JSON response within a ```json codeblock. not the JSON_SCHEMA'}], model='azure/gpt-4o-mini', temperature=0, max_tokens=4000, timeout=3000)[0m
python_service-1  | [92m11:29:04 - LiteLLM:DEBUG[0m: utils.py:298 - 
python_service-1  | 
python_service-1  | DEBUG:LiteLLM:
python_service-1  | 
python_service-1  | [92m11:29:04 - LiteLLM:DEBUG[0m: litellm_logging.py:377 - self.optional_params: {}
python_service-1  | DEBUG:LiteLLM:self.optional_params: {}
python_service-1  | [92m11:29:04 - LiteLLM:DEBUG[0m: utils.py:298 - SYNC kwargs[caching]: False; litellm.cache: None; kwargs.get('cache')['no-cache']: False
python_service-1  | DEBUG:LiteLLM:SYNC kwargs[caching]: False; litellm.cache: None; kwargs.get('cache')['no-cache']: False
python_service-1  | [92m11:29:04 - LiteLLM:DEBUG[0m: transformation.py:126 - Translating developer role to system role for non-OpenAI providers.
python_service-1  | DEBUG:LiteLLM:Translating developer role to system role for non-OpenAI providers.
python_service-1  | [92m11:29:04 - LiteLLM:INFO[0m: utils.py:2905 - 
python_service-1  | LiteLLM completion() model= gpt-4o-mini; provider = azure
python_service-1  | INFO:LiteLLM:
python_service-1  | LiteLLM completion() model= gpt-4o-mini; provider = azure
python_service-1  | [92m11:29:04 - LiteLLM:DEBUG[0m: utils.py:2908 - 
python_service-1  | LiteLLM: Params passed to completion() {'model': 'gpt-4o-mini', 'functions': None, 'function_call': None, 'temperature': 0, 'top_p': None, 'n': None, 'stream': None, 'stream_options': None, 'stop': None, 'max_tokens': 4000, 'max_completion_tokens': None, 'modalities': None, 'prediction': None, 'audio': None, 'presence_penalty': None, 'frequency_penalty': None, 'logit_bias': None, 'user': None, 'custom_llm_provider': 'azure', 'response_format': None, 'seed': None, 'tools': None, 'tool_choice': None, 'max_retries': None, 'logprobs': None, 'top_logprobs': None, 'extra_headers': None, 'api_version': None, 'parallel_tool_calls': None, 'drop_params': None, 'reasoning_effort': None, 'additional_drop_params': None, 'messages': [{'role': 'system', 'content': 'You are a server API that receives document information and returns specific fields in JSON format.\n\n\n        As a genius expert, your task is to understand the content and provide\n        the parsed objects in json that match the following json_schema:\n\n\n        {\n  "description": "Contract for field extraction from regulatory documents.\\n\\nDefines the structure and prompt for extracting regulation codes from\\nNorwegian planning documents (plankart and bestemmelser).\\n\\nAttributes:\\n    fields (Set[str]): Set of extracted regulation codes",\n  "properties": {\n    "fields": {\n      "items": {\n        "type": "string"\n      },\n      "title": "Fields",\n      "type": "array",\n      "uniqueItems": true\n    }\n  },\n  "required": [\n    "fields"\n  ],\n  "title": "FieldExtractContract",\n  "type": "object"\n}\n\n        Make sure to return an instance of the JSON, not the schema itself\n'}, {'role': 'user', 'content': '##Content\n\n{content: "  1 \\n  \\n \\n \\nReguleringsbestemmelser  \\nfor \\nSt\\xF8peritomta \\n \\n\\\n    Plan ID: 202102 \\nPlankart dato: 11.05.2022 \\nReguleringsbestemmelser dato: 11.05.2022\\\n    \\ \\nVedtatt PS 59/22: 16.06.2022 \\n  \\n \\n\\xA71. Planform\\xE5l \\nForm\\xE5let med\\\n    \\ planen er \\xE5 tilrettelegge for konsentrert bebyggelse med tilh\\xF8rende anlegg.\\\n    \\ \\nPlanen omfatter ogs\\xE5 kirke/annen religionsut\\xF8velse, parkeringsanlegg\\\n    \\ og idrett/park.  \\n \\nPlanen inneholder f\\xF8lgende form\\xE5l (Pbl. \\xA7 12-5):\\\n    \\ \\n \\n\\xA71.1 Bebyggelse og anlegg (pbl \\xA712-5,nr 1) \\nBoligbebyggelse- Konsentrert\\\n    \\ sm\\xE5husbebyggelse (BKS) \\nForsamlingslokale for religionsut\\xF8velse (BR)\\\n    \\ \\nIdrettsanlegg (BIA) \\nEnergianlegg (BE) \\n \\n\\xA71.2 Samferdselsanlegg og\\\n    \\ teknisk infrastruktur (pbl \\xA712-5, nr 2) \\nVeg (o_SV1 og 3) \\nFortau (o_SF)\\\n    \\ \\nParkering(o_SPA) \\n \\n\\xA71.3 Gr\\xF8nnstruktur (pbl \\xA712-5,2. ledd nr 3)\\\n    \\ \\nFriomr\\xE5de (o_GF1-3) \\nTurdrag (o_GTD1-2) \\n \\n \\n  \\n\\n\\n  2 \\n\\xA72. Rekkef\\xF8\\\n    lgebestemmelser (pbl \\xA7 12-7 nr. 10) \\n \\n\\xA72.1 F\\xF8r midlertidig brukstillatelse\\\n    \\ for BKS skal o_SV3 v\\xE6re ferdig opparbeidet.  \\n\\xA72.2 F\\xF8r midlertidig\\\n    \\ brukstillatelse for 1. boenhet p\\xE5 BKS skal lekeplass innenfor GF1 v\\xE6re\\\n    \\ ferdig \\nopparbeidet. \\n\\xA72.3 F\\xF8r midlertidig brukstillatelse p\\xE5 5.\\\n    \\ boenhet p\\xE5 BKS skal o_GTD1-2 v\\xE6re ferdig opparbeidet.  \\n\\xA72.4 F\\xF8\\\n    r midlertidig brukstillatelse for BKS skal o_SF v\\xE6re ferdig opparbeidet. \\n\\\n    \\xA72.5 F\\xF8r ferdigattest p\\xE5 BR, skal o_SF og o_SPA v\\xE6re ferdig opparbeidet.\\\n    \\ \\n \\n \\n \\n \\n \\n\\xA73. Fellesbestemmelser \\n\\xA73.1 Bygge- og anleggsst\\xF8\\\n    y skal ikke overskride st\\xF8ygrensen i tabell 4 i retningslinje for behandling\\\n    \\ \\nav st\\xF8y i arealplanlegging (T-1442/2021). St\\xF8yende aktivitet skal forega\\u030A\\\n    \\ p\\xE5 dagtid. \\n\\xA74. Bebyggelse og anlegg (pbl 12-5 nr. 1) \\nBoligbebyggelse-konsentrert\\\n    \\ sm\\xE5husbebyggelse - BKS \\n \\n\\xA74.1 Bebyggelse: Det tillates fire tomannsboliger\\\n    \\ p\\xE5 tomten. Totalt 8 boenheter.   \\n\\xA74.2 Byggegrenser: Plassering av nye\\\n    \\ tiltak skal skje innenfor byggegrensene. For \\ngarasje/carport/bod mindre enn\\\n    \\ 50 m2 BYA gjelder byggegrense p\\xE5 1 meter fra tomtegrense. \\nTerrenginngrep\\\n    \\ og grunnarbeider i forbindelse med opparbeidelse av tomtene tillattes \\nutenfor\\\n    \\ byggegrense. Avkj\\xF8rsel og parkering tillates utenfor byggegrense. \\n\\xA7\\\n    4.3 Garasje/Carport: Alle boenheter skal ha minst en parkering under tak til disposisjon.\\\n    \\  \\n\\xA74.4 Bestemmelsesomr\\xE5de #01 SN\\xD8: Innenfor omr\\xE5det kan det anlegges\\\n    \\ opplag for sn\\xF8. \\n \\nGrad av utnytting \\n\\xA74.5 Utnyttelsesgrad: BYA for\\\n    \\ omr\\xE5det BKS skal v\\xE6re maksimalt %-BYA= 40%. Overbygg til \\nrenovasjon\\\n    \\ eller dunker medregnes ikke i %-BYA. \\n\\xA74.6 Parkering: Det skal avsettes\\\n    \\ 2 parkeringsplasser for hver boenhet, hvor en av disse skal v\\xE6re i \\ngarasje/carport.\\\n    \\ BYA for parkering er 3x6=18m2 per plass. \\n \\nH\\xF8yder \\u2013 Utforming av\\\n    \\ bebyggelse \\n\\xA74.7 Planeringsh\\xF8yder: Maksimal planeringsh\\xF8yde er angitt\\\n    \\ i plankart. Maks planeringsh\\xF8yde er \\nK+182. \\n\\xA74.8 Takform: Bebyggelse\\\n    \\ skal ha saltak med en takvinkel mellom 30 - 40 grader.  \\n\\xA74.9 Takh\\xF8yder:\\\n    \\ Tillate takh\\xF8yder er angitt i tabellen under. H\\xF8yder regnes fra planert\\\n    \\ terreng. \\n \\n Saltak \\nM\\xF8ne 6,0 m \\nGesimsh\\xF8yde 3,5 m \\nTakvinkel 30-40\\\n    \\ grader \\n \\nSt\\xF8yf\\xF8lsom bebyggelse \\nF\\xF8r det tillates tiltak innenfor\\\n    \\ omr\\xE5det skal det gj\\xF8res st\\xF8yskjermede tiltak.   \\n\\xA74.10 Alle boenheter\\\n    \\ skal ha uteplass p\\xE5 b\\xE5de \\xF8stsiden og vestsiden av bebyggelsen.  \\n\\n\\\n    \\  3 \\n\\xA74.11 Alle boenheter skal v\\xE6re gjennomg\\xE5ende og ha minst ett soverom\\\n    \\ plassert p\\xE5 vestsiden og \\n\\xF8stsiden. Eventuelt \\xF8kt lydisolasjon i fasade\\\n    \\ i minst ett soverom i hver boenhet. \\n \\nTeknisk plan \\n\\xA74.12 Det stilles\\\n    \\ teknisk plan for VA, overvannsh\\xE5ndtering og str\\xF8mforsyning f\\xF8r \\nigangsettingstillatelse\\\n    \\ kan gis innenfor omr\\xE5det BKS. Det b\\xF8r legge til rette for \\xE5pne \\nvannveier\\\n    \\ for overvannsh\\xE5ndtering. Dersom andre l\\xF8sninger velges skal det begrunnes\\\n    \\ \\nhvorfor naturbaserte l\\xF8sninger velges bort. \\n\\xA74.13 V/A- anlegg samt\\\n    \\ vei skal dimensjoneres og opparbeides i samsvar med til enhver tids \\ngjeldende\\\n    \\ \\xABRetningslinjer for vei, vann og avl\\xF8p\\xBB for Evje og Hornnes kommune.\\\n    \\ Det skal \\nsikres teknisk godkjenning av offentlig samferdselsanlegg. \\n\\xA7\\\n    4.14 Det skal f\\xF8r utbygging avklares hvordan det nye utbyggingsomr\\xE5det i\\\n    \\ planomr\\xE5det skal \\nforsynes med elektrisk str\\xF8m. Det m\\xE5 avklares i\\\n    \\ hvilken grad eksisterende ledninger/kabler \\neventuelt kan benyttes og om nye\\\n    \\ ledninger/kabler m\\xE5 legges om og om det er behov for \\nny(e) nettstasjon(er).\\\n    \\ \\n \\nUtforming av tomt \\n\\xA74.15 Situasjonsplan: Ved s\\xF8knad om tillatelse\\\n    \\ til tiltak skal situasjonsplan vedlegges i tilpasset \\nm\\xE5lestokk som viser\\\n    \\ plassering av bebyggelse og h\\xF8yde. Situasjonsplan skal ogs\\xE5 vise \\nplassering\\\n    \\ av parkering, avkj\\xF8rsel og evt. st\\xF8ttemurer.  \\n\\xA74.16 Renovasjon: Areal\\\n    \\ for renovasjon skal vises p\\xE5 situasjonsplan. Situasjonsplanen skal vise at\\\n    \\ \\nrenovasjonsbil har tilstrekkelig snuareal innenfor planomr\\xE5det.  \\n\\xA7\\\n    4.17 Forst\\xF8tningsmur: Det tillattes forst\\xF8tningsmurer for \\xE5 tilpasse\\\n    \\ terrenget. Forst\\xF8tningsmurer \\ntillates oppf\\xF8rt utenfor byggegrense. Maks\\\n    \\ tillatt h\\xF8yde p\\xE5 forst\\xF8tningsmurer er 2,5 meter.  \\n\\xA74.18 Det stilles\\\n    \\ estetisk krav til utforming av fylling / naturstein plastret skr\\xE5ning mot\\\n    \\ bekk. \\nSkr\\xE5ning skal jord klees, tils\\xE5es og sikres mot erosjon. \\n \\n\\\n    Forsamlingslokale for religionsut\\xF8velse - BR \\n \\n\\xA74.19 Omr\\xE5det skal\\\n    \\ benyttes til nytt sentrumsn\\xE6rt bedehus i n\\xF8dvendig grad og utstrekning\\\n    \\ \\n\\xA74.20 Bygninger kan oppf\\xF8res med gesimsh\\xF8yde 8,0 meter og m\\xF8neh\\xF8\\\n    yde 10,5 meter. \\n\\xA74.21 BYA for arealform\\xE5let skal v\\xE6re maksimalt %-BYA=\\\n    \\ 50. Areal for parkering medregnes ikke i \\n%BYA \\n\\xA74.22 Det skal avsettes\\\n    \\ tilstrekkelig med parkeringsareal til gjeldende aktivitet innenfor regulert\\\n    \\ \\nomr\\xE5de. Parkeringsbehovet for bedehuset kan l\\xF8ses b\\xE5de innenfor BR\\\n    \\ og SPA. \\n\\xA74.23 Arealutnyttelse utover dette skal opparbeides parkmessig\\\n    \\ og v\\xE6re tilgjengelig for \\nallmennheten. \\n\\xA74.24 Oppgitt gesimsh\\xF8yde\\\n    \\ og m\\xF8neh\\xF8yde skal regnes ut fra gjennomsnittlig h\\xF8yde p\\xE5 tomta/\\\n    \\ \\nomr\\xE5det f\\xF8r opparbeidelse begynner. \\n\\xA74.25 Innenfor omr\\xE5det BR\\\n    \\ tillates det internveier og parkeringsplasser. \\n \\nIdrettsanlegg - BIA \\n\\xA7\\\n    4.26 Innenfor omr\\xE5det er det tillatt med tiltak som fremmer idrettsaktiviteter.\\\n    \\  \\n \\nEnergianlegg - BE \\n\\xA74.27 Innenfor omr\\xE5det er det tillatt plassering\\\n    \\ av trafo og infrastruktur i sammenheng med dette. \\n \\n  \\n\\n  4 \\n\\xA75. Samferdselsanlegg\\\n    \\ og teknisk infrastruktur (pbl 12-5 nr. 2) \\nVeg (o_SV1) \\n\\xA75.1 Veien o_SV1\\\n    \\ er adkomst for alle tilgrensende eiendommer. \\nDet skal opparbeides et fysisk\\\n    \\ skille mellom o_SV1 og omkringliggende arealform\\xE5l SPA, GF \\nog SGS. Adkomst\\\n    \\ til SPA og BR skal ikke v\\xE6re rett ovenfor hverandre. \\n \\n \\n \\nVeg (o_SV3)\\\n    \\ \\n\\xA75.2 Veien o_SV3-er adkomst for boligomr\\xE5de BKS og BR samt atkomst til\\\n    \\ o_SPA. Plasseringer av \\navkj\\xF8rsler langs o_SV3 er ikke endelige og tillates\\\n    \\ justert i samr\\xE5d med veieier. \\n \\nFortau (o_SF1-2) \\n\\xA75.3 o_SF1-2 er\\\n    \\ regulert til offentlig fortau med en bredde p\\xE5 3 meter. \\n \\nParkering (o_SPA)\\\n    \\ \\n\\xA75.4 o_SPA er offentlig parkeringsplass. \\n\\xA75.5 Parkeringsbehov for\\\n    \\ bedehuset kan l\\xF8ses innenfor o_SPA. \\n\\xA75.6 Det tillates etablert ladestasjoner\\\n    \\ innenfor omr\\xE5det.  \\n\\xA75.7 Atkomst til SPA og SGS skal ikke anlegges vertikalt\\\n    \\ rett overfor hverandre. \\n \\n \\n\\xA76. Gr\\xF8nnstruktur (pbl 12-5 nr. 3) \\n\\\n    \\ \\nFriomr\\xE5de (o_GF1-3) \\n\\xA76.1 Omr\\xE5de for friomr\\xE5de/gr\\xF8ntstruktur\\\n    \\ GF1-GF3 er til fri ferdsel for allmenheten. \\n\\xA76.2 I omr\\xE5dene er det tillat\\\n    \\ oppf\\xF8rt bebyggelse og andre tekniske installasjoner som typisk \\nberiker\\\n    \\ bruken av omr\\xE5de. \\n\\xA76.3 Innenfor omr\\xE5det GF1 skal det opparbeides\\\n    \\ et felles leke- og uteoppholdsareal for hele \\nplanomr\\xE5det. Lekeplassen skal\\\n    \\ utstyres med sand, benk og min. 3 ulike lekeapparater. \\n\\xA76.4 Det tillates\\\n    \\ avkj\\xF8rsel for BR over o_GF3 \\n\\xA76.5 Bestemmelsesomr\\xE5de #02 SN\\xD8: Innenfor\\\n    \\ omr\\xE5det kan det anlegges opplag for sn\\xF8. \\n\\xA76.6 Det tillates \\xE5 legge\\\n    \\ kabler i bakken innenfor omr\\xE5de avsatt til friomr\\xE5de. \\n\\xA76.7 Adkomst\\\n    \\ til lekearealer skal v\\xE6re universelt utformet. \\n \\nTurdrag (GTD1-2) \\n\\xA7\\\n    6.8 Omr\\xE5dene skal benyttes til turveier. \\n \\n \\n \\nDato 11.05.2022 ", images: [],\n  metadata: {num_pages: 4}}\n\n\nReturn the correct JSON response within a ```json codeblock. not the JSON_SCHEMA'}]}
python_service-1  | DEBUG:LiteLLM:
python_service-1  | LiteLLM: Params passed to completion() {'model': 'gpt-4o-mini', 'functions': None, 'function_call': None, 'temperature': 0, 'top_p': None, 'n': None, 'stream': None, 'stream_options': None, 'stop': None, 'max_tokens': 4000, 'max_completion_tokens': None, 'modalities': None, 'prediction': None, 'audio': None, 'presence_penalty': None, 'frequency_penalty': None, 'logit_bias': None, 'user': None, 'custom_llm_provider': 'azure', 'response_format': None, 'seed': None, 'tools': None, 'tool_choice': None, 'max_retries': None, 'logprobs': None, 'top_logprobs': None, 'extra_headers': None, 'api_version': None, 'parallel_tool_calls': None, 'drop_params': None, 'reasoning_effort': None, 'additional_drop_params': None, 'messages': [{'role': 'system', 'content': 'You are a server API that receives document information and returns specific fields in JSON format.\n\n\n        As a genius expert, your task is to understand the content and provide\n        the parsed objects in json that match the following json_schema:\n\n\n        {\n  "description": "Contract for field extraction from regulatory documents.\\n\\nDefines the structure and prompt for extracting regulation codes from\\nNorwegian planning documents (plankart and bestemmelser).\\n\\nAttributes:\\n    fields (Set[str]): Set of extracted regulation codes",\n  "properties": {\n    "fields": {\n      "items": {\n        "type": "string"\n      },\n      "title": "Fields",\n      "type": "array",\n      "uniqueItems": true\n    }\n  },\n  "required": [\n    "fields"\n  ],\n  "title": "FieldExtractContract",\n  "type": "object"\n}\n\n        Make sure to return an instance of the JSON, not the schema itself\n'}, {'role': 'user', 'content': '##Content\n\n{content: "  1 \\n  \\n \\n \\nReguleringsbestemmelser  \\nfor \\nSt\\xF8peritomta \\n \\n\\\n    Plan ID: 202102 \\nPlankart dato: 11.05.2022 \\nReguleringsbestemmelser dato: 11.05.2022\\\n    \\ \\nVedtatt PS 59/22: 16.06.2022 \\n  \\n \\n\\xA71. Planform\\xE5l \\nForm\\xE5let med\\\n    \\ planen er \\xE5 tilrettelegge for konsentrert bebyggelse med tilh\\xF8rende anlegg.\\\n    \\ \\nPlanen omfatter ogs\\xE5 kirke/annen religionsut\\xF8velse, parkeringsanlegg\\\n    \\ og idrett/park.  \\n \\nPlanen inneholder f\\xF8lgende form\\xE5l (Pbl. \\xA7 12-5):\\\n    \\ \\n \\n\\xA71.1 Bebyggelse og anlegg (pbl \\xA712-5,nr 1) \\nBoligbebyggelse- Konsentrert\\\n    \\ sm\\xE5husbebyggelse (BKS) \\nForsamlingslokale for religionsut\\xF8velse (BR)\\\n    \\ \\nIdrettsanlegg (BIA) \\nEnergianlegg (BE) \\n \\n\\xA71.2 Samferdselsanlegg og\\\n    \\ teknisk infrastruktur (pbl \\xA712-5, nr 2) \\nVeg (o_SV1 og 3) \\nFortau (o_SF)\\\n    \\ \\nParkering(o_SPA) \\n \\n\\xA71.3 Gr\\xF8nnstruktur (pbl \\xA712-5,2. ledd nr 3)\\\n    \\ \\nFriomr\\xE5de (o_GF1-3) \\nTurdrag (o_GTD1-2) \\n \\n \\n  \\n\\n\\n  2 \\n\\xA72. Rekkef\\xF8\\\n    lgebestemmelser (pbl \\xA7 12-7 nr. 10) \\n \\n\\xA72.1 F\\xF8r midlertidig brukstillatelse\\\n    \\ for BKS skal o_SV3 v\\xE6re ferdig opparbeidet.  \\n\\xA72.2 F\\xF8r midlertidig\\\n    \\ brukstillatelse for 1. boenhet p\\xE5 BKS skal lekeplass innenfor GF1 v\\xE6re\\\n    \\ ferdig \\nopparbeidet. \\n\\xA72.3 F\\xF8r midlertidig brukstillatelse p\\xE5 5.\\\n    \\ boenhet p\\xE5 BKS skal o_GTD1-2 v\\xE6re ferdig opparbeidet.  \\n\\xA72.4 F\\xF8\\\n    r midlertidig brukstillatelse for BKS skal o_SF v\\xE6re ferdig opparbeidet. \\n\\\n    \\xA72.5 F\\xF8r ferdigattest p\\xE5 BR, skal o_SF og o_SPA v\\xE6re ferdig opparbeidet.\\\n    \\ \\n \\n \\n \\n \\n \\n\\xA73. Fellesbestemmelser \\n\\xA73.1 Bygge- og anleggsst\\xF8\\\n    y skal ikke overskride st\\xF8ygrensen i tabell 4 i retningslinje for behandling\\\n    \\ \\nav st\\xF8y i arealplanlegging (T-1442/2021). St\\xF8yende aktivitet skal forega\\u030A\\\n    \\ p\\xE5 dagtid. \\n\\xA74. Bebyggelse og anlegg (pbl 12-5 nr. 1) \\nBoligbebyggelse-konsentrert\\\n    \\ sm\\xE5husbebyggelse - BKS \\n \\n\\xA74.1 Bebyggelse: Det tillates fire tomannsboliger\\\n    \\ p\\xE5 tomten. Totalt 8 boenheter.   \\n\\xA74.2 Byggegrenser: Plassering av nye\\\n    \\ tiltak skal skje innenfor byggegrensene. For \\ngarasje/carport/bod mindre enn\\\n    \\ 50 m2 BYA gjelder byggegrense p\\xE5 1 meter fra tomtegrense. \\nTerrenginngrep\\\n    \\ og grunnarbeider i forbindelse med opparbeidelse av tomtene tillattes \\nutenfor\\\n    \\ byggegrense. Avkj\\xF8rsel og parkering tillates utenfor byggegrense. \\n\\xA7\\\n    4.3 Garasje/Carport: Alle boenheter skal ha minst en parkering under tak til disposisjon.\\\n    \\  \\n\\xA74.4 Bestemmelsesomr\\xE5de #01 SN\\xD8: Innenfor omr\\xE5det kan det anlegges\\\n    \\ opplag for sn\\xF8. \\n \\nGrad av utnytting \\n\\xA74.5 Utnyttelsesgrad: BYA for\\\n    \\ omr\\xE5det BKS skal v\\xE6re maksimalt %-BYA= 40%. Overbygg til \\nrenovasjon\\\n    \\ eller dunker medregnes ikke i %-BYA. \\n\\xA74.6 Parkering: Det skal avsettes\\\n    \\ 2 parkeringsplasser for hver boenhet, hvor en av disse skal v\\xE6re i \\ngarasje/carport.\\\n    \\ BYA for parkering er 3x6=18m2 per plass. \\n \\nH\\xF8yder \\u2013 Utforming av\\\n    \\ bebyggelse \\n\\xA74.7 Planeringsh\\xF8yder: Maksimal planeringsh\\xF8yde er angitt\\\n    \\ i plankart. Maks planeringsh\\xF8yde er \\nK+182. \\n\\xA74.8 Takform: Bebyggelse\\\n    \\ skal ha saltak med en takvinkel mellom 30 - 40 grader.  \\n\\xA74.9 Takh\\xF8yder:\\\n    \\ Tillate takh\\xF8yder er angitt i tabellen under. H\\xF8yder regnes fra planert\\\n    \\ terreng. \\n \\n Saltak \\nM\\xF8ne 6,0 m \\nGesimsh\\xF8yde 3,5 m \\nTakvinkel 30-40\\\n    \\ grader \\n \\nSt\\xF8yf\\xF8lsom bebyggelse \\nF\\xF8r det tillates tiltak innenfor\\\n    \\ omr\\xE5det skal det gj\\xF8res st\\xF8yskjermede tiltak.   \\n\\xA74.10 Alle boenheter\\\n    \\ skal ha uteplass p\\xE5 b\\xE5de \\xF8stsiden og vestsiden av bebyggelsen.  \\n\\n\\\n    \\  3 \\n\\xA74.11 Alle boenheter skal v\\xE6re gjennomg\\xE5ende og ha minst ett soverom\\\n    \\ plassert p\\xE5 vestsiden og \\n\\xF8stsiden. Eventuelt \\xF8kt lydisolasjon i fasade\\\n    \\ i minst ett soverom i hver boenhet. \\n \\nTeknisk plan \\n\\xA74.12 Det stilles\\\n    \\ teknisk plan for VA, overvannsh\\xE5ndtering og str\\xF8mforsyning f\\xF8r \\nigangsettingstillatelse\\\n    \\ kan gis innenfor omr\\xE5det BKS. Det b\\xF8r legge til rette for \\xE5pne \\nvannveier\\\n    \\ for overvannsh\\xE5ndtering. Dersom andre l\\xF8sninger velges skal det begrunnes\\\n    \\ \\nhvorfor naturbaserte l\\xF8sninger velges bort. \\n\\xA74.13 V/A- anlegg samt\\\n    \\ vei skal dimensjoneres og opparbeides i samsvar med til enhver tids \\ngjeldende\\\n    \\ \\xABRetningslinjer for vei, vann og avl\\xF8p\\xBB for Evje og Hornnes kommune.\\\n    \\ Det skal \\nsikres teknisk godkjenning av offentlig samferdselsanlegg. \\n\\xA7\\\n    4.14 Det skal f\\xF8r utbygging avklares hvordan det nye utbyggingsomr\\xE5det i\\\n    \\ planomr\\xE5det skal \\nforsynes med elektrisk str\\xF8m. Det m\\xE5 avklares i\\\n    \\ hvilken grad eksisterende ledninger/kabler \\neventuelt kan benyttes og om nye\\\n    \\ ledninger/kabler m\\xE5 legges om og om det er behov for \\nny(e) nettstasjon(er).\\\n    \\ \\n \\nUtforming av tomt \\n\\xA74.15 Situasjonsplan: Ved s\\xF8knad om tillatelse\\\n    \\ til tiltak skal situasjonsplan vedlegges i tilpasset \\nm\\xE5lestokk som viser\\\n    \\ plassering av bebyggelse og h\\xF8yde. Situasjonsplan skal ogs\\xE5 vise \\nplassering\\\n    \\ av parkering, avkj\\xF8rsel og evt. st\\xF8ttemurer.  \\n\\xA74.16 Renovasjon: Areal\\\n    \\ for renovasjon skal vises p\\xE5 situasjonsplan. Situasjonsplanen skal vise at\\\n    \\ \\nrenovasjonsbil har tilstrekkelig snuareal innenfor planomr\\xE5det.  \\n\\xA7\\\n    4.17 Forst\\xF8tningsmur: Det tillattes forst\\xF8tningsmurer for \\xE5 tilpasse\\\n    \\ terrenget. Forst\\xF8tningsmurer \\ntillates oppf\\xF8rt utenfor byggegrense. Maks\\\n    \\ tillatt h\\xF8yde p\\xE5 forst\\xF8tningsmurer er 2,5 meter.  \\n\\xA74.18 Det stilles\\\n    \\ estetisk krav til utforming av fylling / naturstein plastret skr\\xE5ning mot\\\n    \\ bekk. \\nSkr\\xE5ning skal jord klees, tils\\xE5es og sikres mot erosjon. \\n \\n\\\n    Forsamlingslokale for religionsut\\xF8velse - BR \\n \\n\\xA74.19 Omr\\xE5det skal\\\n    \\ benyttes til nytt sentrumsn\\xE6rt bedehus i n\\xF8dvendig grad og utstrekning\\\n    \\ \\n\\xA74.20 Bygninger kan oppf\\xF8res med gesimsh\\xF8yde 8,0 meter og m\\xF8neh\\xF8\\\n    yde 10,5 meter. \\n\\xA74.21 BYA for arealform\\xE5let skal v\\xE6re maksimalt %-BYA=\\\n    \\ 50. Areal for parkering medregnes ikke i \\n%BYA \\n\\xA74.22 Det skal avsettes\\\n    \\ tilstrekkelig med parkeringsareal til gjeldende aktivitet innenfor regulert\\\n    \\ \\nomr\\xE5de. Parkeringsbehovet for bedehuset kan l\\xF8ses b\\xE5de innenfor BR\\\n    \\ og SPA. \\n\\xA74.23 Arealutnyttelse utover dette skal opparbeides parkmessig\\\n    \\ og v\\xE6re tilgjengelig for \\nallmennheten. \\n\\xA74.24 Oppgitt gesimsh\\xF8yde\\\n    \\ og m\\xF8neh\\xF8yde skal regnes ut fra gjennomsnittlig h\\xF8yde p\\xE5 tomta/\\\n    \\ \\nomr\\xE5det f\\xF8r opparbeidelse begynner. \\n\\xA74.25 Innenfor omr\\xE5det BR\\\n    \\ tillates det internveier og parkeringsplasser. \\n \\nIdrettsanlegg - BIA \\n\\xA7\\\n    4.26 Innenfor omr\\xE5det er det tillatt med tiltak som fremmer idrettsaktiviteter.\\\n    \\  \\n \\nEnergianlegg - BE \\n\\xA74.27 Innenfor omr\\xE5det er det tillatt plassering\\\n    \\ av trafo og infrastruktur i sammenheng med dette. \\n \\n  \\n\\n  4 \\n\\xA75. Samferdselsanlegg\\\n    \\ og teknisk infrastruktur (pbl 12-5 nr. 2) \\nVeg (o_SV1) \\n\\xA75.1 Veien o_SV1\\\n    \\ er adkomst for alle tilgrensende eiendommer. \\nDet skal opparbeides et fysisk\\\n    \\ skille mellom o_SV1 og omkringliggende arealform\\xE5l SPA, GF \\nog SGS. Adkomst\\\n    \\ til SPA og BR skal ikke v\\xE6re rett ovenfor hverandre. \\n \\n \\n \\nVeg (o_SV3)\\\n    \\ \\n\\xA75.2 Veien o_SV3-er adkomst for boligomr\\xE5de BKS og BR samt atkomst til\\\n    \\ o_SPA. Plasseringer av \\navkj\\xF8rsler langs o_SV3 er ikke endelige og tillates\\\n    \\ justert i samr\\xE5d med veieier. \\n \\nFortau (o_SF1-2) \\n\\xA75.3 o_SF1-2 er\\\n    \\ regulert til offentlig fortau med en bredde p\\xE5 3 meter. \\n \\nParkering (o_SPA)\\\n    \\ \\n\\xA75.4 o_SPA er offentlig parkeringsplass. \\n\\xA75.5 Parkeringsbehov for\\\n    \\ bedehuset kan l\\xF8ses innenfor o_SPA. \\n\\xA75.6 Det tillates etablert ladestasjoner\\\n    \\ innenfor omr\\xE5det.  \\n\\xA75.7 Atkomst til SPA og SGS skal ikke anlegges vertikalt\\\n    \\ rett overfor hverandre. \\n \\n \\n\\xA76. Gr\\xF8nnstruktur (pbl 12-5 nr. 3) \\n\\\n    \\ \\nFriomr\\xE5de (o_GF1-3) \\n\\xA76.1 Omr\\xE5de for friomr\\xE5de/gr\\xF8ntstruktur\\\n    \\ GF1-GF3 er til fri ferdsel for allmenheten. \\n\\xA76.2 I omr\\xE5dene er det tillat\\\n    \\ oppf\\xF8rt bebyggelse og andre tekniske installasjoner som typisk \\nberiker\\\n    \\ bruken av omr\\xE5de. \\n\\xA76.3 Innenfor omr\\xE5det GF1 skal det opparbeides\\\n    \\ et felles leke- og uteoppholdsareal for hele \\nplanomr\\xE5det. Lekeplassen skal\\\n    \\ utstyres med sand, benk og min. 3 ulike lekeapparater. \\n\\xA76.4 Det tillates\\\n    \\ avkj\\xF8rsel for BR over o_GF3 \\n\\xA76.5 Bestemmelsesomr\\xE5de #02 SN\\xD8: Innenfor\\\n    \\ omr\\xE5det kan det anlegges opplag for sn\\xF8. \\n\\xA76.6 Det tillates \\xE5 legge\\\n    \\ kabler i bakken innenfor omr\\xE5de avsatt til friomr\\xE5de. \\n\\xA76.7 Adkomst\\\n    \\ til lekearealer skal v\\xE6re universelt utformet. \\n \\nTurdrag (GTD1-2) \\n\\xA7\\\n    6.8 Omr\\xE5dene skal benyttes til turveier. \\n \\n \\n \\nDato 11.05.2022 ", images: [],\n  metadata: {num_pages: 4}}\n\n\nReturn the correct JSON response within a ```json codeblock. not the JSON_SCHEMA'}]}
python_service-1  | [92m11:29:04 - LiteLLM:DEBUG[0m: utils.py:2911 - 
python_service-1  | LiteLLM: Non-Default params passed to completion() {'temperature': 0, 'max_tokens': 4000}
python_service-1  | DEBUG:LiteLLM:
python_service-1  | LiteLLM: Non-Default params passed to completion() {'temperature': 0, 'max_tokens': 4000}
python_service-1  | [92m11:29:04 - LiteLLM:DEBUG[0m: utils.py:3511 - Azure optional params - api_version: api_version=None, litellm.api_version=2024-08-01-preview, os.environ['AZURE_API_VERSION']=None
python_service-1  | DEBUG:LiteLLM:Azure optional params - api_version: api_version=None, litellm.api_version=2024-08-01-preview, os.environ['AZURE_API_VERSION']=None
python_service-1  | [92m11:29:04 - LiteLLM:DEBUG[0m: utils.py:298 - Final returned optional params: {'temperature': 0, 'max_tokens': 4000, 'extra_body': {}}
python_service-1  | DEBUG:LiteLLM:Final returned optional params: {'temperature': 0, 'max_tokens': 4000, 'extra_body': {}}
python_service-1  | [92m11:29:04 - LiteLLM:DEBUG[0m: litellm_logging.py:377 - self.optional_params: {'temperature': 0, 'max_tokens': 4000, 'extra_body': {}}
python_service-1  | DEBUG:LiteLLM:self.optional_params: {'temperature': 0, 'max_tokens': 4000, 'extra_body': {}}
python_service-1  | [92m11:29:04 - LiteLLM:DEBUG[0m: litellm_logging.py:634 - [92m
python_service-1  | 
python_service-1  | POST Request Sent from LiteLLM:
python_service-1  | curl -X POST \
python_service-1  | https://kartai-openai.openai.azure.com \
python_service-1  | -H 'api_key: Dm20Qg2RomLirlz8icux5Y3XavqI2BfAwmuOdjuI********************************************' -H 'azure_ad_token: *****' \
python_service-1  | -d '{'model': 'gpt-4o-mini', 'messages': [{'role': 'system', 'content': 'You are a server API that receives document information and returns specific fields in JSON format.\n\n\n        As a genius expert, your task is to understand the content and provide\n        the parsed objects in json that match the following json_schema:\n\n\n        {\n  "description": "Contract for field extraction from regulatory documents.\\n\\nDefines the structure and prompt for extracting regulation codes from\\nNorwegian planning documents (plankart and bestemmelser).\\n\\nAttributes:\\n    fields (Set[str]): Set of extracted regulation codes",\n  "properties": {\n    "fields": {\n      "items": {\n        "type": "string"\n      },\n      "title": "Fields",\n      "type": "array",\n      "uniqueItems": true\n    }\n  },\n  "required": [\n    "fields"\n  ],\n  "title": "FieldExtractContract",\n  "type": "object"\n}\n\n        Make sure to return an instance of the JSON, not the schema itself\n'}, {'role': 'user', 'content': '##Content\n\n{content: "  1 \\n  \\n \\n \\nReguleringsbestemmelser  \\nfor \\nSt\\xF8peritomta \\n \\n\\\n    Plan ID: 202102 \\nPlankart dato: 11.05.2022 \\nReguleringsbestemmelser dato: 11.05.2022\\\n    \\ \\nVedtatt PS 59/22: 16.06.2022 \\n  \\n \\n\\xA71. Planform\\xE5l \\nForm\\xE5let med\\\n    \\ planen er \\xE5 tilrettelegge for konsentrert bebyggelse med tilh\\xF8rende anlegg.\\\n    \\ \\nPlanen omfatter ogs\\xE5 kirke/annen religionsut\\xF8velse, parkeringsanlegg\\\n    \\ og idrett/park.  \\n \\nPlanen inneholder f\\xF8lgende form\\xE5l (Pbl. \\xA7 12-5):\\\n    \\ \\n \\n\\xA71.1 Bebyggelse og anlegg (pbl \\xA712-5,nr 1) \\nBoligbebyggelse- Konsentrert\\\n    \\ sm\\xE5husbebyggelse (BKS) \\nForsamlingslokale for religionsut\\xF8velse (BR)\\\n    \\ \\nIdrettsanlegg (BIA) \\nEnergianlegg (BE) \\n \\n\\xA71.2 Samferdselsanlegg og\\\n    \\ teknisk infrastruktur (pbl \\xA712-5, nr 2) \\nVeg (o_SV1 og 3) \\nFortau (o_SF)\\\n    \\ \\nParkering(o_SPA) \\n \\n\\xA71.3 Gr\\xF8nnstruktur (pbl \\xA712-5,2. ledd nr 3)\\\n    \\ \\nFriomr\\xE5de (o_GF1-3) \\nTurdrag (o_GTD1-2) \\n \\n \\n  \\n\\n\\n  2 \\n\\xA72. Rekkef\\xF8\\\n    lgebestemmelser (pbl \\xA7 12-7 nr. 10) \\n \\n\\xA72.1 F\\xF8r midlertidig brukstillatelse\\\n    \\ for BKS skal o_SV3 v\\xE6re ferdig opparbeidet.  \\n\\xA72.2 F\\xF8r midlertidig\\\n    \\ brukstillatelse for 1. boenhet p\\xE5 BKS skal lekeplass innenfor GF1 v\\xE6re\\\n    \\ ferdig \\nopparbeidet. \\n\\xA72.3 F\\xF8r midlertidig brukstillatelse p\\xE5 5.\\\n    \\ boenhet p\\xE5 BKS skal o_GTD1-2 v\\xE6re ferdig opparbeidet.  \\n\\xA72.4 F\\xF8\\\n    r midlertidig brukstillatelse for BKS skal o_SF v\\xE6re ferdig opparbeidet. \\n\\\n    \\xA72.5 F\\xF8r ferdigattest p\\xE5 BR, skal o_SF og o_SPA v\\xE6re ferdig opparbeidet.\\\n    \\ \\n \\n \\n \\n \\n \\n\\xA73. Fellesbestemmelser \\n\\xA73.1 Bygge- og anleggsst\\xF8\\\n    y skal ikke overskride st\\xF8ygrensen i tabell 4 i retningslinje for behandling\\\n    \\ \\nav st\\xF8y i arealplanlegging (T-1442/2021). St\\xF8yende aktivitet skal forega\\u030A\\\n    \\ p\\xE5 dagtid. \\n\\xA74. Bebyggelse og anlegg (pbl 12-5 nr. 1) \\nBoligbebyggelse-konsentrert\\\n    \\ sm\\xE5husbebyggelse - BKS \\n \\n\\xA74.1 Bebyggelse: Det tillates fire tomannsboliger\\\n    \\ p\\xE5 tomten. Totalt 8 boenheter.   \\n\\xA74.2 Byggegrenser: Plassering av nye\\\n    \\ tiltak skal skje innenfor byggegrensene. For \\ngarasje/carport/bod mindre enn\\\n    \\ 50 m2 BYA gjelder byggegrense p\\xE5 1 meter fra tomtegrense. \\nTerrenginngrep\\\n    \\ og grunnarbeider i forbindelse med opparbeidelse av tomtene tillattes \\nutenfor\\\n    \\ byggegrense. Avkj\\xF8rsel og parkering tillates utenfor byggegrense. \\n\\xA7\\\n    4.3 Garasje/Carport: Alle boenheter skal ha minst en parkering under tak til disposisjon.\\\n    \\  \\n\\xA74.4 Bestemmelsesomr\\xE5de #01 SN\\xD8: Innenfor omr\\xE5det kan det anlegges\\\n    \\ opplag for sn\\xF8. \\n \\nGrad av utnytting \\n\\xA74.5 Utnyttelsesgrad: BYA for\\\n    \\ omr\\xE5det BKS skal v\\xE6re maksimalt %-BYA= 40%. Overbygg til \\nrenovasjon\\\n    \\ eller dunker medregnes ikke i %-BYA. \\n\\xA74.6 Parkering: Det skal avsettes\\\n    \\ 2 parkeringsplasser for hver boenhet, hvor en av disse skal v\\xE6re i \\ngarasje/carport.\\\n    \\ BYA for parkering er 3x6=18m2 per plass. \\n \\nH\\xF8yder \\u2013 Utforming av\\\n    \\ bebyggelse \\n\\xA74.7 Planeringsh\\xF8yder: Maksimal planeringsh\\xF8yde er angitt\\\n    \\ i plankart. Maks planeringsh\\xF8yde er \\nK+182. \\n\\xA74.8 Takform: Bebyggelse\\\n    \\ skal ha saltak med en takvinkel mellom 30 - 40 grader.  \\n\\xA74.9 Takh\\xF8yder:\\\n    \\ Tillate takh\\xF8yder er angitt i tabellen under. H\\xF8yder regnes fra planert\\\n    \\ terreng. \\n \\n Saltak \\nM\\xF8ne 6,0 m \\nGesimsh\\xF8yde 3,5 m \\nTakvinkel 30-40\\\n    \\ grader \\n \\nSt\\xF8yf\\xF8lsom bebyggelse \\nF\\xF8r det tillates tiltak innenfor\\\n    \\ omr\\xE5det skal det gj\\xF8res st\\xF8yskjermede tiltak.   \\n\\xA74.10 Alle boenheter\\\n    \\ skal ha uteplass p\\xE5 b\\xE5de \\xF8stsiden og vestsiden av bebyggelsen.  \\n\\n\\\n    \\  3 \\n\\xA74.11 Alle boenheter skal v\\xE6re gjennomg\\xE5ende og ha minst ett soverom\\\n    \\ plassert p\\xE5 vestsiden og \\n\\xF8stsiden. Eventuelt \\xF8kt lydisolasjon i fasade\\\n    \\ i minst ett soverom i hver boenhet. \\n \\nTeknisk plan \\n\\xA74.12 Det stilles\\\n    \\ teknisk plan for VA, overvannsh\\xE5ndtering og str\\xF8mforsyning f\\xF8r \\nigangsettingstillatelse\\\n    \\ kan gis innenfor omr\\xE5det BKS. Det b\\xF8r legge til rette for \\xE5pne \\nvannveier\\\n    \\ for overvannsh\\xE5ndtering. Dersom andre l\\xF8sninger velges skal det begrunnes\\\n    \\ \\nhvorfor naturbaserte l\\xF8sninger velges bort. \\n\\xA74.13 V/A- anlegg samt\\\n    \\ vei skal dimensjoneres og opparbeides i samsvar med til enhver tids \\ngjeldende\\\n    \\ \\xABRetningslinjer for vei, vann og avl\\xF8p\\xBB for Evje og Hornnes kommune.\\\n    \\ Det skal \\nsikres teknisk godkjenning av offentlig samferdselsanlegg. \\n\\xA7\\\n    4.14 Det skal f\\xF8r utbygging avklares hvordan det nye utbyggingsomr\\xE5det i\\\n    \\ planomr\\xE5det skal \\nforsynes med elektrisk str\\xF8m. Det m\\xE5 avklares i\\\n    \\ hvilken grad eksisterende ledninger/kabler \\neventuelt kan benyttes og om nye\\\n    \\ ledninger/kabler m\\xE5 legges om og om det er behov for \\nny(e) nettstasjon(er).\\\n    \\ \\n \\nUtforming av tomt \\n\\xA74.15 Situasjonsplan: Ved s\\xF8knad om tillatelse\\\n    \\ til tiltak skal situasjonsplan vedlegges i tilpasset \\nm\\xE5lestokk som viser\\\n    \\ plassering av bebyggelse og h\\xF8yde. Situasjonsplan skal ogs\\xE5 vise \\nplassering\\\n    \\ av parkering, avkj\\xF8rsel og evt. st\\xF8ttemurer.  \\n\\xA74.16 Renovasjon: Areal\\\n    \\ for renovasjon skal vises p\\xE5 situasjonsplan. Situasjonsplanen skal vise at\\\n    \\ \\nrenovasjonsbil har tilstrekkelig snuareal innenfor planomr\\xE5det.  \\n\\xA7\\\n    4.17 Forst\\xF8tningsmur: Det tillattes forst\\xF8tningsmurer for \\xE5 tilpasse\\\n    \\ terrenget. Forst\\xF8tningsmurer \\ntillates oppf\\xF8rt utenfor byggegrense. Maks\\\n    \\ tillatt h\\xF8yde p\\xE5 forst\\xF8tningsmurer er 2,5 meter.  \\n\\xA74.18 Det stilles\\\n    \\ estetisk krav til utforming av fylling / naturstein plastret skr\\xE5ning mot\\\n    \\ bekk. \\nSkr\\xE5ning skal jord klees, tils\\xE5es og sikres mot erosjon. \\n \\n\\\n    Forsamlingslokale for religionsut\\xF8velse - BR \\n \\n\\xA74.19 Omr\\xE5det skal\\\n    \\ benyttes til nytt sentrumsn\\xE6rt bedehus i n\\xF8dvendig grad og utstrekning\\\n    \\ \\n\\xA74.20 Bygninger kan oppf\\xF8res med gesimsh\\xF8yde 8,0 meter og m\\xF8neh\\xF8\\\n    yde 10,5 meter. \\n\\xA74.21 BYA for arealform\\xE5let skal v\\xE6re maksimalt %-BYA=\\\n    \\ 50. Areal for parkering medregnes ikke i \\n%BYA \\n\\xA74.22 Det skal avsettes\\\n    \\ tilstrekkelig med parkeringsareal til gjeldende aktivitet innenfor regulert\\\n    \\ \\nomr\\xE5de. Parkeringsbehovet for bedehuset kan l\\xF8ses b\\xE5de innenfor BR\\\n    \\ og SPA. \\n\\xA74.23 Arealutnyttelse utover dette skal opparbeides parkmessig\\\n    \\ og v\\xE6re tilgjengelig for \\nallmennheten. \\n\\xA74.24 Oppgitt gesimsh\\xF8yde\\\n    \\ og m\\xF8neh\\xF8yde skal regnes ut fra gjennomsnittlig h\\xF8yde p\\xE5 tomta/\\\n    \\ \\nomr\\xE5det f\\xF8r opparbeidelse begynner. \\n\\xA74.25 Innenfor omr\\xE5det BR\\\n    \\ tillates det internveier og parkeringsplasser. \\n \\nIdrettsanlegg - BIA \\n\\xA7\\\n    4.26 Innenfor omr\\xE5det er det tillatt med tiltak som fremmer idrettsaktiviteter.\\\n    \\  \\n \\nEnergianlegg - BE \\n\\xA74.27 Innenfor omr\\xE5det er det tillatt plassering\\\n    \\ av trafo og infrastruktur i sammenheng med dette. \\n \\n  \\n\\n  4 \\n\\xA75. Samferdselsanlegg\\\n    \\ og teknisk infrastruktur (pbl 12-5 nr. 2) \\nVeg (o_SV1) \\n\\xA75.1 Veien o_SV1\\\n    \\ er adkomst for alle tilgrensende eiendommer. \\nDet skal opparbeides et fysisk\\\n    \\ skille mellom o_SV1 og omkringliggende arealform\\xE5l SPA, GF \\nog SGS. Adkomst\\\n    \\ til SPA og BR skal ikke v\\xE6re rett ovenfor hverandre. \\n \\n \\n \\nVeg (o_SV3)\\\n    \\ \\n\\xA75.2 Veien o_SV3-er adkomst for boligomr\\xE5de BKS og BR samt atkomst til\\\n    \\ o_SPA. Plasseringer av \\navkj\\xF8rsler langs o_SV3 er ikke endelige og tillates\\\n    \\ justert i samr\\xE5d med veieier. \\n \\nFortau (o_SF1-2) \\n\\xA75.3 o_SF1-2 er\\\n    \\ regulert til offentlig fortau med en bredde p\\xE5 3 meter. \\n \\nParkering (o_SPA)\\\n    \\ \\n\\xA75.4 o_SPA er offentlig parkeringsplass. \\n\\xA75.5 Parkeringsbehov for\\\n    \\ bedehuset kan l\\xF8ses innenfor o_SPA. \\n\\xA75.6 Det tillates etablert ladestasjoner\\\n    \\ innenfor omr\\xE5det.  \\n\\xA75.7 Atkomst til SPA og SGS skal ikke anlegges vertikalt\\\n    \\ rett overfor hverandre. \\n \\n \\n\\xA76. Gr\\xF8nnstruktur (pbl 12-5 nr. 3) \\n\\\n    \\ \\nFriomr\\xE5de (o_GF1-3) \\n\\xA76.1 Omr\\xE5de for friomr\\xE5de/gr\\xF8ntstruktur\\\n    \\ GF1-GF3 er til fri ferdsel for allmenheten. \\n\\xA76.2 I omr\\xE5dene er det tillat\\\n    \\ oppf\\xF8rt bebyggelse og andre tekniske installasjoner som typisk \\nberiker\\\n    \\ bruken av omr\\xE5de. \\n\\xA76.3 Innenfor omr\\xE5det GF1 skal det opparbeides\\\n    \\ et felles leke- og uteoppholdsareal for hele \\nplanomr\\xE5det. Lekeplassen skal\\\n    \\ utstyres med sand, benk og min. 3 ulike lekeapparater. \\n\\xA76.4 Det tillates\\\n    \\ avkj\\xF8rsel for BR over o_GF3 \\n\\xA76.5 Bestemmelsesomr\\xE5de #02 SN\\xD8: Innenfor\\\n    \\ omr\\xE5det kan det anlegges opplag for sn\\xF8. \\n\\xA76.6 Det tillates \\xE5 legge\\\n    \\ kabler i bakken innenfor omr\\xE5de avsatt til friomr\\xE5de. \\n\\xA76.7 Adkomst\\\n    \\ til lekearealer skal v\\xE6re universelt utformet. \\n \\nTurdrag (GTD1-2) \\n\\xA7\\\n    6.8 Omr\\xE5dene skal benyttes til turveier. \\n \\n \\n \\nDato 11.05.2022 ", images: [],\n  metadata: {num_pages: 4}}\n\n\nReturn the correct JSON response within a ```json codeblock. not the JSON_SCHEMA'}], 'temperature': 0, 'max_tokens': 4000, 'extra_body': {}}'
python_service-1  | [0m
python_service-1  | 
python_service-1  | DEBUG:LiteLLM:[92m
python_service-1  | 
python_service-1  | POST Request Sent from LiteLLM:
python_service-1  | curl -X POST \
python_service-1  | https://kartai-openai.openai.azure.com \
python_service-1  | -H 'api_key: Dm20Qg2RomLirlz8icux5Y3XavqI2BfAwmuOdjuI********************************************' -H 'azure_ad_token: *****' \
python_service-1  | -d '{'model': 'gpt-4o-mini', 'messages': [{'role': 'system', 'content': 'You are a server API that receives document information and returns specific fields in JSON format.\n\n\n        As a genius expert, your task is to understand the content and provide\n        the parsed objects in json that match the following json_schema:\n\n\n        {\n  "description": "Contract for field extraction from regulatory documents.\\n\\nDefines the structure and prompt for extracting regulation codes from\\nNorwegian planning documents (plankart and bestemmelser).\\n\\nAttributes:\\n    fields (Set[str]): Set of extracted regulation codes",\n  "properties": {\n    "fields": {\n      "items": {\n        "type": "string"\n      },\n      "title": "Fields",\n      "type": "array",\n      "uniqueItems": true\n    }\n  },\n  "required": [\n    "fields"\n  ],\n  "title": "FieldExtractContract",\n  "type": "object"\n}\n\n        Make sure to return an instance of the JSON, not the schema itself\n'}, {'role': 'user', 'content': '##Content\n\n{content: "  1 \\n  \\n \\n \\nReguleringsbestemmelser  \\nfor \\nSt\\xF8peritomta \\n \\n\\\n    Plan ID: 202102 \\nPlankart dato: 11.05.2022 \\nReguleringsbestemmelser dato: 11.05.2022\\\n    \\ \\nVedtatt PS 59/22: 16.06.2022 \\n  \\n \\n\\xA71. Planform\\xE5l \\nForm\\xE5let med\\\n    \\ planen er \\xE5 tilrettelegge for konsentrert bebyggelse med tilh\\xF8rende anlegg.\\\n    \\ \\nPlanen omfatter ogs\\xE5 kirke/annen religionsut\\xF8velse, parkeringsanlegg\\\n    \\ og idrett/park.  \\n \\nPlanen inneholder f\\xF8lgende form\\xE5l (Pbl. \\xA7 12-5):\\\n    \\ \\n \\n\\xA71.1 Bebyggelse og anlegg (pbl \\xA712-5,nr 1) \\nBoligbebyggelse- Konsentrert\\\n    \\ sm\\xE5husbebyggelse (BKS) \\nForsamlingslokale for religionsut\\xF8velse (BR)\\\n    \\ \\nIdrettsanlegg (BIA) \\nEnergianlegg (BE) \\n \\n\\xA71.2 Samferdselsanlegg og\\\n    \\ teknisk infrastruktur (pbl \\xA712-5, nr 2) \\nVeg (o_SV1 og 3) \\nFortau (o_SF)\\\n    \\ \\nParkering(o_SPA) \\n \\n\\xA71.3 Gr\\xF8nnstruktur (pbl \\xA712-5,2. ledd nr 3)\\\n    \\ \\nFriomr\\xE5de (o_GF1-3) \\nTurdrag (o_GTD1-2) \\n \\n \\n  \\n\\n\\n  2 \\n\\xA72. Rekkef\\xF8\\\n    lgebestemmelser (pbl \\xA7 12-7 nr. 10) \\n \\n\\xA72.1 F\\xF8r midlertidig brukstillatelse\\\n    \\ for BKS skal o_SV3 v\\xE6re ferdig opparbeidet.  \\n\\xA72.2 F\\xF8r midlertidig\\\n    \\ brukstillatelse for 1. boenhet p\\xE5 BKS skal lekeplass innenfor GF1 v\\xE6re\\\n    \\ ferdig \\nopparbeidet. \\n\\xA72.3 F\\xF8r midlertidig brukstillatelse p\\xE5 5.\\\n    \\ boenhet p\\xE5 BKS skal o_GTD1-2 v\\xE6re ferdig opparbeidet.  \\n\\xA72.4 F\\xF8\\\n    r midlertidig brukstillatelse for BKS skal o_SF v\\xE6re ferdig opparbeidet. \\n\\\n    \\xA72.5 F\\xF8r ferdigattest p\\xE5 BR, skal o_SF og o_SPA v\\xE6re ferdig opparbeidet.\\\n    \\ \\n \\n \\n \\n \\n \\n\\xA73. Fellesbestemmelser \\n\\xA73.1 Bygge- og anleggsst\\xF8\\\n    y skal ikke overskride st\\xF8ygrensen i tabell 4 i retningslinje for behandling\\\n    \\ \\nav st\\xF8y i arealplanlegging (T-1442/2021). St\\xF8yende aktivitet skal forega\\u030A\\\n    \\ p\\xE5 dagtid. \\n\\xA74. Bebyggelse og anlegg (pbl 12-5 nr. 1) \\nBoligbebyggelse-konsentrert\\\n    \\ sm\\xE5husbebyggelse - BKS \\n \\n\\xA74.1 Bebyggelse: Det tillates fire tomannsboliger\\\n    \\ p\\xE5 tomten. Totalt 8 boenheter.   \\n\\xA74.2 Byggegrenser: Plassering av nye\\\n    \\ tiltak skal skje innenfor byggegrensene. For \\ngarasje/carport/bod mindre enn\\\n    \\ 50 m2 BYA gjelder byggegrense p\\xE5 1 meter fra tomtegrense. \\nTerrenginngrep\\\n    \\ og grunnarbeider i forbindelse med opparbeidelse av tomtene tillattes \\nutenfor\\\n    \\ byggegrense. Avkj\\xF8rsel og parkering tillates utenfor byggegrense. \\n\\xA7\\\n    4.3 Garasje/Carport: Alle boenheter skal ha minst en parkering under tak til disposisjon.\\\n    \\  \\n\\xA74.4 Bestemmelsesomr\\xE5de #01 SN\\xD8: Innenfor omr\\xE5det kan det anlegges\\\n    \\ opplag for sn\\xF8. \\n \\nGrad av utnytting \\n\\xA74.5 Utnyttelsesgrad: BYA for\\\n    \\ omr\\xE5det BKS skal v\\xE6re maksimalt %-BYA= 40%. Overbygg til \\nrenovasjon\\\n    \\ eller dunker medregnes ikke i %-BYA. \\n\\xA74.6 Parkering: Det skal avsettes\\\n    \\ 2 parkeringsplasser for hver boenhet, hvor en av disse skal v\\xE6re i \\ngarasje/carport.\\\n    \\ BYA for parkering er 3x6=18m2 per plass. \\n \\nH\\xF8yder \\u2013 Utforming av\\\n    \\ bebyggelse \\n\\xA74.7 Planeringsh\\xF8yder: Maksimal planeringsh\\xF8yde er angitt\\\n    \\ i plankart. Maks planeringsh\\xF8yde er \\nK+182. \\n\\xA74.8 Takform: Bebyggelse\\\n    \\ skal ha saltak med en takvinkel mellom 30 - 40 grader.  \\n\\xA74.9 Takh\\xF8yder:\\\n    \\ Tillate takh\\xF8yder er angitt i tabellen under. H\\xF8yder regnes fra planert\\\n    \\ terreng. \\n \\n Saltak \\nM\\xF8ne 6,0 m \\nGesimsh\\xF8yde 3,5 m \\nTakvinkel 30-40\\\n    \\ grader \\n \\nSt\\xF8yf\\xF8lsom bebyggelse \\nF\\xF8r det tillates tiltak innenfor\\\n    \\ omr\\xE5det skal det gj\\xF8res st\\xF8yskjermede tiltak.   \\n\\xA74.10 Alle boenheter\\\n    \\ skal ha uteplass p\\xE5 b\\xE5de \\xF8stsiden og vestsiden av bebyggelsen.  \\n\\n\\\n    \\  3 \\n\\xA74.11 Alle boenheter skal v\\xE6re gjennomg\\xE5ende og ha minst ett soverom\\\n    \\ plassert p\\xE5 vestsiden og \\n\\xF8stsiden. Eventuelt \\xF8kt lydisolasjon i fasade\\\n    \\ i minst ett soverom i hver boenhet. \\n \\nTeknisk plan \\n\\xA74.12 Det stilles\\\n    \\ teknisk plan for VA, overvannsh\\xE5ndtering og str\\xF8mforsyning f\\xF8r \\nigangsettingstillatelse\\\n    \\ kan gis innenfor omr\\xE5det BKS. Det b\\xF8r legge til rette for \\xE5pne \\nvannveier\\\n    \\ for overvannsh\\xE5ndtering. Dersom andre l\\xF8sninger velges skal det begrunnes\\\n    \\ \\nhvorfor naturbaserte l\\xF8sninger velges bort. \\n\\xA74.13 V/A- anlegg samt\\\n    \\ vei skal dimensjoneres og opparbeides i samsvar med til enhver tids \\ngjeldende\\\n    \\ \\xABRetningslinjer for vei, vann og avl\\xF8p\\xBB for Evje og Hornnes kommune.\\\n    \\ Det skal \\nsikres teknisk godkjenning av offentlig samferdselsanlegg. \\n\\xA7\\\n    4.14 Det skal f\\xF8r utbygging avklares hvordan det nye utbyggingsomr\\xE5det i\\\n    \\ planomr\\xE5det skal \\nforsynes med elektrisk str\\xF8m. Det m\\xE5 avklares i\\\n    \\ hvilken grad eksisterende ledninger/kabler \\neventuelt kan benyttes og om nye\\\n    \\ ledninger/kabler m\\xE5 legges om og om det er behov for \\nny(e) nettstasjon(er).\\\n    \\ \\n \\nUtforming av tomt \\n\\xA74.15 Situasjonsplan: Ved s\\xF8knad om tillatelse\\\n    \\ til tiltak skal situasjonsplan vedlegges i tilpasset \\nm\\xE5lestokk som viser\\\n    \\ plassering av bebyggelse og h\\xF8yde. Situasjonsplan skal ogs\\xE5 vise \\nplassering\\\n    \\ av parkering, avkj\\xF8rsel og evt. st\\xF8ttemurer.  \\n\\xA74.16 Renovasjon: Areal\\\n    \\ for renovasjon skal vises p\\xE5 situasjonsplan. Situasjonsplanen skal vise at\\\n    \\ \\nrenovasjonsbil har tilstrekkelig snuareal innenfor planomr\\xE5det.  \\n\\xA7\\\n    4.17 Forst\\xF8tningsmur: Det tillattes forst\\xF8tningsmurer for \\xE5 tilpasse\\\n    \\ terrenget. Forst\\xF8tningsmurer \\ntillates oppf\\xF8rt utenfor byggegrense. Maks\\\n    \\ tillatt h\\xF8yde p\\xE5 forst\\xF8tningsmurer er 2,5 meter.  \\n\\xA74.18 Det stilles\\\n    \\ estetisk krav til utforming av fylling / naturstein plastret skr\\xE5ning mot\\\n    \\ bekk. \\nSkr\\xE5ning skal jord klees, tils\\xE5es og sikres mot erosjon. \\n \\n\\\n    Forsamlingslokale for religionsut\\xF8velse - BR \\n \\n\\xA74.19 Omr\\xE5det skal\\\n    \\ benyttes til nytt sentrumsn\\xE6rt bedehus i n\\xF8dvendig grad og utstrekning\\\n    \\ \\n\\xA74.20 Bygninger kan oppf\\xF8res med gesimsh\\xF8yde 8,0 meter og m\\xF8neh\\xF8\\\n    yde 10,5 meter. \\n\\xA74.21 BYA for arealform\\xE5let skal v\\xE6re maksimalt %-BYA=\\\n    \\ 50. Areal for parkering medregnes ikke i \\n%BYA \\n\\xA74.22 Det skal avsettes\\\n    \\ tilstrekkelig med parkeringsareal til gjeldende aktivitet innenfor regulert\\\n    \\ \\nomr\\xE5de. Parkeringsbehovet for bedehuset kan l\\xF8ses b\\xE5de innenfor BR\\\n    \\ og SPA. \\n\\xA74.23 Arealutnyttelse utover dette skal opparbeides parkmessig\\\n    \\ og v\\xE6re tilgjengelig for \\nallmennheten. \\n\\xA74.24 Oppgitt gesimsh\\xF8yde\\\n    \\ og m\\xF8neh\\xF8yde skal regnes ut fra gjennomsnittlig h\\xF8yde p\\xE5 tomta/\\\n    \\ \\nomr\\xE5det f\\xF8r opparbeidelse begynner. \\n\\xA74.25 Innenfor omr\\xE5det BR\\\n    \\ tillates det internveier og parkeringsplasser. \\n \\nIdrettsanlegg - BIA \\n\\xA7\\\n    4.26 Innenfor omr\\xE5det er det tillatt med tiltak som fremmer idrettsaktiviteter.\\\n    \\  \\n \\nEnergianlegg - BE \\n\\xA74.27 Innenfor omr\\xE5det er det tillatt plassering\\\n    \\ av trafo og infrastruktur i sammenheng med dette. \\n \\n  \\n\\n  4 \\n\\xA75. Samferdselsanlegg\\\n    \\ og teknisk infrastruktur (pbl 12-5 nr. 2) \\nVeg (o_SV1) \\n\\xA75.1 Veien o_SV1\\\n    \\ er adkomst for alle tilgrensende eiendommer. \\nDet skal opparbeides et fysisk\\\n    \\ skille mellom o_SV1 og omkringliggende arealform\\xE5l SPA, GF \\nog SGS. Adkomst\\\n    \\ til SPA og BR skal ikke v\\xE6re rett ovenfor hverandre. \\n \\n \\n \\nVeg (o_SV3)\\\n    \\ \\n\\xA75.2 Veien o_SV3-er adkomst for boligomr\\xE5de BKS og BR samt atkomst til\\\n    \\ o_SPA. Plasseringer av \\navkj\\xF8rsler langs o_SV3 er ikke endelige og tillates\\\n    \\ justert i samr\\xE5d med veieier. \\n \\nFortau (o_SF1-2) \\n\\xA75.3 o_SF1-2 er\\\n    \\ regulert til offentlig fortau med en bredde p\\xE5 3 meter. \\n \\nParkering (o_SPA)\\\n    \\ \\n\\xA75.4 o_SPA er offentlig parkeringsplass. \\n\\xA75.5 Parkeringsbehov for\\\n    \\ bedehuset kan l\\xF8ses innenfor o_SPA. \\n\\xA75.6 Det tillates etablert ladestasjoner\\\n    \\ innenfor omr\\xE5det.  \\n\\xA75.7 Atkomst til SPA og SGS skal ikke anlegges vertikalt\\\n    \\ rett overfor hverandre. \\n \\n \\n\\xA76. Gr\\xF8nnstruktur (pbl 12-5 nr. 3) \\n\\\n    \\ \\nFriomr\\xE5de (o_GF1-3) \\n\\xA76.1 Omr\\xE5de for friomr\\xE5de/gr\\xF8ntstruktur\\\n    \\ GF1-GF3 er til fri ferdsel for allmenheten. \\n\\xA76.2 I omr\\xE5dene er det tillat\\\n    \\ oppf\\xF8rt bebyggelse og andre tekniske installasjoner som typisk \\nberiker\\\n    \\ bruken av omr\\xE5de. \\n\\xA76.3 Innenfor omr\\xE5det GF1 skal det opparbeides\\\n    \\ et felles leke- og uteoppholdsareal for hele \\nplanomr\\xE5det. Lekeplassen skal\\\n    \\ utstyres med sand, benk og min. 3 ulike lekeapparater. \\n\\xA76.4 Det tillates\\\n    \\ avkj\\xF8rsel for BR over o_GF3 \\n\\xA76.5 Bestemmelsesomr\\xE5de #02 SN\\xD8: Innenfor\\\n    \\ omr\\xE5det kan det anlegges opplag for sn\\xF8. \\n\\xA76.6 Det tillates \\xE5 legge\\\n    \\ kabler i bakken innenfor omr\\xE5de avsatt til friomr\\xE5de. \\n\\xA76.7 Adkomst\\\n    \\ til lekearealer skal v\\xE6re universelt utformet. \\n \\nTurdrag (GTD1-2) \\n\\xA7\\\n    6.8 Omr\\xE5dene skal benyttes til turveier. \\n \\n \\n \\nDato 11.05.2022 ", images: [],\n  metadata: {num_pages: 4}}\n\n\nReturn the correct JSON response within a ```json codeblock. not the JSON_SCHEMA'}], 'temperature': 0, 'max_tokens': 4000, 'extra_body': {}}'
python_service-1  | [0m
python_service-1  | 
python_service-1  | [92m11:30:04 - LiteLLM:DEBUG[0m: utils.py:298 - RAW RESPONSE:
python_service-1  | {"id": "chatcmpl-AziklkAQpVnaGsnDK2XkEo6mxMwJl", "choices": [{"finish_reason": "stop", "index": 0, "logprobs": null, "message": {"content": "```json\n{\n  \"fields\": [\n    \"Pbl. \u00a7 12-5, nr 1\",\n    \"BKS\",\n    \"BR\",\n    \"BIA\",\n    \"BE\",\n    \"Pbl. \u00a7 12-5, nr 2\",\n    \"o_SV1\",\n    \"o_SV3\",\n    \"o_SF\",\n    \"o_SPA\",\n    \"Pbl. \u00a7 12-5, 2. ledd nr 3\",\n    \"o_GF1-3\",\n    \"o_GTD1-2\",\n    \"Pbl. \u00a7 12-7 nr. 10\"\n  ]\n}\n```", "refusal": null, "role": "assistant", "audio": null, "function_call": null, "tool_calls": null}, "content_filter_results": {"hate": {"filtered": false, "severity": "safe"}, "protected_material_code": {"filtered": false, "detected": false}, "protected_material_text": {"filtered": false, "detected": false}, "self_harm": {"filtered": false, "severity": "safe"}, "sexual": {"filtered": false, "severity": "safe"}, "violence": {"filtered": false, "severity": "safe"}}}], "created": 1739273403, "model": "gpt-4o-mini-2024-07-18", "object": "chat.completion", "service_tier": null, "system_fingerprint": "fp_f3927aa00d", "usage": {"completion_tokens": 139, "prompt_tokens": 3976, "total_tokens": 4115, "completion_tokens_details": {"accepted_prediction_tokens": 0, "audio_tokens": 0, "reasoning_tokens": 0, "rejected_prediction_tokens": 0}, "prompt_tokens_details": {"audio_tokens": 0, "cached_tokens": 0}}, "prompt_filter_results": [{"prompt_index": 0, "content_filter_results": {"hate": {"filtered": false, "severity": "safe"}, "jailbreak": {"filtered": false, "detected": false}, "self_harm": {"filtered": false, "severity": "safe"}, "sexual": {"filtered": false, "severity": "safe"}, "violence": {"filtered": false, "severity": "safe"}}}]}
python_service-1  | 
python_service-1  | 
python_service-1  | DEBUG:LiteLLM:RAW RESPONSE:
python_service-1  | {"id": "chatcmpl-AziklkAQpVnaGsnDK2XkEo6mxMwJl", "choices": [{"finish_reason": "stop", "index": 0, "logprobs": null, "message": {"content": "```json\n{\n  \"fields\": [\n    \"Pbl. \u00a7 12-5, nr 1\",\n    \"BKS\",\n    \"BR\",\n    \"BIA\",\n    \"BE\",\n    \"Pbl. \u00a7 12-5, nr 2\",\n    \"o_SV1\",\n    \"o_SV3\",\n    \"o_SF\",\n    \"o_SPA\",\n    \"Pbl. \u00a7 12-5, 2. ledd nr 3\",\n    \"o_GF1-3\",\n    \"o_GTD1-2\",\n    \"Pbl. \u00a7 12-7 nr. 10\"\n  ]\n}\n```", "refusal": null, "role": "assistant", "audio": null, "function_call": null, "tool_calls": null}, "content_filter_results": {"hate": {"filtered": false, "severity": "safe"}, "protected_material_code": {"filtered": false, "detected": false}, "protected_material_text": {"filtered": false, "detected": false}, "self_harm": {"filtered": false, "severity": "safe"}, "sexual": {"filtered": false, "severity": "safe"}, "violence": {"filtered": false, "severity": "safe"}}}], "created": 1739273403, "model": "gpt-4o-mini-2024-07-18", "object": "chat.completion", "service_tier": null, "system_fingerprint": "fp_f3927aa00d", "usage": {"completion_tokens": 139, "prompt_tokens": 3976, "total_tokens": 4115, "completion_tokens_details": {"accepted_prediction_tokens": 0, "audio_tokens": 0, "reasoning_tokens": 0, "rejected_prediction_tokens": 0}, "prompt_tokens_details": {"audio_tokens": 0, "cached_tokens": 0}}, "prompt_filter_results": [{"prompt_index": 0, "content_filter_results": {"hate": {"filtered": false, "severity": "safe"}, "jailbreak": {"filtered": false, "detected": false}, "self_harm": {"filtered": false, "severity": "safe"}, "sexual": {"filtered": false, "severity": "safe"}, "violence": {"filtered": false, "severity": "safe"}}}]}
python_service-1  | 
python_service-1  | 
python_service-1  | [92m11:30:04 - LiteLLM:INFO[0m: utils.py:1084 - Wrapper: Completed Call, calling success_handler
python_service-1  | INFO:LiteLLM:Wrapper: Completed Call, calling success_handler
python_service-1  | [92m11:30:04 - LiteLLM:DEBUG[0m: cost_calculator.py:563 - completion_response _select_model_name_for_cost_calc: azure/gpt-4o-mini-2024-07-18
python_service-1  | DEBUG:LiteLLM:completion_response _select_model_name_for_cost_calc: azure/gpt-4o-mini-2024-07-18
python_service-1  | [92m11:30:04 - LiteLLM:DEBUG[0m: utils.py:4175 - checking potential_model_names in litellm.model_cost: {'split_model': 'gpt-4o-mini-2024-07-18', 'combined_model_name': 'azure/gpt-4o-mini-2024-07-18', 'stripped_model_name': 'gpt-4o-mini-2024-07-18', 'combined_stripped_model_name': 'azure/gpt-4o-mini-2024-07-18', 'custom_llm_provider': 'azure'}
python_service-1  | DEBUG:LiteLLM:checking potential_model_names in litellm.model_cost: {'split_model': 'gpt-4o-mini-2024-07-18', 'combined_model_name': 'azure/gpt-4o-mini-2024-07-18', 'stripped_model_name': 'gpt-4o-mini-2024-07-18', 'combined_stripped_model_name': 'azure/gpt-4o-mini-2024-07-18', 'custom_llm_provider': 'azure'}
python_service-1  | [92m11:30:04 - LiteLLM:DEBUG[0m: litellm_logging.py:1014 - Logging Details LiteLLM-Success Call: Cache_hit=None
python_service-1  | [92m11:30:04 - LiteLLM:DEBUG[0m: utils.py:4453 - model_info: {'key': 'azure/gpt-4o-mini-2024-07-18', 'max_tokens': 16384, 'max_input_tokens': 128000, 'max_output_tokens': 16384, 'input_cost_per_token': 1.65e-07, 'cache_creation_input_token_cost': None, 'cache_read_input_token_cost': 7.5e-08, 'input_cost_per_character': None, 'input_cost_per_token_above_128k_tokens': None, 'input_cost_per_query': None, 'input_cost_per_second': None, 'input_cost_per_audio_token': None, 'output_cost_per_token': 6.6e-07, 'output_cost_per_audio_token': None, 'output_cost_per_character': None, 'output_cost_per_token_above_128k_tokens': None, 'output_cost_per_character_above_128k_tokens': None, 'output_cost_per_second': None, 'output_cost_per_image': None, 'output_vector_size': None, 'litellm_provider': 'azure', 'mode': 'chat', 'supports_system_messages': None, 'supports_response_schema': True, 'supports_vision': True, 'supports_function_calling': True, 'supports_tool_choice': True, 'supports_assistant_prefill': False, 'supports_prompt_caching': True, 'supports_audio_input': False, 'supports_audio_output': False, 'supports_pdf_input': False, 'supports_embedding_image_input': False, 'supports_native_streaming': None, 'tpm': None, 'rpm': None}
python_service-1  | DEBUG:LiteLLM:Logging Details LiteLLM-Success Call: Cache_hit=None
python_service-1  | [92m11:30:04 - LiteLLM:DEBUG[0m: cost_calculator.py:563 - completion_response _select_model_name_for_cost_calc: azure/gpt-4o-mini-2024-07-18
python_service-1  | DEBUG:LiteLLM:model_info: {'key': 'azure/gpt-4o-mini-2024-07-18', 'max_tokens': 16384, 'max_input_tokens': 128000, 'max_output_tokens': 16384, 'input_cost_per_token': 1.65e-07, 'cache_creation_input_token_cost': None, 'cache_read_input_token_cost': 7.5e-08, 'input_cost_per_character': None, 'input_cost_per_token_above_128k_tokens': None, 'input_cost_per_query': None, 'input_cost_per_second': None, 'input_cost_per_audio_token': None, 'output_cost_per_token': 6.6e-07, 'output_cost_per_audio_token': None, 'output_cost_per_character': None, 'output_cost_per_token_above_128k_tokens': None, 'output_cost_per_character_above_128k_tokens': None, 'output_cost_per_second': None, 'output_cost_per_image': None, 'output_vector_size': None, 'litellm_provider': 'azure', 'mode': 'chat', 'supports_system_messages': None, 'supports_response_schema': True, 'supports_vision': True, 'supports_function_calling': True, 'supports_tool_choice': True, 'supports_assistant_prefill': False, 'supports_prompt_caching': True, 'supports_audio_input': False, 'supports_audio_output': False, 'supports_pdf_input': False, 'supports_embedding_image_input': False, 'supports_native_streaming': None, 'tpm': None, 'rpm': None}
python_service-1  | DEBUG:LiteLLM:completion_response _select_model_name_for_cost_calc: azure/gpt-4o-mini-2024-07-18
python_service-1  | [92m11:30:04 - LiteLLM:DEBUG[0m: litellm_logging.py:846 - response_cost: 0.00074778
python_service-1  | DEBUG:LiteLLM:response_cost: 0.00074778
python_service-1  | DEBUG:app.llm.extractor:Available base codes: set()
python_service-1  | DEBUG:app.llm.extractor:Checking field: o_SV1
python_service-1  | WARNING:app.llm.extractor:No base codes available, using pattern matching
python_service-1  | [92m11:30:04 - LiteLLM:DEBUG[0m: utils.py:4175 - checking potential_model_names in litellm.model_cost: {'split_model': 'gpt-4o-mini-2024-07-18', 'combined_model_name': 'azure/gpt-4o-mini-2024-07-18', 'stripped_model_name': 'gpt-4o-mini-2024-07-18', 'combined_stripped_model_name': 'azure/gpt-4o-mini-2024-07-18', 'custom_llm_provider': 'azure'}
python_service-1  | DEBUG:LiteLLM:checking potential_model_names in litellm.model_cost: {'split_model': 'gpt-4o-mini-2024-07-18', 'combined_model_name': 'azure/gpt-4o-mini-2024-07-18', 'stripped_model_name': 'gpt-4o-mini-2024-07-18', 'combined_stripped_model_name': 'azure/gpt-4o-mini-2024-07-18', 'custom_llm_provider': 'azure'}
python_service-1  | [92m11:30:04 - LiteLLM:DEBUG[0m: utils.py:4453 - model_info: {'key': 'azure/gpt-4o-mini-2024-07-18', 'max_tokens': 16384, 'max_input_tokens': 128000, 'max_output_tokens': 16384, 'input_cost_per_token': 1.65e-07, 'cache_creation_input_token_cost': None, 'cache_read_input_token_cost': 7.5e-08, 'input_cost_per_character': None, 'input_cost_per_token_above_128k_tokens': None, 'input_cost_per_query': None, 'input_cost_per_second': None, 'input_cost_per_audio_token': None, 'output_cost_per_token': 6.6e-07, 'output_cost_per_audio_token': None, 'output_cost_per_character': None, 'output_cost_per_token_above_128k_tokens': None, 'output_cost_per_character_above_128k_tokens': None, 'output_cost_per_second': None, 'output_cost_per_image': None, 'output_vector_size': None, 'litellm_provider': 'azure', 'mode': 'chat', 'supports_system_messages': None, 'supports_response_schema': True, 'supports_vision': True, 'supports_function_calling': True, 'supports_tool_choice': True, 'supports_assistant_prefill': False, 'supports_prompt_caching': True, 'supports_audio_input': False, 'supports_audio_output': False, 'supports_pdf_input': False, 'supports_embedding_image_input': False, 'supports_native_streaming': None, 'tpm': None, 'rpm': None}
python_service-1  | DEBUG:app.llm.extractor:Added valid code: o_SV1
python_service-1  | DEBUG:LiteLLM:model_info: {'key': 'azure/gpt-4o-mini-2024-07-18', 'max_tokens': 16384, 'max_input_tokens': 128000, 'max_output_tokens': 16384, 'input_cost_per_token': 1.65e-07, 'cache_creation_input_token_cost': None, 'cache_read_input_token_cost': 7.5e-08, 'input_cost_per_character': None, 'input_cost_per_token_above_128k_tokens': None, 'input_cost_per_query': None, 'input_cost_per_second': None, 'input_cost_per_audio_token': None, 'output_cost_per_token': 6.6e-07, 'output_cost_per_audio_token': None, 'output_cost_per_character': None, 'output_cost_per_token_above_128k_tokens': None, 'output_cost_per_character_above_128k_tokens': None, 'output_cost_per_second': None, 'output_cost_per_image': None, 'output_vector_size': None, 'litellm_provider': 'azure', 'mode': 'chat', 'supports_system_messages': None, 'supports_response_schema': True, 'supports_vision': True, 'supports_function_calling': True, 'supports_tool_choice': True, 'supports_assistant_prefill': False, 'supports_prompt_caching': True, 'supports_audio_input': False, 'supports_audio_output': False, 'supports_pdf_input': False, 'supports_embedding_image_input': False, 'supports_native_streaming': None, 'tpm': None, 'rpm': None}
python_service-1  | [92m11:30:04 - LiteLLM:DEBUG[0m: litellm_logging.py:846 - response_cost: 0.00074778
python_service-1  | DEBUG:app.llm.extractor:Checking field: o_SV3
python_service-1  | WARNING:app.llm.extractor:No base codes available, using pattern matching
python_service-1  | DEBUG:app.llm.extractor:Added valid code: o_SV3
python_service-1  | DEBUG:app.llm.extractor:Checking field: BKS
python_service-1  | DEBUG:LiteLLM:response_cost: 0.00074778
python_service-1  | [92m11:30:04 - LiteLLM:DEBUG[0m: utils.py:4175 - checking potential_model_names in litellm.model_cost: {'split_model': 'gpt-4o-mini-2024-07-18', 'combined_model_name': 'azure/gpt-4o-mini-2024-07-18', 'stripped_model_name': 'gpt-4o-mini-2024-07-18', 'combined_stripped_model_name': 'azure/gpt-4o-mini-2024-07-18', 'custom_llm_provider': 'azure'}
python_service-1  | WARNING:app.llm.extractor:No base codes available, using pattern matching
python_service-1  | DEBUG:LiteLLM:checking potential_model_names in litellm.model_cost: {'split_model': 'gpt-4o-mini-2024-07-18', 'combined_model_name': 'azure/gpt-4o-mini-2024-07-18', 'stripped_model_name': 'gpt-4o-mini-2024-07-18', 'combined_stripped_model_name': 'azure/gpt-4o-mini-2024-07-18', 'custom_llm_provider': 'azure'}
python_service-1  | [92m11:30:04 - LiteLLM:DEBUG[0m: utils.py:4453 - model_info: {'key': 'azure/gpt-4o-mini-2024-07-18', 'max_tokens': 16384, 'max_input_tokens': 128000, 'max_output_tokens': 16384, 'input_cost_per_token': 1.65e-07, 'cache_creation_input_token_cost': None, 'cache_read_input_token_cost': 7.5e-08, 'input_cost_per_character': None, 'input_cost_per_token_above_128k_tokens': None, 'input_cost_per_query': None, 'input_cost_per_second': None, 'input_cost_per_audio_token': None, 'output_cost_per_token': 6.6e-07, 'output_cost_per_audio_token': None, 'output_cost_per_character': None, 'output_cost_per_token_above_128k_tokens': None, 'output_cost_per_character_above_128k_tokens': None, 'output_cost_per_second': None, 'output_cost_per_image': None, 'output_vector_size': None, 'litellm_provider': 'azure', 'mode': 'chat', 'supports_system_messages': None, 'supports_response_schema': True, 'supports_vision': True, 'supports_function_calling': True, 'supports_tool_choice': True, 'supports_assistant_prefill': False, 'supports_prompt_caching': True, 'supports_audio_input': False, 'supports_audio_output': False, 'supports_pdf_input': False, 'supports_embedding_image_input': False, 'supports_native_streaming': None, 'tpm': None, 'rpm': None}
python_service-1  | DEBUG:app.llm.extractor:Added valid code: BKS
python_service-1  | DEBUG:app.llm.extractor:Checking field: o_SF
python_service-1  | WARNING:app.llm.extractor:No base codes available, using pattern matching
python_service-1  | DEBUG:app.llm.extractor:Added valid code: o_SF
python_service-1  | DEBUG:app.llm.extractor:Checking field: o_GF1-3
python_service-1  | WARNING:app.llm.extractor:No base codes available, using pattern matching
python_service-1  | DEBUG:app.llm.extractor:Added valid code: o_GF1-3
python_service-1  | DEBUG:LiteLLM:model_info: {'key': 'azure/gpt-4o-mini-2024-07-18', 'max_tokens': 16384, 'max_input_tokens': 128000, 'max_output_tokens': 16384, 'input_cost_per_token': 1.65e-07, 'cache_creation_input_token_cost': None, 'cache_read_input_token_cost': 7.5e-08, 'input_cost_per_character': None, 'input_cost_per_token_above_128k_tokens': None, 'input_cost_per_query': None, 'input_cost_per_second': None, 'input_cost_per_audio_token': None, 'output_cost_per_token': 6.6e-07, 'output_cost_per_audio_token': None, 'output_cost_per_character': None, 'output_cost_per_token_above_128k_tokens': None, 'output_cost_per_character_above_128k_tokens': None, 'output_cost_per_second': None, 'output_cost_per_image': None, 'output_vector_size': None, 'litellm_provider': 'azure', 'mode': 'chat', 'supports_system_messages': None, 'supports_response_schema': True, 'supports_vision': True, 'supports_function_calling': True, 'supports_tool_choice': True, 'supports_assistant_prefill': False, 'supports_prompt_caching': True, 'supports_audio_input': False, 'supports_audio_output': False, 'supports_pdf_input': False, 'supports_embedding_image_input': False, 'supports_native_streaming': None, 'tpm': None, 'rpm': None}
python_service-1  | [92m11:30:04 - LiteLLM:DEBUG[0m: litellm_logging.py:1040 - Logging Details LiteLLM-Success Call streaming complete
python_service-1  | DEBUG:app.llm.extractor:Checking field: BR
python_service-1  | DEBUG:LiteLLM:Logging Details LiteLLM-Success Call streaming complete
python_service-1  | [92m11:30:04 - LiteLLM:DEBUG[0m: cost_calculator.py:563 - completion_response _select_model_name_for_cost_calc: azure/gpt-4o-mini-2024-07-18
python_service-1  | WARNING:app.llm.extractor:No base codes available, using pattern matching
python_service-1  | DEBUG:app.llm.extractor:Checking field: Pbl. ¬ß 12-5, nr 2
python_service-1  | WARNING:app.llm.extractor:No base codes available, using pattern matching
python_service-1  | DEBUG:LiteLLM:completion_response _select_model_name_for_cost_calc: azure/gpt-4o-mini-2024-07-18
python_service-1  | [92m11:30:04 - LiteLLM:DEBUG[0m: utils.py:4175 - checking potential_model_names in litellm.model_cost: {'split_model': 'gpt-4o-mini-2024-07-18', 'combined_model_name': 'azure/gpt-4o-mini-2024-07-18', 'stripped_model_name': 'gpt-4o-mini-2024-07-18', 'combined_stripped_model_name': 'azure/gpt-4o-mini-2024-07-18', 'custom_llm_provider': 'azure'}
python_service-1  | DEBUG:app.llm.extractor:Checking field: BIA
python_service-1  | DEBUG:LiteLLM:checking potential_model_names in litellm.model_cost: {'split_model': 'gpt-4o-mini-2024-07-18', 'combined_model_name': 'azure/gpt-4o-mini-2024-07-18', 'stripped_model_name': 'gpt-4o-mini-2024-07-18', 'combined_stripped_model_name': 'azure/gpt-4o-mini-2024-07-18', 'custom_llm_provider': 'azure'}
python_service-1  | [92m11:30:04 - LiteLLM:DEBUG[0m: utils.py:4453 - model_info: {'key': 'azure/gpt-4o-mini-2024-07-18', 'max_tokens': 16384, 'max_input_tokens': 128000, 'max_output_tokens': 16384, 'input_cost_per_token': 1.65e-07, 'cache_creation_input_token_cost': None, 'cache_read_input_token_cost': 7.5e-08, 'input_cost_per_character': None, 'input_cost_per_token_above_128k_tokens': None, 'input_cost_per_query': None, 'input_cost_per_second': None, 'input_cost_per_audio_token': None, 'output_cost_per_token': 6.6e-07, 'output_cost_per_audio_token': None, 'output_cost_per_character': None, 'output_cost_per_token_above_128k_tokens': None, 'output_cost_per_character_above_128k_tokens': None, 'output_cost_per_second': None, 'output_cost_per_image': None, 'output_vector_size': None, 'litellm_provider': 'azure', 'mode': 'chat', 'supports_system_messages': None, 'supports_response_schema': True, 'supports_vision': True, 'supports_function_calling': True, 'supports_tool_choice': True, 'supports_assistant_prefill': False, 'supports_prompt_caching': True, 'supports_audio_input': False, 'supports_audio_output': False, 'supports_pdf_input': False, 'supports_embedding_image_input': False, 'supports_native_streaming': None, 'tpm': None, 'rpm': None}
python_service-1  | WARNING:app.llm.extractor:No base codes available, using pattern matching
python_service-1  | DEBUG:LiteLLM:model_info: {'key': 'azure/gpt-4o-mini-2024-07-18', 'max_tokens': 16384, 'max_input_tokens': 128000, 'max_output_tokens': 16384, 'input_cost_per_token': 1.65e-07, 'cache_creation_input_token_cost': None, 'cache_read_input_token_cost': 7.5e-08, 'input_cost_per_character': None, 'input_cost_per_token_above_128k_tokens': None, 'input_cost_per_query': None, 'input_cost_per_second': None, 'input_cost_per_audio_token': None, 'output_cost_per_token': 6.6e-07, 'output_cost_per_audio_token': None, 'output_cost_per_character': None, 'output_cost_per_token_above_128k_tokens': None, 'output_cost_per_character_above_128k_tokens': None, 'output_cost_per_second': None, 'output_cost_per_image': None, 'output_vector_size': None, 'litellm_provider': 'azure', 'mode': 'chat', 'supports_system_messages': None, 'supports_response_schema': True, 'supports_vision': True, 'supports_function_calling': True, 'supports_tool_choice': True, 'supports_assistant_prefill': False, 'supports_prompt_caching': True, 'supports_audio_input': False, 'supports_audio_output': False, 'supports_pdf_input': False, 'supports_embedding_image_input': False, 'supports_native_streaming': None, 'tpm': None, 'rpm': None}
python_service-1  | [92m11:30:04 - LiteLLM:DEBUG[0m: litellm_logging.py:861 - response_cost_failure_debug_information: {'error_str': "'CompletionUsage' object is not subscriptable", 'traceback_str': 'Traceback (most recent call last):\n  File "/usr/local/lib/python3.12/site-packages/litellm/litellm_core_utils/litellm_logging.py", line 843, in _response_cost_calculator\n    response_cost = litellm.response_cost_calculator(\n                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "/usr/local/lib/python3.12/site-packages/litellm/cost_calculator.py", line 833, in response_cost_calculator\n    raise e\n  File "/usr/local/lib/python3.12/site-packages/litellm/cost_calculator.py", line 821, in response_cost_calculator\n    response_cost = completion_cost(\n                    ^^^^^^^^^^^^^^^^\n  File "/usr/local/lib/python3.12/site-packages/litellm/cost_calculator.py", line 771, in completion_cost\n    raise e\n  File "/usr/local/lib/python3.12/site-packages/litellm/cost_calculator.py", line 750, in completion_cost\n    ) = cost_per_token(\n        ^^^^^^^^^^^^^^^\n  File "/usr/local/lib/python3.12/site-packages/litellm/cost_calculator.py", line 279, in cost_per_token\n    return azure_openai_cost_per_token(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "/usr/local/lib/python3.12/site-packages/litellm/llms/azure/cost_calculation.py", line 38, in cost_per_token\n    usage["completion_tokens"] * model_info["output_cost_per_token"]\n    ~~~~~^^^^^^^^^^^^^^^^^^^^^\nTypeError: \'CompletionUsage\' object is not subscriptable\n', 'model': 'gpt-4o-mini', 'cache_hit': None, 'custom_llm_provider': 'azure', 'base_model': None, 'call_type': 'completion', 'custom_pricing': False}
python_service-1  | DEBUG:app.llm.extractor:Checking field: Pbl. ¬ß 12-5, 2. ledd nr 3
python_service-1  | WARNING:app.llm.extractor:No base codes available, using pattern matching
python_service-1  | DEBUG:LiteLLM:response_cost_failure_debug_information: {'error_str': "'CompletionUsage' object is not subscriptable", 'traceback_str': 'Traceback (most recent call last):\n  File "/usr/local/lib/python3.12/site-packages/litellm/litellm_core_utils/litellm_logging.py", line 843, in _response_cost_calculator\n    response_cost = litellm.response_cost_calculator(\n                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "/usr/local/lib/python3.12/site-packages/litellm/cost_calculator.py", line 833, in response_cost_calculator\n    raise e\n  File "/usr/local/lib/python3.12/site-packages/litellm/cost_calculator.py", line 821, in response_cost_calculator\n    response_cost = completion_cost(\n                    ^^^^^^^^^^^^^^^^\n  File "/usr/local/lib/python3.12/site-packages/litellm/cost_calculator.py", line 771, in completion_cost\n    raise e\n  File "/usr/local/lib/python3.12/site-packages/litellm/cost_calculator.py", line 750, in completion_cost\n    ) = cost_per_token(\n        ^^^^^^^^^^^^^^^\n  File "/usr/local/lib/python3.12/site-packages/litellm/cost_calculator.py", line 279, in cost_per_token\n    return azure_openai_cost_per_token(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "/usr/local/lib/python3.12/site-packages/litellm/llms/azure/cost_calculation.py", line 38, in cost_per_token\n    usage["completion_tokens"] * model_info["output_cost_per_token"]\n    ~~~~~^^^^^^^^^^^^^^^^^^^^^\nTypeError: \'CompletionUsage\' object is not subscriptable\n', 'model': 'gpt-4o-mini', 'cache_hit': None, 'custom_llm_provider': 'azure', 'base_model': None, 'call_type': 'completion', 'custom_pricing': False}
python_service-1  | [92m11:30:04 - LiteLLM:DEBUG[0m: utils.py:4175 - checking potential_model_names in litellm.model_cost: {'split_model': 'gpt-4o-mini-2024-07-18', 'combined_model_name': 'azure/gpt-4o-mini-2024-07-18', 'stripped_model_name': 'gpt-4o-mini-2024-07-18', 'combined_stripped_model_name': 'azure/gpt-4o-mini-2024-07-18', 'custom_llm_provider': 'azure'}
python_service-1  | DEBUG:app.llm.extractor:Checking field: o_GTD1-2
python_service-1  | WARNING:app.llm.extractor:No base codes available, using pattern matching
python_service-1  | DEBUG:app.llm.extractor:Added valid code: o_GTD1-2
python_service-1  | DEBUG:LiteLLM:checking potential_model_names in litellm.model_cost: {'split_model': 'gpt-4o-mini-2024-07-18', 'combined_model_name': 'azure/gpt-4o-mini-2024-07-18', 'stripped_model_name': 'gpt-4o-mini-2024-07-18', 'combined_stripped_model_name': 'azure/gpt-4o-mini-2024-07-18', 'custom_llm_provider': 'azure'}
python_service-1  | [92m11:30:04 - LiteLLM:DEBUG[0m: utils.py:4453 - model_info: {'key': 'azure/gpt-4o-mini-2024-07-18', 'max_tokens': 16384, 'max_input_tokens': 128000, 'max_output_tokens': 16384, 'input_cost_per_token': 1.65e-07, 'cache_creation_input_token_cost': None, 'cache_read_input_token_cost': 7.5e-08, 'input_cost_per_character': None, 'input_cost_per_token_above_128k_tokens': None, 'input_cost_per_query': None, 'input_cost_per_second': None, 'input_cost_per_audio_token': None, 'output_cost_per_token': 6.6e-07, 'output_cost_per_audio_token': None, 'output_cost_per_character': None, 'output_cost_per_token_above_128k_tokens': None, 'output_cost_per_character_above_128k_tokens': None, 'output_cost_per_second': None, 'output_cost_per_image': None, 'output_vector_size': None, 'litellm_provider': 'azure', 'mode': 'chat', 'supports_system_messages': None, 'supports_response_schema': True, 'supports_vision': True, 'supports_function_calling': True, 'supports_tool_choice': True, 'supports_assistant_prefill': False, 'supports_prompt_caching': True, 'supports_audio_input': False, 'supports_audio_output': False, 'supports_pdf_input': False, 'supports_embedding_image_input': False, 'supports_native_streaming': None, 'tpm': None, 'rpm': None}
python_service-1  | DEBUG:app.llm.extractor:Checking field: Pbl. ¬ß 12-7 nr. 10
python_service-1  | WARNING:app.llm.extractor:No base codes available, using pattern matching
python_service-1  | DEBUG:app.llm.extractor:Checking field: o_SPA
python_service-1  | WARNING:app.llm.extractor:No base codes available, using pattern matching
python_service-1  | DEBUG:app.llm.extractor:Added valid code: o_SPA
python_service-1  | DEBUG:app.llm.extractor:Checking field: BE
python_service-1  | WARNING:app.llm.extractor:No base codes available, using pattern matching
python_service-1  | DEBUG:app.llm.extractor:Checking field: Pbl. ¬ß 12-5, nr 1
python_service-1  | DEBUG:LiteLLM:model_info: {'key': 'azure/gpt-4o-mini-2024-07-18', 'max_tokens': 16384, 'max_input_tokens': 128000, 'max_output_tokens': 16384, 'input_cost_per_token': 1.65e-07, 'cache_creation_input_token_cost': None, 'cache_read_input_token_cost': 7.5e-08, 'input_cost_per_character': None, 'input_cost_per_token_above_128k_tokens': None, 'input_cost_per_query': None, 'input_cost_per_second': None, 'input_cost_per_audio_token': None, 'output_cost_per_token': 6.6e-07, 'output_cost_per_audio_token': None, 'output_cost_per_character': None, 'output_cost_per_token_above_128k_tokens': None, 'output_cost_per_character_above_128k_tokens': None, 'output_cost_per_second': None, 'output_cost_per_image': None, 'output_vector_size': None, 'litellm_provider': 'azure', 'mode': 'chat', 'supports_system_messages': None, 'supports_response_schema': True, 'supports_vision': True, 'supports_function_calling': True, 'supports_tool_choice': True, 'supports_assistant_prefill': False, 'supports_prompt_caching': True, 'supports_audio_input': False, 'supports_audio_output': False, 'supports_pdf_input': False, 'supports_embedding_image_input': False, 'supports_native_streaming': None, 'tpm': None, 'rpm': None}
python_service-1  | WARNING:app.llm.extractor:No base codes available, using pattern matching
python_service-1  | INFO:app.llm.extractor:Extracted fields: {'BKS', 'O_SV3', 'O_GTD1-2', 'O_SF', 'O_GF1-3', 'O_SPA', 'O_SV1'}
python_service-1  | INFO:app.main:Field consistency check completed successfully
python_service-1  | INFO:     172.19.0.4:38424 - "POST /api/check-field-consistency HTTP/1.1" 200 OK
python_service-1  | DEBUG:python_multipart.multipart:Calling on_part_begin with no data
python_service-1  | DEBUG:python_multipart.multipart:Calling on_header_field with data[40:52]
python_service-1  | DEBUG:python_multipart.multipart:Calling on_header_value with data[54:69]
python_service-1  | DEBUG:python_multipart.multipart:Calling on_header_end with no data
python_service-1  | DEBUG:python_multipart.multipart:Calling on_header_field with data[71:90]
python_service-1  | DEBUG:python_multipart.multipart:Calling on_header_value with data[92:226]
python_service-1  | DEBUG:python_multipart.multipart:Calling on_header_end with no data
python_service-1  | DEBUG:python_multipart.multipart:Calling on_headers_finished with no data
python_service-1  | DEBUG:python_multipart.multipart:Calling on_part_data with data[230:32779]
python_service-1  | DEBUG:python_multipart.multipart:Calling on_part_data with data[0:262144]
python_service-1  | DEBUG:python_multipart.multipart:Calling on_part_data with data[0:236336]
python_service-1  | DEBUG:python_multipart.multipart:Calling on_part_data with data[0:2]
python_service-1  | DEBUG:python_multipart.multipart:Calling on_part_end with no data
python_service-1  | DEBUG:python_multipart.multipart:Calling on_part_begin with no data
python_service-1  | DEBUG:python_multipart.multipart:Calling on_header_field with data[42:54]
python_service-1  | DEBUG:python_multipart.multipart:Calling on_header_value with data[56:71]
python_service-1  | DEBUG:python_multipart.multipart:Calling on_header_end with no data
python_service-1  | DEBUG:python_multipart.multipart:Calling on_header_field with data[73:92]
python_service-1  | DEBUG:python_multipart.multipart:Calling on_header_value with data[94:232]
python_service-1  | DEBUG:python_multipart.multipart:Calling on_header_end with no data
python_service-1  | DEBUG:python_multipart.multipart:Calling on_headers_finished with no data
python_service-1  | DEBUG:python_multipart.multipart:Calling on_part_data with data[236:131308]
python_service-1  | DEBUG:python_multipart.multipart:Calling on_part_data with data[0:51925]
python_service-1  | DEBUG:python_multipart.multipart:Calling on_part_end with no data
python_service-1  | DEBUG:python_multipart.multipart:Calling on_end with no data
python_service-1  | INFO:app.main:Received files: plankart=97ef0f81-08ea-4d05-805b-d8d7f7b0f9c1.pdf, bestemmelser=b211bf89-8b63-4dc3-8467-a9b18e4bfa2a.pdf
python_service-1  | DEBUG:app.llm.extractor:Raw text from PDF: [{'content': 'Alfred Uglands veg\nEvje aktivitetspark\n50/132\n50/40\nGudvangen\n49/70\n49/87\n42/12\n49/78\n49/8050/128\n50/139\n50/101\n50/89\n49/77\n49/83\n50/6650/127 50/151\n42/51\n49/10\n49/82\n49/86\n50/40\n50/40\n50/59\n50/71\n50/132\n50/148\n50/155\n50/158\n50/600\n42/25\n50/637\nBR\nBIA\no_SPA\no_GF3\no_GF1\no_GF2\no_GTD1\no_GTD2\nA=2889 m¬≤\n%-BYA=\n40%\nBKS\nA=3304 m¬≤\n%-BYA=45%\no_SV1\no_SV3\nf_BE\nH220\nH210\n#01 SN√ò\n#02 SN√ò\nPlanert terreng =c+182,0moh\nH320\nVegstenges\no_SF2\no_SF1\n√ò430350\n√ò430425\n√ò430500\n√ò430575\nN6494250\nN6494325 N6494400\nN6494475\nN\n01937.5m\nTegnforklaring\nReguleringsplan PBL 2008\n¬ß12-5. Nr. 1 - Bebyggelse og anlegg\nBoligbebyggelse-konsentrert\nsm√•husbebyggelseBKS\nForsamlingslokale for\nreligionsut√∏velseBR\nIdrettsanleggBIA\nEnergianleggBE\n¬ß12-5. Nr. 2 - Samferdselsanlegg og\nteknisk infrastruktur\nVeg SV\nFortau SF\nParkering SPA\n¬ß12-5. Nr. 3 - Gr√∏nnstruktur\nTurdrag GTD\nFriomr√•deGF\n¬ß12-6 - Hensynssoner\nR√∏d sone iht. T-1442H210\nGul sone iht. T-1442H220\nFlomfare H320\n¬ß12-7 - Bestemmelseomr√•der\nVilk√•r for bruk av arealer, bygninger\nog anlegg #0 SN√ò\nLinjesymbol\nGrense for st√∏ysone\nGrense for faresone\nPlanens begrensning\nForm√•lgrense\nBestemmelsegrense\nByggegrense\nFrisiktlinje\nPunktsymboler\nStenging av avkj√∏rsel\nAvkj√∏rsel - b√•de inn og utkj√∏ring\nKartopplysninger\nKilde for basiskart:\nDato for basiskart:\nKoordinatsystem:\nH√∏ydegrunnlag:\nEkvidistanse:\nKartm√•lestokk:\n1m1:750\nKartverket 05.11.2019\nETRS89.UTM-32N\nNN2000\nDato\nArealplan-ID:\nForslagsstiller:\nSAKS-\nNR\nDATO SIGN\nTEGNNR. DATO SIGN.\nMed tilh√∏rende reguleringsbestemmelser\nSAKSBEHANDLING ETTER PLAN- OG BYGNINGSLOVEN\nPLANEN ER UTARBEIDET AV:\nDato\nDato\nDato\nRevisjon\nRevisjonRevisjon\nKommunestyret sitt vedtak\nDet bekreftes at planen er i samsvar med kommunestyrets vedtak av 16.06.202223.06.2022Siv Therese Kile Lie\nPlansjef\n4219_202102\nDeep Capital Investments AS\n11.05.2022 S√ÖF\n2021/215 \n10.02.22\n18.03.21 \n 04.03.21\nEvje og Hornnes\nkommune\nDetaljregulering\nSt√∏peritomta\nPLANKONSULENT\n2. gangs behandling\nOffentlig ettersyn fra 17.03.2022  til 28.04.2022\n1. gangs behandling i Planutvalget\nKunngj√∏ring av oppstart av planarbeid\nOppstartsm√∏te 04.03.21\n4/22 \n42/22 19.05.22\n16.06.22 59/22 STL\nSTL\nSTL'}]...
python_service-1  | [92m11:34:32 - LiteLLM:DEBUG[0m: utils.py:298 - 
python_service-1  | 
python_service-1  | DEBUG:LiteLLM:
python_service-1  | 
python_service-1  | [92m11:34:32 - LiteLLM:DEBUG[0m: utils.py:298 - [92mRequest to litellm:[0m
python_service-1  | DEBUG:LiteLLM:[92mRequest to litellm:[0m
python_service-1  | [92m11:34:32 - LiteLLM:DEBUG[0m: utils.py:298 - [92mlitellm.completion(messages=[{'role': 'system', 'content': 'You are a server API that receives document information and returns specific fields in JSON format.\n\n\n        As a genius expert, your task is to understand the content and provide\n        the parsed objects in json that match the following json_schema:\n\n\n        {\n  "description": "Contract for field extraction from regulatory documents.\\n\\nDefines the structure and prompt for extracting regulation codes from\\nNorwegian planning documents (plankart and bestemmelser).\\n\\nAttributes:\\n    fields (Set[str]): Set of extracted regulation codes",\n  "properties": {\n    "fields": {\n      "items": {\n        "type": "string"\n      },\n      "title": "Fields",\n      "type": "array",\n      "uniqueItems": true\n    }\n  },\n  "required": [\n    "fields"\n  ],\n  "title": "FieldExtractContract",\n  "type": "object"\n}\n\n        Make sure to return an instance of the JSON, not the schema itself\n'}, {'role': 'user', 'content': '##Content\n\n{content: "Alfred Uglands veg\\nEvje aktivitetspark\\n50/132\\n50/40\\nGudvangen\\n49/70\\n\\\n    49/87\\n42/12\\n49/78\\n49/8050/128\\n50/139\\n50/101\\n50/89\\n49/77\\n49/83\\n50/6650/127\\\n    \\ 50/151\\n42/51\\n49/10\\n49/82\\n49/86\\n50/40\\n50/40\\n50/59\\n50/71\\n50/132\\n50/148\\n\\\n    50/155\\n50/158\\n50/600\\n42/25\\n50/637\\nBR\\nBIA\\no_SPA\\no_GF3\\no_GF1\\no_GF2\\no_GTD1\\n\\\n    o_GTD2\\nA=2889 m\\xB2\\n%-BYA=\\n40%\\nBKS\\nA=3304 m\\xB2\\n%-BYA=45%\\no_SV1\\no_SV3\\n\\\n    f_BE\\nH220\\nH210\\n#01 SN\\xD8\\n#02 SN\\xD8\\nPlanert terreng =c+182,0moh\\nH320\\n\\\n    Vegstenges\\no_SF2\\no_SF1\\n\\xD8430350\\n\\xD8430425\\n\\xD8430500\\n\\xD8430575\\nN6494250\\n\\\n    N6494325 N6494400\\nN6494475\\nN\\n01937.5m\\nTegnforklaring\\nReguleringsplan PBL\\\n    \\ 2008\\n\\xA712-5. Nr. 1 - Bebyggelse og anlegg\\nBoligbebyggelse-konsentrert\\n\\\n    sm\\xE5husbebyggelseBKS\\nForsamlingslokale for\\nreligionsut\\xF8velseBR\\nIdrettsanleggBIA\\n\\\n    EnergianleggBE\\n\\xA712-5. Nr. 2 - Samferdselsanlegg og\\nteknisk infrastruktur\\n\\\n    Veg SV\\nFortau SF\\nParkering SPA\\n\\xA712-5. Nr. 3 - Gr\\xF8nnstruktur\\nTurdrag\\\n    \\ GTD\\nFriomr\\xE5deGF\\n\\xA712-6 - Hensynssoner\\nR\\xF8d sone iht. T-1442H210\\n\\\n    Gul sone iht. T-1442H220\\nFlomfare H320\\n\\xA712-7 - Bestemmelseomr\\xE5der\\nVilk\\xE5\\\n    r for bruk av arealer, bygninger\\nog anlegg #0 SN\\xD8\\nLinjesymbol\\nGrense for\\\n    \\ st\\xF8ysone\\nGrense for faresone\\nPlanens begrensning\\nForm\\xE5lgrense\\nBestemmelsegrense\\n\\\n    Byggegrense\\nFrisiktlinje\\nPunktsymboler\\nStenging av avkj\\xF8rsel\\nAvkj\\xF8rsel\\\n    \\ - b\\xE5de inn og utkj\\xF8ring\\nKartopplysninger\\nKilde for basiskart:\\nDato\\\n    \\ for basiskart:\\nKoordinatsystem:\\nH\\xF8ydegrunnlag:\\nEkvidistanse:\\nKartm\\xE5\\\n    lestokk:\\n1m1:750\\nKartverket 05.11.2019\\nETRS89.UTM-32N\\nNN2000\\nDato\\nArealplan-ID:\\n\\\n    Forslagsstiller:\\nSAKS-\\nNR\\nDATO SIGN\\nTEGNNR. DATO SIGN.\\nMed tilh\\xF8rende\\\n    \\ reguleringsbestemmelser\\nSAKSBEHANDLING ETTER PLAN- OG BYGNINGSLOVEN\\nPLANEN\\\n    \\ ER UTARBEIDET AV:\\nDato\\nDato\\nDato\\nRevisjon\\nRevisjonRevisjon\\nKommunestyret\\\n    \\ sitt vedtak\\nDet bekreftes at planen er i samsvar med kommunestyrets vedtak\\\n    \\ av 16.06.202223.06.2022Siv Therese Kile Lie\\nPlansjef\\n4219_202102\\nDeep Capital\\\n    \\ Investments AS\\n11.05.2022 S\\xC5F\\n2021/215 \\n10.02.22\\n18.03.21 \\n 04.03.21\\n\\\n    Evje og Hornnes\\nkommune\\nDetaljregulering\\nSt\\xF8peritomta\\nPLANKONSULENT\\n2.\\\n    \\ gangs behandling\\nOffentlig ettersyn fra 17.03.2022  til 28.04.2022\\n1. gangs\\\n    \\ behandling i Planutvalget\\nKunngj\\xF8ring av oppstart av planarbeid\\nOppstartsm\\xF8\\\n    te 04.03.21\\n4/22 \\n42/22 19.05.22\\n16.06.22 59/22 STL\\nSTL\\nSTL", images: [],\n  metadata: {num_pages: 1}}\n\n\nReturn the correct JSON response within a ```json codeblock. not the JSON_SCHEMA'}], model='azure/gpt-4o-mini', temperature=0, max_tokens=4000, timeout=3000)[0m
python_service-1  | DEBUG:LiteLLM:[92mlitellm.completion(messages=[{'role': 'system', 'content': 'You are a server API that receives document information and returns specific fields in JSON format.\n\n\n        As a genius expert, your task is to understand the content and provide\n        the parsed objects in json that match the following json_schema:\n\n\n        {\n  "description": "Contract for field extraction from regulatory documents.\\n\\nDefines the structure and prompt for extracting regulation codes from\\nNorwegian planning documents (plankart and bestemmelser).\\n\\nAttributes:\\n    fields (Set[str]): Set of extracted regulation codes",\n  "properties": {\n    "fields": {\n      "items": {\n        "type": "string"\n      },\n      "title": "Fields",\n      "type": "array",\n      "uniqueItems": true\n    }\n  },\n  "required": [\n    "fields"\n  ],\n  "title": "FieldExtractContract",\n  "type": "object"\n}\n\n        Make sure to return an instance of the JSON, not the schema itself\n'}, {'role': 'user', 'content': '##Content\n\n{content: "Alfred Uglands veg\\nEvje aktivitetspark\\n50/132\\n50/40\\nGudvangen\\n49/70\\n\\\n    49/87\\n42/12\\n49/78\\n49/8050/128\\n50/139\\n50/101\\n50/89\\n49/77\\n49/83\\n50/6650/127\\\n    \\ 50/151\\n42/51\\n49/10\\n49/82\\n49/86\\n50/40\\n50/40\\n50/59\\n50/71\\n50/132\\n50/148\\n\\\n    50/155\\n50/158\\n50/600\\n42/25\\n50/637\\nBR\\nBIA\\no_SPA\\no_GF3\\no_GF1\\no_GF2\\no_GTD1\\n\\\n    o_GTD2\\nA=2889 m\\xB2\\n%-BYA=\\n40%\\nBKS\\nA=3304 m\\xB2\\n%-BYA=45%\\no_SV1\\no_SV3\\n\\\n    f_BE\\nH220\\nH210\\n#01 SN\\xD8\\n#02 SN\\xD8\\nPlanert terreng =c+182,0moh\\nH320\\n\\\n    Vegstenges\\no_SF2\\no_SF1\\n\\xD8430350\\n\\xD8430425\\n\\xD8430500\\n\\xD8430575\\nN6494250\\n\\\n    N6494325 N6494400\\nN6494475\\nN\\n01937.5m\\nTegnforklaring\\nReguleringsplan PBL\\\n    \\ 2008\\n\\xA712-5. Nr. 1 - Bebyggelse og anlegg\\nBoligbebyggelse-konsentrert\\n\\\n    sm\\xE5husbebyggelseBKS\\nForsamlingslokale for\\nreligionsut\\xF8velseBR\\nIdrettsanleggBIA\\n\\\n    EnergianleggBE\\n\\xA712-5. Nr. 2 - Samferdselsanlegg og\\nteknisk infrastruktur\\n\\\n    Veg SV\\nFortau SF\\nParkering SPA\\n\\xA712-5. Nr. 3 - Gr\\xF8nnstruktur\\nTurdrag\\\n    \\ GTD\\nFriomr\\xE5deGF\\n\\xA712-6 - Hensynssoner\\nR\\xF8d sone iht. T-1442H210\\n\\\n    Gul sone iht. T-1442H220\\nFlomfare H320\\n\\xA712-7 - Bestemmelseomr\\xE5der\\nVilk\\xE5\\\n    r for bruk av arealer, bygninger\\nog anlegg #0 SN\\xD8\\nLinjesymbol\\nGrense for\\\n    \\ st\\xF8ysone\\nGrense for faresone\\nPlanens begrensning\\nForm\\xE5lgrense\\nBestemmelsegrense\\n\\\n    Byggegrense\\nFrisiktlinje\\nPunktsymboler\\nStenging av avkj\\xF8rsel\\nAvkj\\xF8rsel\\\n    \\ - b\\xE5de inn og utkj\\xF8ring\\nKartopplysninger\\nKilde for basiskart:\\nDato\\\n    \\ for basiskart:\\nKoordinatsystem:\\nH\\xF8ydegrunnlag:\\nEkvidistanse:\\nKartm\\xE5\\\n    lestokk:\\n1m1:750\\nKartverket 05.11.2019\\nETRS89.UTM-32N\\nNN2000\\nDato\\nArealplan-ID:\\n\\\n    Forslagsstiller:\\nSAKS-\\nNR\\nDATO SIGN\\nTEGNNR. DATO SIGN.\\nMed tilh\\xF8rende\\\n    \\ reguleringsbestemmelser\\nSAKSBEHANDLING ETTER PLAN- OG BYGNINGSLOVEN\\nPLANEN\\\n    \\ ER UTARBEIDET AV:\\nDato\\nDato\\nDato\\nRevisjon\\nRevisjonRevisjon\\nKommunestyret\\\n    \\ sitt vedtak\\nDet bekreftes at planen er i samsvar med kommunestyrets vedtak\\\n    \\ av 16.06.202223.06.2022Siv Therese Kile Lie\\nPlansjef\\n4219_202102\\nDeep Capital\\\n    \\ Investments AS\\n11.05.2022 S\\xC5F\\n2021/215 \\n10.02.22\\n18.03.21 \\n 04.03.21\\n\\\n    Evje og Hornnes\\nkommune\\nDetaljregulering\\nSt\\xF8peritomta\\nPLANKONSULENT\\n2.\\\n    \\ gangs behandling\\nOffentlig ettersyn fra 17.03.2022  til 28.04.2022\\n1. gangs\\\n    \\ behandling i Planutvalget\\nKunngj\\xF8ring av oppstart av planarbeid\\nOppstartsm\\xF8\\\n    te 04.03.21\\n4/22 \\n42/22 19.05.22\\n16.06.22 59/22 STL\\nSTL\\nSTL", images: [],\n  metadata: {num_pages: 1}}\n\n\nReturn the correct JSON response within a ```json codeblock. not the JSON_SCHEMA'}], model='azure/gpt-4o-mini', temperature=0, max_tokens=4000, timeout=3000)[0m
python_service-1  | [92m11:34:32 - LiteLLM:DEBUG[0m: utils.py:298 - 
python_service-1  | 
python_service-1  | DEBUG:LiteLLM:
python_service-1  | 
python_service-1  | [92m11:34:32 - LiteLLM:DEBUG[0m: litellm_logging.py:377 - self.optional_params: {}
python_service-1  | DEBUG:LiteLLM:self.optional_params: {}
python_service-1  | [92m11:34:32 - LiteLLM:DEBUG[0m: utils.py:298 - SYNC kwargs[caching]: False; litellm.cache: None; kwargs.get('cache')['no-cache']: False
python_service-1  | DEBUG:LiteLLM:SYNC kwargs[caching]: False; litellm.cache: None; kwargs.get('cache')['no-cache']: False
python_service-1  | [92m11:34:32 - LiteLLM:DEBUG[0m: transformation.py:126 - Translating developer role to system role for non-OpenAI providers.
python_service-1  | DEBUG:LiteLLM:Translating developer role to system role for non-OpenAI providers.
python_service-1  | [92m11:34:32 - LiteLLM:INFO[0m: utils.py:2905 - 
python_service-1  | LiteLLM completion() model= gpt-4o-mini; provider = azure
python_service-1  | INFO:LiteLLM:
python_service-1  | LiteLLM completion() model= gpt-4o-mini; provider = azure
python_service-1  | [92m11:34:32 - LiteLLM:DEBUG[0m: utils.py:2908 - 
python_service-1  | LiteLLM: Params passed to completion() {'model': 'gpt-4o-mini', 'functions': None, 'function_call': None, 'temperature': 0, 'top_p': None, 'n': None, 'stream': None, 'stream_options': None, 'stop': None, 'max_tokens': 4000, 'max_completion_tokens': None, 'modalities': None, 'prediction': None, 'audio': None, 'presence_penalty': None, 'frequency_penalty': None, 'logit_bias': None, 'user': None, 'custom_llm_provider': 'azure', 'response_format': None, 'seed': None, 'tools': None, 'tool_choice': None, 'max_retries': None, 'logprobs': None, 'top_logprobs': None, 'extra_headers': None, 'api_version': None, 'parallel_tool_calls': None, 'drop_params': None, 'reasoning_effort': None, 'additional_drop_params': None, 'messages': [{'role': 'system', 'content': 'You are a server API that receives document information and returns specific fields in JSON format.\n\n\n        As a genius expert, your task is to understand the content and provide\n        the parsed objects in json that match the following json_schema:\n\n\n        {\n  "description": "Contract for field extraction from regulatory documents.\\n\\nDefines the structure and prompt for extracting regulation codes from\\nNorwegian planning documents (plankart and bestemmelser).\\n\\nAttributes:\\n    fields (Set[str]): Set of extracted regulation codes",\n  "properties": {\n    "fields": {\n      "items": {\n        "type": "string"\n      },\n      "title": "Fields",\n      "type": "array",\n      "uniqueItems": true\n    }\n  },\n  "required": [\n    "fields"\n  ],\n  "title": "FieldExtractContract",\n  "type": "object"\n}\n\n        Make sure to return an instance of the JSON, not the schema itself\n'}, {'role': 'user', 'content': '##Content\n\n{content: "Alfred Uglands veg\\nEvje aktivitetspark\\n50/132\\n50/40\\nGudvangen\\n49/70\\n\\\n    49/87\\n42/12\\n49/78\\n49/8050/128\\n50/139\\n50/101\\n50/89\\n49/77\\n49/83\\n50/6650/127\\\n    \\ 50/151\\n42/51\\n49/10\\n49/82\\n49/86\\n50/40\\n50/40\\n50/59\\n50/71\\n50/132\\n50/148\\n\\\n    50/155\\n50/158\\n50/600\\n42/25\\n50/637\\nBR\\nBIA\\no_SPA\\no_GF3\\no_GF1\\no_GF2\\no_GTD1\\n\\\n    o_GTD2\\nA=2889 m\\xB2\\n%-BYA=\\n40%\\nBKS\\nA=3304 m\\xB2\\n%-BYA=45%\\no_SV1\\no_SV3\\n\\\n    f_BE\\nH220\\nH210\\n#01 SN\\xD8\\n#02 SN\\xD8\\nPlanert terreng =c+182,0moh\\nH320\\n\\\n    Vegstenges\\no_SF2\\no_SF1\\n\\xD8430350\\n\\xD8430425\\n\\xD8430500\\n\\xD8430575\\nN6494250\\n\\\n    N6494325 N6494400\\nN6494475\\nN\\n01937.5m\\nTegnforklaring\\nReguleringsplan PBL\\\n    \\ 2008\\n\\xA712-5. Nr. 1 - Bebyggelse og anlegg\\nBoligbebyggelse-konsentrert\\n\\\n    sm\\xE5husbebyggelseBKS\\nForsamlingslokale for\\nreligionsut\\xF8velseBR\\nIdrettsanleggBIA\\n\\\n    EnergianleggBE\\n\\xA712-5. Nr. 2 - Samferdselsanlegg og\\nteknisk infrastruktur\\n\\\n    Veg SV\\nFortau SF\\nParkering SPA\\n\\xA712-5. Nr. 3 - Gr\\xF8nnstruktur\\nTurdrag\\\n    \\ GTD\\nFriomr\\xE5deGF\\n\\xA712-6 - Hensynssoner\\nR\\xF8d sone iht. T-1442H210\\n\\\n    Gul sone iht. T-1442H220\\nFlomfare H320\\n\\xA712-7 - Bestemmelseomr\\xE5der\\nVilk\\xE5\\\n    r for bruk av arealer, bygninger\\nog anlegg #0 SN\\xD8\\nLinjesymbol\\nGrense for\\\n    \\ st\\xF8ysone\\nGrense for faresone\\nPlanens begrensning\\nForm\\xE5lgrense\\nBestemmelsegrense\\n\\\n    Byggegrense\\nFrisiktlinje\\nPunktsymboler\\nStenging av avkj\\xF8rsel\\nAvkj\\xF8rsel\\\n    \\ - b\\xE5de inn og utkj\\xF8ring\\nKartopplysninger\\nKilde for basiskart:\\nDato\\\n    \\ for basiskart:\\nKoordinatsystem:\\nH\\xF8ydegrunnlag:\\nEkvidistanse:\\nKartm\\xE5\\\n    lestokk:\\n1m1:750\\nKartverket 05.11.2019\\nETRS89.UTM-32N\\nNN2000\\nDato\\nArealplan-ID:\\n\\\n    Forslagsstiller:\\nSAKS-\\nNR\\nDATO SIGN\\nTEGNNR. DATO SIGN.\\nMed tilh\\xF8rende\\\n    \\ reguleringsbestemmelser\\nSAKSBEHANDLING ETTER PLAN- OG BYGNINGSLOVEN\\nPLANEN\\\n    \\ ER UTARBEIDET AV:\\nDato\\nDato\\nDato\\nRevisjon\\nRevisjonRevisjon\\nKommunestyret\\\n    \\ sitt vedtak\\nDet bekreftes at planen er i samsvar med kommunestyrets vedtak\\\n    \\ av 16.06.202223.06.2022Siv Therese Kile Lie\\nPlansjef\\n4219_202102\\nDeep Capital\\\n    \\ Investments AS\\n11.05.2022 S\\xC5F\\n2021/215 \\n10.02.22\\n18.03.21 \\n 04.03.21\\n\\\n    Evje og Hornnes\\nkommune\\nDetaljregulering\\nSt\\xF8peritomta\\nPLANKONSULENT\\n2.\\\n    \\ gangs behandling\\nOffentlig ettersyn fra 17.03.2022  til 28.04.2022\\n1. gangs\\\n    \\ behandling i Planutvalget\\nKunngj\\xF8ring av oppstart av planarbeid\\nOppstartsm\\xF8\\\n    te 04.03.21\\n4/22 \\n42/22 19.05.22\\n16.06.22 59/22 STL\\nSTL\\nSTL", images: [],\n  metadata: {num_pages: 1}}\n\n\nReturn the correct JSON response within a ```json codeblock. not the JSON_SCHEMA'}]}
python_service-1  | DEBUG:LiteLLM:
python_service-1  | LiteLLM: Params passed to completion() {'model': 'gpt-4o-mini', 'functions': None, 'function_call': None, 'temperature': 0, 'top_p': None, 'n': None, 'stream': None, 'stream_options': None, 'stop': None, 'max_tokens': 4000, 'max_completion_tokens': None, 'modalities': None, 'prediction': None, 'audio': None, 'presence_penalty': None, 'frequency_penalty': None, 'logit_bias': None, 'user': None, 'custom_llm_provider': 'azure', 'response_format': None, 'seed': None, 'tools': None, 'tool_choice': None, 'max_retries': None, 'logprobs': None, 'top_logprobs': None, 'extra_headers': None, 'api_version': None, 'parallel_tool_calls': None, 'drop_params': None, 'reasoning_effort': None, 'additional_drop_params': None, 'messages': [{'role': 'system', 'content': 'You are a server API that receives document information and returns specific fields in JSON format.\n\n\n        As a genius expert, your task is to understand the content and provide\n        the parsed objects in json that match the following json_schema:\n\n\n        {\n  "description": "Contract for field extraction from regulatory documents.\\n\\nDefines the structure and prompt for extracting regulation codes from\\nNorwegian planning documents (plankart and bestemmelser).\\n\\nAttributes:\\n    fields (Set[str]): Set of extracted regulation codes",\n  "properties": {\n    "fields": {\n      "items": {\n        "type": "string"\n      },\n      "title": "Fields",\n      "type": "array",\n      "uniqueItems": true\n    }\n  },\n  "required": [\n    "fields"\n  ],\n  "title": "FieldExtractContract",\n  "type": "object"\n}\n\n        Make sure to return an instance of the JSON, not the schema itself\n'}, {'role': 'user', 'content': '##Content\n\n{content: "Alfred Uglands veg\\nEvje aktivitetspark\\n50/132\\n50/40\\nGudvangen\\n49/70\\n\\\n    49/87\\n42/12\\n49/78\\n49/8050/128\\n50/139\\n50/101\\n50/89\\n49/77\\n49/83\\n50/6650/127\\\n    \\ 50/151\\n42/51\\n49/10\\n49/82\\n49/86\\n50/40\\n50/40\\n50/59\\n50/71\\n50/132\\n50/148\\n\\\n    50/155\\n50/158\\n50/600\\n42/25\\n50/637\\nBR\\nBIA\\no_SPA\\no_GF3\\no_GF1\\no_GF2\\no_GTD1\\n\\\n    o_GTD2\\nA=2889 m\\xB2\\n%-BYA=\\n40%\\nBKS\\nA=3304 m\\xB2\\n%-BYA=45%\\no_SV1\\no_SV3\\n\\\n    f_BE\\nH220\\nH210\\n#01 SN\\xD8\\n#02 SN\\xD8\\nPlanert terreng =c+182,0moh\\nH320\\n\\\n    Vegstenges\\no_SF2\\no_SF1\\n\\xD8430350\\n\\xD8430425\\n\\xD8430500\\n\\xD8430575\\nN6494250\\n\\\n    N6494325 N6494400\\nN6494475\\nN\\n01937.5m\\nTegnforklaring\\nReguleringsplan PBL\\\n    \\ 2008\\n\\xA712-5. Nr. 1 - Bebyggelse og anlegg\\nBoligbebyggelse-konsentrert\\n\\\n    sm\\xE5husbebyggelseBKS\\nForsamlingslokale for\\nreligionsut\\xF8velseBR\\nIdrettsanleggBIA\\n\\\n    EnergianleggBE\\n\\xA712-5. Nr. 2 - Samferdselsanlegg og\\nteknisk infrastruktur\\n\\\n    Veg SV\\nFortau SF\\nParkering SPA\\n\\xA712-5. Nr. 3 - Gr\\xF8nnstruktur\\nTurdrag\\\n    \\ GTD\\nFriomr\\xE5deGF\\n\\xA712-6 - Hensynssoner\\nR\\xF8d sone iht. T-1442H210\\n\\\n    Gul sone iht. T-1442H220\\nFlomfare H320\\n\\xA712-7 - Bestemmelseomr\\xE5der\\nVilk\\xE5\\\n    r for bruk av arealer, bygninger\\nog anlegg #0 SN\\xD8\\nLinjesymbol\\nGrense for\\\n    \\ st\\xF8ysone\\nGrense for faresone\\nPlanens begrensning\\nForm\\xE5lgrense\\nBestemmelsegrense\\n\\\n    Byggegrense\\nFrisiktlinje\\nPunktsymboler\\nStenging av avkj\\xF8rsel\\nAvkj\\xF8rsel\\\n    \\ - b\\xE5de inn og utkj\\xF8ring\\nKartopplysninger\\nKilde for basiskart:\\nDato\\\n    \\ for basiskart:\\nKoordinatsystem:\\nH\\xF8ydegrunnlag:\\nEkvidistanse:\\nKartm\\xE5\\\n    lestokk:\\n1m1:750\\nKartverket 05.11.2019\\nETRS89.UTM-32N\\nNN2000\\nDato\\nArealplan-ID:\\n\\\n    Forslagsstiller:\\nSAKS-\\nNR\\nDATO SIGN\\nTEGNNR. DATO SIGN.\\nMed tilh\\xF8rende\\\n    \\ reguleringsbestemmelser\\nSAKSBEHANDLING ETTER PLAN- OG BYGNINGSLOVEN\\nPLANEN\\\n    \\ ER UTARBEIDET AV:\\nDato\\nDato\\nDato\\nRevisjon\\nRevisjonRevisjon\\nKommunestyret\\\n    \\ sitt vedtak\\nDet bekreftes at planen er i samsvar med kommunestyrets vedtak\\\n    \\ av 16.06.202223.06.2022Siv Therese Kile Lie\\nPlansjef\\n4219_202102\\nDeep Capital\\\n    \\ Investments AS\\n11.05.2022 S\\xC5F\\n2021/215 \\n10.02.22\\n18.03.21 \\n 04.03.21\\n\\\n    Evje og Hornnes\\nkommune\\nDetaljregulering\\nSt\\xF8peritomta\\nPLANKONSULENT\\n2.\\\n    \\ gangs behandling\\nOffentlig ettersyn fra 17.03.2022  til 28.04.2022\\n1. gangs\\\n    \\ behandling i Planutvalget\\nKunngj\\xF8ring av oppstart av planarbeid\\nOppstartsm\\xF8\\\n    te 04.03.21\\n4/22 \\n42/22 19.05.22\\n16.06.22 59/22 STL\\nSTL\\nSTL", images: [],\n  metadata: {num_pages: 1}}\n\n\nReturn the correct JSON response within a ```json codeblock. not the JSON_SCHEMA'}]}
python_service-1  | [92m11:34:32 - LiteLLM:DEBUG[0m: utils.py:2911 - 
python_service-1  | LiteLLM: Non-Default params passed to completion() {'temperature': 0, 'max_tokens': 4000}
python_service-1  | DEBUG:LiteLLM:
python_service-1  | LiteLLM: Non-Default params passed to completion() {'temperature': 0, 'max_tokens': 4000}
python_service-1  | [92m11:34:32 - LiteLLM:DEBUG[0m: utils.py:3511 - Azure optional params - api_version: api_version=None, litellm.api_version=2024-08-01-preview, os.environ['AZURE_API_VERSION']=None
python_service-1  | DEBUG:LiteLLM:Azure optional params - api_version: api_version=None, litellm.api_version=2024-08-01-preview, os.environ['AZURE_API_VERSION']=None
python_service-1  | [92m11:34:32 - LiteLLM:DEBUG[0m: utils.py:298 - Final returned optional params: {'temperature': 0, 'max_tokens': 4000, 'extra_body': {}}
python_service-1  | DEBUG:LiteLLM:Final returned optional params: {'temperature': 0, 'max_tokens': 4000, 'extra_body': {}}
python_service-1  | [92m11:34:32 - LiteLLM:DEBUG[0m: litellm_logging.py:377 - self.optional_params: {'temperature': 0, 'max_tokens': 4000, 'extra_body': {}}
python_service-1  | DEBUG:LiteLLM:self.optional_params: {'temperature': 0, 'max_tokens': 4000, 'extra_body': {}}
python_service-1  | [92m11:34:32 - LiteLLM:DEBUG[0m: litellm_logging.py:634 - [92m
python_service-1  | 
python_service-1  | POST Request Sent from LiteLLM:
python_service-1  | curl -X POST \
python_service-1  | https://kartai-openai.openai.azure.com \
python_service-1  | -H 'api_key: Dm20Qg2RomLirlz8icux5Y3XavqI2BfAwmuOdjuI********************************************' -H 'azure_ad_token: *****' \
python_service-1  | -d '{'model': 'gpt-4o-mini', 'messages': [{'role': 'system', 'content': 'You are a server API that receives document information and returns specific fields in JSON format.\n\n\n        As a genius expert, your task is to understand the content and provide\n        the parsed objects in json that match the following json_schema:\n\n\n        {\n  "description": "Contract for field extraction from regulatory documents.\\n\\nDefines the structure and prompt for extracting regulation codes from\\nNorwegian planning documents (plankart and bestemmelser).\\n\\nAttributes:\\n    fields (Set[str]): Set of extracted regulation codes",\n  "properties": {\n    "fields": {\n      "items": {\n        "type": "string"\n      },\n      "title": "Fields",\n      "type": "array",\n      "uniqueItems": true\n    }\n  },\n  "required": [\n    "fields"\n  ],\n  "title": "FieldExtractContract",\n  "type": "object"\n}\n\n        Make sure to return an instance of the JSON, not the schema itself\n'}, {'role': 'user', 'content': '##Content\n\n{content: "Alfred Uglands veg\\nEvje aktivitetspark\\n50/132\\n50/40\\nGudvangen\\n49/70\\n\\\n    49/87\\n42/12\\n49/78\\n49/8050/128\\n50/139\\n50/101\\n50/89\\n49/77\\n49/83\\n50/6650/127\\\n    \\ 50/151\\n42/51\\n49/10\\n49/82\\n49/86\\n50/40\\n50/40\\n50/59\\n50/71\\n50/132\\n50/148\\n\\\n    50/155\\n50/158\\n50/600\\n42/25\\n50/637\\nBR\\nBIA\\no_SPA\\no_GF3\\no_GF1\\no_GF2\\no_GTD1\\n\\\n    o_GTD2\\nA=2889 m\\xB2\\n%-BYA=\\n40%\\nBKS\\nA=3304 m\\xB2\\n%-BYA=45%\\no_SV1\\no_SV3\\n\\\n    f_BE\\nH220\\nH210\\n#01 SN\\xD8\\n#02 SN\\xD8\\nPlanert terreng =c+182,0moh\\nH320\\n\\\n    Vegstenges\\no_SF2\\no_SF1\\n\\xD8430350\\n\\xD8430425\\n\\xD8430500\\n\\xD8430575\\nN6494250\\n\\\n    N6494325 N6494400\\nN6494475\\nN\\n01937.5m\\nTegnforklaring\\nReguleringsplan PBL\\\n    \\ 2008\\n\\xA712-5. Nr. 1 - Bebyggelse og anlegg\\nBoligbebyggelse-konsentrert\\n\\\n    sm\\xE5husbebyggelseBKS\\nForsamlingslokale for\\nreligionsut\\xF8velseBR\\nIdrettsanleggBIA\\n\\\n    EnergianleggBE\\n\\xA712-5. Nr. 2 - Samferdselsanlegg og\\nteknisk infrastruktur\\n\\\n    Veg SV\\nFortau SF\\nParkering SPA\\n\\xA712-5. Nr. 3 - Gr\\xF8nnstruktur\\nTurdrag\\\n    \\ GTD\\nFriomr\\xE5deGF\\n\\xA712-6 - Hensynssoner\\nR\\xF8d sone iht. T-1442H210\\n\\\n    Gul sone iht. T-1442H220\\nFlomfare H320\\n\\xA712-7 - Bestemmelseomr\\xE5der\\nVilk\\xE5\\\n    r for bruk av arealer, bygninger\\nog anlegg #0 SN\\xD8\\nLinjesymbol\\nGrense for\\\n    \\ st\\xF8ysone\\nGrense for faresone\\nPlanens begrensning\\nForm\\xE5lgrense\\nBestemmelsegrense\\n\\\n    Byggegrense\\nFrisiktlinje\\nPunktsymboler\\nStenging av avkj\\xF8rsel\\nAvkj\\xF8rsel\\\n    \\ - b\\xE5de inn og utkj\\xF8ring\\nKartopplysninger\\nKilde for basiskart:\\nDato\\\n    \\ for basiskart:\\nKoordinatsystem:\\nH\\xF8ydegrunnlag:\\nEkvidistanse:\\nKartm\\xE5\\\n    lestokk:\\n1m1:750\\nKartverket 05.11.2019\\nETRS89.UTM-32N\\nNN2000\\nDato\\nArealplan-ID:\\n\\\n    Forslagsstiller:\\nSAKS-\\nNR\\nDATO SIGN\\nTEGNNR. DATO SIGN.\\nMed tilh\\xF8rende\\\n    \\ reguleringsbestemmelser\\nSAKSBEHANDLING ETTER PLAN- OG BYGNINGSLOVEN\\nPLANEN\\\n    \\ ER UTARBEIDET AV:\\nDato\\nDato\\nDato\\nRevisjon\\nRevisjonRevisjon\\nKommunestyret\\\n    \\ sitt vedtak\\nDet bekreftes at planen er i samsvar med kommunestyrets vedtak\\\n    \\ av 16.06.202223.06.2022Siv Therese Kile Lie\\nPlansjef\\n4219_202102\\nDeep Capital\\\n    \\ Investments AS\\n11.05.2022 S\\xC5F\\n2021/215 \\n10.02.22\\n18.03.21 \\n 04.03.21\\n\\\n    Evje og Hornnes\\nkommune\\nDetaljregulering\\nSt\\xF8peritomta\\nPLANKONSULENT\\n2.\\\n    \\ gangs behandling\\nOffentlig ettersyn fra 17.03.2022  til 28.04.2022\\n1. gangs\\\n    \\ behandling i Planutvalget\\nKunngj\\xF8ring av oppstart av planarbeid\\nOppstartsm\\xF8\\\n    te 04.03.21\\n4/22 \\n42/22 19.05.22\\n16.06.22 59/22 STL\\nSTL\\nSTL", images: [],\n  metadata: {num_pages: 1}}\n\n\nReturn the correct JSON response within a ```json codeblock. not the JSON_SCHEMA'}], 'temperature': 0, 'max_tokens': 4000, 'extra_body': {}}'
python_service-1  | [0m
python_service-1  | 
python_service-1  | DEBUG:LiteLLM:[92m
python_service-1  | 
python_service-1  | POST Request Sent from LiteLLM:
python_service-1  | curl -X POST \
python_service-1  | https://kartai-openai.openai.azure.com \
python_service-1  | -H 'api_key: Dm20Qg2RomLirlz8icux5Y3XavqI2BfAwmuOdjuI********************************************' -H 'azure_ad_token: *****' \
python_service-1  | -d '{'model': 'gpt-4o-mini', 'messages': [{'role': 'system', 'content': 'You are a server API that receives document information and returns specific fields in JSON format.\n\n\n        As a genius expert, your task is to understand the content and provide\n        the parsed objects in json that match the following json_schema:\n\n\n        {\n  "description": "Contract for field extraction from regulatory documents.\\n\\nDefines the structure and prompt for extracting regulation codes from\\nNorwegian planning documents (plankart and bestemmelser).\\n\\nAttributes:\\n    fields (Set[str]): Set of extracted regulation codes",\n  "properties": {\n    "fields": {\n      "items": {\n        "type": "string"\n      },\n      "title": "Fields",\n      "type": "array",\n      "uniqueItems": true\n    }\n  },\n  "required": [\n    "fields"\n  ],\n  "title": "FieldExtractContract",\n  "type": "object"\n}\n\n        Make sure to return an instance of the JSON, not the schema itself\n'}, {'role': 'user', 'content': '##Content\n\n{content: "Alfred Uglands veg\\nEvje aktivitetspark\\n50/132\\n50/40\\nGudvangen\\n49/70\\n\\\n    49/87\\n42/12\\n49/78\\n49/8050/128\\n50/139\\n50/101\\n50/89\\n49/77\\n49/83\\n50/6650/127\\\n    \\ 50/151\\n42/51\\n49/10\\n49/82\\n49/86\\n50/40\\n50/40\\n50/59\\n50/71\\n50/132\\n50/148\\n\\\n    50/155\\n50/158\\n50/600\\n42/25\\n50/637\\nBR\\nBIA\\no_SPA\\no_GF3\\no_GF1\\no_GF2\\no_GTD1\\n\\\n    o_GTD2\\nA=2889 m\\xB2\\n%-BYA=\\n40%\\nBKS\\nA=3304 m\\xB2\\n%-BYA=45%\\no_SV1\\no_SV3\\n\\\n    f_BE\\nH220\\nH210\\n#01 SN\\xD8\\n#02 SN\\xD8\\nPlanert terreng =c+182,0moh\\nH320\\n\\\n    Vegstenges\\no_SF2\\no_SF1\\n\\xD8430350\\n\\xD8430425\\n\\xD8430500\\n\\xD8430575\\nN6494250\\n\\\n    N6494325 N6494400\\nN6494475\\nN\\n01937.5m\\nTegnforklaring\\nReguleringsplan PBL\\\n    \\ 2008\\n\\xA712-5. Nr. 1 - Bebyggelse og anlegg\\nBoligbebyggelse-konsentrert\\n\\\n    sm\\xE5husbebyggelseBKS\\nForsamlingslokale for\\nreligionsut\\xF8velseBR\\nIdrettsanleggBIA\\n\\\n    EnergianleggBE\\n\\xA712-5. Nr. 2 - Samferdselsanlegg og\\nteknisk infrastruktur\\n\\\n    Veg SV\\nFortau SF\\nParkering SPA\\n\\xA712-5. Nr. 3 - Gr\\xF8nnstruktur\\nTurdrag\\\n    \\ GTD\\nFriomr\\xE5deGF\\n\\xA712-6 - Hensynssoner\\nR\\xF8d sone iht. T-1442H210\\n\\\n    Gul sone iht. T-1442H220\\nFlomfare H320\\n\\xA712-7 - Bestemmelseomr\\xE5der\\nVilk\\xE5\\\n    r for bruk av arealer, bygninger\\nog anlegg #0 SN\\xD8\\nLinjesymbol\\nGrense for\\\n    \\ st\\xF8ysone\\nGrense for faresone\\nPlanens begrensning\\nForm\\xE5lgrense\\nBestemmelsegrense\\n\\\n    Byggegrense\\nFrisiktlinje\\nPunktsymboler\\nStenging av avkj\\xF8rsel\\nAvkj\\xF8rsel\\\n    \\ - b\\xE5de inn og utkj\\xF8ring\\nKartopplysninger\\nKilde for basiskart:\\nDato\\\n    \\ for basiskart:\\nKoordinatsystem:\\nH\\xF8ydegrunnlag:\\nEkvidistanse:\\nKartm\\xE5\\\n    lestokk:\\n1m1:750\\nKartverket 05.11.2019\\nETRS89.UTM-32N\\nNN2000\\nDato\\nArealplan-ID:\\n\\\n    Forslagsstiller:\\nSAKS-\\nNR\\nDATO SIGN\\nTEGNNR. DATO SIGN.\\nMed tilh\\xF8rende\\\n    \\ reguleringsbestemmelser\\nSAKSBEHANDLING ETTER PLAN- OG BYGNINGSLOVEN\\nPLANEN\\\n    \\ ER UTARBEIDET AV:\\nDato\\nDato\\nDato\\nRevisjon\\nRevisjonRevisjon\\nKommunestyret\\\n    \\ sitt vedtak\\nDet bekreftes at planen er i samsvar med kommunestyrets vedtak\\\n    \\ av 16.06.202223.06.2022Siv Therese Kile Lie\\nPlansjef\\n4219_202102\\nDeep Capital\\\n    \\ Investments AS\\n11.05.2022 S\\xC5F\\n2021/215 \\n10.02.22\\n18.03.21 \\n 04.03.21\\n\\\n    Evje og Hornnes\\nkommune\\nDetaljregulering\\nSt\\xF8peritomta\\nPLANKONSULENT\\n2.\\\n    \\ gangs behandling\\nOffentlig ettersyn fra 17.03.2022  til 28.04.2022\\n1. gangs\\\n    \\ behandling i Planutvalget\\nKunngj\\xF8ring av oppstart av planarbeid\\nOppstartsm\\xF8\\\n    te 04.03.21\\n4/22 \\n42/22 19.05.22\\n16.06.22 59/22 STL\\nSTL\\nSTL", images: [],\n  metadata: {num_pages: 1}}\n\n\nReturn the correct JSON response within a ```json codeblock. not the JSON_SCHEMA'}], 'temperature': 0, 'max_tokens': 4000, 'extra_body': {}}'
python_service-1  | [0m
python_service-1  | 
python_service-1  | [92m11:34:37 - LiteLLM:DEBUG[0m: utils.py:298 - RAW RESPONSE:
python_service-1  | {"id": "chatcmpl-Azip7KV41O1jdWyrmvmr1qdRvnDQe", "choices": [{"finish_reason": "stop", "index": 0, "logprobs": null, "message": {"content": "```json\n{\n  \"fields\": [\n    \"50/132\",\n    \"50/40\",\n    \"49/70\",\n    \"49/87\",\n    \"42/12\",\n    \"49/78\",\n    \"49/80\",\n    \"50/128\",\n    \"50/139\",\n    \"50/101\",\n    \"50/89\",\n    \"49/77\",\n    \"49/83\",\n    \"50/66\",\n    \"50/127\",\n    \"50/151\",\n    \"42/51\",\n    \"49/10\",\n    \"49/82\",\n    \"49/86\",\n    \"50/40\",\n    \"50/40\",\n    \"50/59\",\n    \"50/71\",\n    \"50/132\",\n    \"50/148\",\n    \"50/155\",\n    \"50/158\",\n    \"50/600\",\n    \"42/25\",\n    \"50/637\",\n    \"BR\",\n    \"BIA\",\n    \"o_SPA\",\n    \"o_GF3\",\n    \"o_GF1\",\n    \"o_GF2\",\n    \"o_GTD1\",\n    \"o_GTD2\",\n    \"H220\",\n    \"H210\",\n    \"#01 SN\u00d8\",\n    \"#02 SN\u00d8\",\n    \"H320\",\n    \"o_SF2\",\n    \"o_SF1\",\n    \"N6494250\",\n    \"N6494325\",\n    \"N6494400\",\n    \"N6494475\",\n    \"SN\u00d8\",\n    \"GT\",\n    \"BKS\",\n    \"BE\",\n    \"SPA\",\n    \"SF\",\n    \"H210\",\n    \"H220\",\n    \"H320\"\n  ]\n}\n```", "refusal": null, "role": "assistant", "audio": null, "function_call": null, "tool_calls": null}, "content_filter_results": {"hate": {"filtered": false, "severity": "safe"}, "protected_material_code": {"filtered": false, "detected": false}, "protected_material_text": {"filtered": false, "detected": false}, "self_harm": {"filtered": false, "severity": "safe"}, "sexual": {"filtered": false, "severity": "safe"}, "violence": {"filtered": false, "severity": "safe"}}}], "created": 1739273673, "model": "gpt-4o-mini-2024-07-18", "object": "chat.completion", "service_tier": null, "system_fingerprint": "fp_f3927aa00d", "usage": {"completion_tokens": 356, "prompt_tokens": 1367, "total_tokens": 1723, "completion_tokens_details": {"accepted_prediction_tokens": 0, "audio_tokens": 0, "reasoning_tokens": 0, "rejected_prediction_tokens": 0}, "prompt_tokens_details": {"audio_tokens": 0, "cached_tokens": 0}}, "prompt_filter_results": [{"prompt_index": 0, "content_filter_results": {"hate": {"filtered": false, "severity": "safe"}, "jailbreak": {"filtered": false, "detected": false}, "self_harm": {"filtered": false, "severity": "safe"}, "sexual": {"filtered": false, "severity": "safe"}, "violence": {"filtered": false, "severity": "safe"}}}]}
python_service-1  | 
python_service-1  | 
python_service-1  | DEBUG:LiteLLM:RAW RESPONSE:
python_service-1  | {"id": "chatcmpl-Azip7KV41O1jdWyrmvmr1qdRvnDQe", "choices": [{"finish_reason": "stop", "index": 0, "logprobs": null, "message": {"content": "```json\n{\n  \"fields\": [\n    \"50/132\",\n    \"50/40\",\n    \"49/70\",\n    \"49/87\",\n    \"42/12\",\n    \"49/78\",\n    \"49/80\",\n    \"50/128\",\n    \"50/139\",\n    \"50/101\",\n    \"50/89\",\n    \"49/77\",\n    \"49/83\",\n    \"50/66\",\n    \"50/127\",\n    \"50/151\",\n    \"42/51\",\n    \"49/10\",\n    \"49/82\",\n    \"49/86\",\n    \"50/40\",\n    \"50/40\",\n    \"50/59\",\n    \"50/71\",\n    \"50/132\",\n    \"50/148\",\n    \"50/155\",\n    \"50/158\",\n    \"50/600\",\n    \"42/25\",\n    \"50/637\",\n    \"BR\",\n    \"BIA\",\n    \"o_SPA\",\n    \"o_GF3\",\n    \"o_GF1\",\n    \"o_GF2\",\n    \"o_GTD1\",\n    \"o_GTD2\",\n    \"H220\",\n    \"H210\",\n    \"#01 SN\u00d8\",\n    \"#02 SN\u00d8\",\n    \"H320\",\n    \"o_SF2\",\n    \"o_SF1\",\n    \"N6494250\",\n    \"N6494325\",\n    \"N6494400\",\n    \"N6494475\",\n    \"SN\u00d8\",\n    \"GT\",\n    \"BKS\",\n    \"BE\",\n    \"SPA\",\n    \"SF\",\n    \"H210\",\n    \"H220\",\n    \"H320\"\n  ]\n}\n```", "refusal": null, "role": "assistant", "audio": null, "function_call": null, "tool_calls": null}, "content_filter_results": {"hate": {"filtered": false, "severity": "safe"}, "protected_material_code": {"filtered": false, "detected": false}, "protected_material_text": {"filtered": false, "detected": false}, "self_harm": {"filtered": false, "severity": "safe"}, "sexual": {"filtered": false, "severity": "safe"}, "violence": {"filtered": false, "severity": "safe"}}}], "created": 1739273673, "model": "gpt-4o-mini-2024-07-18", "object": "chat.completion", "service_tier": null, "system_fingerprint": "fp_f3927aa00d", "usage": {"completion_tokens": 356, "prompt_tokens": 1367, "total_tokens": 1723, "completion_tokens_details": {"accepted_prediction_tokens": 0, "audio_tokens": 0, "reasoning_tokens": 0, "rejected_prediction_tokens": 0}, "prompt_tokens_details": {"audio_tokens": 0, "cached_tokens": 0}}, "prompt_filter_results": [{"prompt_index": 0, "content_filter_results": {"hate": {"filtered": false, "severity": "safe"}, "jailbreak": {"filtered": false, "detected": false}, "self_harm": {"filtered": false, "severity": "safe"}, "sexual": {"filtered": false, "severity": "safe"}, "violence": {"filtered": false, "severity": "safe"}}}]}
python_service-1  | 
python_service-1  | 
python_service-1  | [92m11:34:37 - LiteLLM:INFO[0m: utils.py:1084 - Wrapper: Completed Call, calling success_handler
python_service-1  | INFO:LiteLLM:Wrapper: Completed Call, calling success_handler
python_service-1  | [92m11:34:37 - LiteLLM:DEBUG[0m: cost_calculator.py:563 - completion_response _select_model_name_for_cost_calc: azure/gpt-4o-mini-2024-07-18
python_service-1  | DEBUG:LiteLLM:completion_response _select_model_name_for_cost_calc: azure/gpt-4o-mini-2024-07-18
python_service-1  | [92m11:34:37 - LiteLLM:DEBUG[0m: litellm_logging.py:1014 - Logging Details LiteLLM-Success Call: Cache_hit=None
python_service-1  | [92m11:34:37 - LiteLLM:DEBUG[0m: utils.py:4175 - checking potential_model_names in litellm.model_cost: {'split_model': 'gpt-4o-mini-2024-07-18', 'combined_model_name': 'azure/gpt-4o-mini-2024-07-18', 'stripped_model_name': 'gpt-4o-mini-2024-07-18', 'combined_stripped_model_name': 'azure/gpt-4o-mini-2024-07-18', 'custom_llm_provider': 'azure'}
python_service-1  | DEBUG:LiteLLM:Logging Details LiteLLM-Success Call: Cache_hit=None
python_service-1  | DEBUG:LiteLLM:checking potential_model_names in litellm.model_cost: {'split_model': 'gpt-4o-mini-2024-07-18', 'combined_model_name': 'azure/gpt-4o-mini-2024-07-18', 'stripped_model_name': 'gpt-4o-mini-2024-07-18', 'combined_stripped_model_name': 'azure/gpt-4o-mini-2024-07-18', 'custom_llm_provider': 'azure'}
python_service-1  | [92m11:34:37 - LiteLLM:DEBUG[0m: cost_calculator.py:563 - completion_response _select_model_name_for_cost_calc: azure/gpt-4o-mini-2024-07-18
python_service-1  | DEBUG:LiteLLM:completion_response _select_model_name_for_cost_calc: azure/gpt-4o-mini-2024-07-18
python_service-1  | [92m11:34:37 - LiteLLM:DEBUG[0m: utils.py:4453 - model_info: {'key': 'azure/gpt-4o-mini-2024-07-18', 'max_tokens': 16384, 'max_input_tokens': 128000, 'max_output_tokens': 16384, 'input_cost_per_token': 1.65e-07, 'cache_creation_input_token_cost': None, 'cache_read_input_token_cost': 7.5e-08, 'input_cost_per_character': None, 'input_cost_per_token_above_128k_tokens': None, 'input_cost_per_query': None, 'input_cost_per_second': None, 'input_cost_per_audio_token': None, 'output_cost_per_token': 6.6e-07, 'output_cost_per_audio_token': None, 'output_cost_per_character': None, 'output_cost_per_token_above_128k_tokens': None, 'output_cost_per_character_above_128k_tokens': None, 'output_cost_per_second': None, 'output_cost_per_image': None, 'output_vector_size': None, 'litellm_provider': 'azure', 'mode': 'chat', 'supports_system_messages': None, 'supports_response_schema': True, 'supports_vision': True, 'supports_function_calling': True, 'supports_tool_choice': True, 'supports_assistant_prefill': False, 'supports_prompt_caching': True, 'supports_audio_input': False, 'supports_audio_output': False, 'supports_pdf_input': False, 'supports_embedding_image_input': False, 'supports_native_streaming': None, 'tpm': None, 'rpm': None}
python_service-1  | DEBUG:LiteLLM:model_info: {'key': 'azure/gpt-4o-mini-2024-07-18', 'max_tokens': 16384, 'max_input_tokens': 128000, 'max_output_tokens': 16384, 'input_cost_per_token': 1.65e-07, 'cache_creation_input_token_cost': None, 'cache_read_input_token_cost': 7.5e-08, 'input_cost_per_character': None, 'input_cost_per_token_above_128k_tokens': None, 'input_cost_per_query': None, 'input_cost_per_second': None, 'input_cost_per_audio_token': None, 'output_cost_per_token': 6.6e-07, 'output_cost_per_audio_token': None, 'output_cost_per_character': None, 'output_cost_per_token_above_128k_tokens': None, 'output_cost_per_character_above_128k_tokens': None, 'output_cost_per_second': None, 'output_cost_per_image': None, 'output_vector_size': None, 'litellm_provider': 'azure', 'mode': 'chat', 'supports_system_messages': None, 'supports_response_schema': True, 'supports_vision': True, 'supports_function_calling': True, 'supports_tool_choice': True, 'supports_assistant_prefill': False, 'supports_prompt_caching': True, 'supports_audio_input': False, 'supports_audio_output': False, 'supports_pdf_input': False, 'supports_embedding_image_input': False, 'supports_native_streaming': None, 'tpm': None, 'rpm': None}
python_service-1  | [92m11:34:37 - LiteLLM:DEBUG[0m: utils.py:4175 - checking potential_model_names in litellm.model_cost: {'split_model': 'gpt-4o-mini-2024-07-18', 'combined_model_name': 'azure/gpt-4o-mini-2024-07-18', 'stripped_model_name': 'gpt-4o-mini-2024-07-18', 'combined_stripped_model_name': 'azure/gpt-4o-mini-2024-07-18', 'custom_llm_provider': 'azure'}
python_service-1  | DEBUG:LiteLLM:checking potential_model_names in litellm.model_cost: {'split_model': 'gpt-4o-mini-2024-07-18', 'combined_model_name': 'azure/gpt-4o-mini-2024-07-18', 'stripped_model_name': 'gpt-4o-mini-2024-07-18', 'combined_stripped_model_name': 'azure/gpt-4o-mini-2024-07-18', 'custom_llm_provider': 'azure'}
python_service-1  | [92m11:34:37 - LiteLLM:DEBUG[0m: litellm_logging.py:846 - response_cost: 0.000460515
python_service-1  | DEBUG:LiteLLM:response_cost: 0.000460515
python_service-1  | DEBUG:app.llm.extractor:Available base codes: set()
python_service-1  | DEBUG:app.llm.extractor:Checking field: 42/25
python_service-1  | WARNING:app.llm.extractor:No base codes available, using pattern matching
python_service-1  | DEBUG:app.llm.extractor:Checking field: 50/139
python_service-1  | WARNING:app.llm.extractor:No base codes available, using pattern matching
python_service-1  | DEBUG:app.llm.extractor:Checking field: o_GF2
python_service-1  | [92m11:34:37 - LiteLLM:DEBUG[0m: utils.py:4453 - model_info: {'key': 'azure/gpt-4o-mini-2024-07-18', 'max_tokens': 16384, 'max_input_tokens': 128000, 'max_output_tokens': 16384, 'input_cost_per_token': 1.65e-07, 'cache_creation_input_token_cost': None, 'cache_read_input_token_cost': 7.5e-08, 'input_cost_per_character': None, 'input_cost_per_token_above_128k_tokens': None, 'input_cost_per_query': None, 'input_cost_per_second': None, 'input_cost_per_audio_token': None, 'output_cost_per_token': 6.6e-07, 'output_cost_per_audio_token': None, 'output_cost_per_character': None, 'output_cost_per_token_above_128k_tokens': None, 'output_cost_per_character_above_128k_tokens': None, 'output_cost_per_second': None, 'output_cost_per_image': None, 'output_vector_size': None, 'litellm_provider': 'azure', 'mode': 'chat', 'supports_system_messages': None, 'supports_response_schema': True, 'supports_vision': True, 'supports_function_calling': True, 'supports_tool_choice': True, 'supports_assistant_prefill': False, 'supports_prompt_caching': True, 'supports_audio_input': False, 'supports_audio_output': False, 'supports_pdf_input': False, 'supports_embedding_image_input': False, 'supports_native_streaming': None, 'tpm': None, 'rpm': None}
python_service-1  | DEBUG:LiteLLM:model_info: {'key': 'azure/gpt-4o-mini-2024-07-18', 'max_tokens': 16384, 'max_input_tokens': 128000, 'max_output_tokens': 16384, 'input_cost_per_token': 1.65e-07, 'cache_creation_input_token_cost': None, 'cache_read_input_token_cost': 7.5e-08, 'input_cost_per_character': None, 'input_cost_per_token_above_128k_tokens': None, 'input_cost_per_query': None, 'input_cost_per_second': None, 'input_cost_per_audio_token': None, 'output_cost_per_token': 6.6e-07, 'output_cost_per_audio_token': None, 'output_cost_per_character': None, 'output_cost_per_token_above_128k_tokens': None, 'output_cost_per_character_above_128k_tokens': None, 'output_cost_per_second': None, 'output_cost_per_image': None, 'output_vector_size': None, 'litellm_provider': 'azure', 'mode': 'chat', 'supports_system_messages': None, 'supports_response_schema': True, 'supports_vision': True, 'supports_function_calling': True, 'supports_tool_choice': True, 'supports_assistant_prefill': False, 'supports_prompt_caching': True, 'supports_audio_input': False, 'supports_audio_output': False, 'supports_pdf_input': False, 'supports_embedding_image_input': False, 'supports_native_streaming': None, 'tpm': None, 'rpm': None}
python_service-1  | [92m11:34:37 - LiteLLM:DEBUG[0m: litellm_logging.py:846 - response_cost: 0.000460515
python_service-1  | WARNING:app.llm.extractor:No base codes available, using pattern matching
python_service-1  | DEBUG:LiteLLM:response_cost: 0.000460515
python_service-1  | [92m11:34:37 - LiteLLM:DEBUG[0m: utils.py:4175 - checking potential_model_names in litellm.model_cost: {'split_model': 'gpt-4o-mini-2024-07-18', 'combined_model_name': 'azure/gpt-4o-mini-2024-07-18', 'stripped_model_name': 'gpt-4o-mini-2024-07-18', 'combined_stripped_model_name': 'azure/gpt-4o-mini-2024-07-18', 'custom_llm_provider': 'azure'}
python_service-1  | DEBUG:app.llm.extractor:Added valid code: o_GF2
python_service-1  | DEBUG:app.llm.extractor:Checking field: 49/80
python_service-1  | WARNING:app.llm.extractor:No base codes available, using pattern matching
python_service-1  | DEBUG:app.llm.extractor:Checking field: o_GTD2
python_service-1  | WARNING:app.llm.extractor:No base codes available, using pattern matching
python_service-1  | DEBUG:app.llm.extractor:Added valid code: o_GTD2
python_service-1  | DEBUG:app.llm.extractor:Checking field: 49/83
python_service-1  | WARNING:app.llm.extractor:No base codes available, using pattern matching
python_service-1  | DEBUG:app.llm.extractor:Checking field: 49/78
python_service-1  | WARNING:app.llm.extractor:No base codes available, using pattern matching
python_service-1  | DEBUG:app.llm.extractor:Checking field: N6494475
python_service-1  | WARNING:app.llm.extractor:No base codes available, using pattern matching
python_service-1  | DEBUG:LiteLLM:checking potential_model_names in litellm.model_cost: {'split_model': 'gpt-4o-mini-2024-07-18', 'combined_model_name': 'azure/gpt-4o-mini-2024-07-18', 'stripped_model_name': 'gpt-4o-mini-2024-07-18', 'combined_stripped_model_name': 'azure/gpt-4o-mini-2024-07-18', 'custom_llm_provider': 'azure'}
python_service-1  | [92m11:34:37 - LiteLLM:DEBUG[0m: utils.py:4453 - model_info: {'key': 'azure/gpt-4o-mini-2024-07-18', 'max_tokens': 16384, 'max_input_tokens': 128000, 'max_output_tokens': 16384, 'input_cost_per_token': 1.65e-07, 'cache_creation_input_token_cost': None, 'cache_read_input_token_cost': 7.5e-08, 'input_cost_per_character': None, 'input_cost_per_token_above_128k_tokens': None, 'input_cost_per_query': None, 'input_cost_per_second': None, 'input_cost_per_audio_token': None, 'output_cost_per_token': 6.6e-07, 'output_cost_per_audio_token': None, 'output_cost_per_character': None, 'output_cost_per_token_above_128k_tokens': None, 'output_cost_per_character_above_128k_tokens': None, 'output_cost_per_second': None, 'output_cost_per_image': None, 'output_vector_size': None, 'litellm_provider': 'azure', 'mode': 'chat', 'supports_system_messages': None, 'supports_response_schema': True, 'supports_vision': True, 'supports_function_calling': True, 'supports_tool_choice': True, 'supports_assistant_prefill': False, 'supports_prompt_caching': True, 'supports_audio_input': False, 'supports_audio_output': False, 'supports_pdf_input': False, 'supports_embedding_image_input': False, 'supports_native_streaming': None, 'tpm': None, 'rpm': None}
python_service-1  | DEBUG:app.llm.extractor:Checking field: 50/600
python_service-1  | DEBUG:LiteLLM:model_info: {'key': 'azure/gpt-4o-mini-2024-07-18', 'max_tokens': 16384, 'max_input_tokens': 128000, 'max_output_tokens': 16384, 'input_cost_per_token': 1.65e-07, 'cache_creation_input_token_cost': None, 'cache_read_input_token_cost': 7.5e-08, 'input_cost_per_character': None, 'input_cost_per_token_above_128k_tokens': None, 'input_cost_per_query': None, 'input_cost_per_second': None, 'input_cost_per_audio_token': None, 'output_cost_per_token': 6.6e-07, 'output_cost_per_audio_token': None, 'output_cost_per_character': None, 'output_cost_per_token_above_128k_tokens': None, 'output_cost_per_character_above_128k_tokens': None, 'output_cost_per_second': None, 'output_cost_per_image': None, 'output_vector_size': None, 'litellm_provider': 'azure', 'mode': 'chat', 'supports_system_messages': None, 'supports_response_schema': True, 'supports_vision': True, 'supports_function_calling': True, 'supports_tool_choice': True, 'supports_assistant_prefill': False, 'supports_prompt_caching': True, 'supports_audio_input': False, 'supports_audio_output': False, 'supports_pdf_input': False, 'supports_embedding_image_input': False, 'supports_native_streaming': None, 'tpm': None, 'rpm': None}
python_service-1  | [92m11:34:37 - LiteLLM:DEBUG[0m: litellm_logging.py:1040 - Logging Details LiteLLM-Success Call streaming complete
python_service-1  | WARNING:app.llm.extractor:No base codes available, using pattern matching
python_service-1  | DEBUG:LiteLLM:Logging Details LiteLLM-Success Call streaming complete
python_service-1  | [92m11:34:37 - LiteLLM:DEBUG[0m: cost_calculator.py:563 - completion_response _select_model_name_for_cost_calc: azure/gpt-4o-mini-2024-07-18
python_service-1  | DEBUG:app.llm.extractor:Checking field: H210
python_service-1  | DEBUG:LiteLLM:completion_response _select_model_name_for_cost_calc: azure/gpt-4o-mini-2024-07-18
python_service-1  | [92m11:34:37 - LiteLLM:DEBUG[0m: utils.py:4175 - checking potential_model_names in litellm.model_cost: {'split_model': 'gpt-4o-mini-2024-07-18', 'combined_model_name': 'azure/gpt-4o-mini-2024-07-18', 'stripped_model_name': 'gpt-4o-mini-2024-07-18', 'combined_stripped_model_name': 'azure/gpt-4o-mini-2024-07-18', 'custom_llm_provider': 'azure'}
python_service-1  | WARNING:app.llm.extractor:No base codes available, using pattern matching
python_service-1  | DEBUG:app.llm.extractor:Checking field: BE
python_service-1  | WARNING:app.llm.extractor:No base codes available, using pattern matching
python_service-1  | DEBUG:app.llm.extractor:Checking field: 50/127
python_service-1  | WARNING:app.llm.extractor:No base codes available, using pattern matching
python_service-1  | DEBUG:app.llm.extractor:Checking field: 50/148
python_service-1  | WARNING:app.llm.extractor:No base codes available, using pattern matching
python_service-1  | DEBUG:app.llm.extractor:Checking field: o_GF1
python_service-1  | WARNING:app.llm.extractor:No base codes available, using pattern matching
python_service-1  | DEBUG:app.llm.extractor:Added valid code: o_GF1
python_service-1  | DEBUG:LiteLLM:checking potential_model_names in litellm.model_cost: {'split_model': 'gpt-4o-mini-2024-07-18', 'combined_model_name': 'azure/gpt-4o-mini-2024-07-18', 'stripped_model_name': 'gpt-4o-mini-2024-07-18', 'combined_stripped_model_name': 'azure/gpt-4o-mini-2024-07-18', 'custom_llm_provider': 'azure'}
python_service-1  | [92m11:34:37 - LiteLLM:DEBUG[0m: utils.py:4453 - model_info: {'key': 'azure/gpt-4o-mini-2024-07-18', 'max_tokens': 16384, 'max_input_tokens': 128000, 'max_output_tokens': 16384, 'input_cost_per_token': 1.65e-07, 'cache_creation_input_token_cost': None, 'cache_read_input_token_cost': 7.5e-08, 'input_cost_per_character': None, 'input_cost_per_token_above_128k_tokens': None, 'input_cost_per_query': None, 'input_cost_per_second': None, 'input_cost_per_audio_token': None, 'output_cost_per_token': 6.6e-07, 'output_cost_per_audio_token': None, 'output_cost_per_character': None, 'output_cost_per_token_above_128k_tokens': None, 'output_cost_per_character_above_128k_tokens': None, 'output_cost_per_second': None, 'output_cost_per_image': None, 'output_vector_size': None, 'litellm_provider': 'azure', 'mode': 'chat', 'supports_system_messages': None, 'supports_response_schema': True, 'supports_vision': True, 'supports_function_calling': True, 'supports_tool_choice': True, 'supports_assistant_prefill': False, 'supports_prompt_caching': True, 'supports_audio_input': False, 'supports_audio_output': False, 'supports_pdf_input': False, 'supports_embedding_image_input': False, 'supports_native_streaming': None, 'tpm': None, 'rpm': None}
python_service-1  | DEBUG:app.llm.extractor:Checking field: 50/59
python_service-1  | DEBUG:LiteLLM:model_info: {'key': 'azure/gpt-4o-mini-2024-07-18', 'max_tokens': 16384, 'max_input_tokens': 128000, 'max_output_tokens': 16384, 'input_cost_per_token': 1.65e-07, 'cache_creation_input_token_cost': None, 'cache_read_input_token_cost': 7.5e-08, 'input_cost_per_character': None, 'input_cost_per_token_above_128k_tokens': None, 'input_cost_per_query': None, 'input_cost_per_second': None, 'input_cost_per_audio_token': None, 'output_cost_per_token': 6.6e-07, 'output_cost_per_audio_token': None, 'output_cost_per_character': None, 'output_cost_per_token_above_128k_tokens': None, 'output_cost_per_character_above_128k_tokens': None, 'output_cost_per_second': None, 'output_cost_per_image': None, 'output_vector_size': None, 'litellm_provider': 'azure', 'mode': 'chat', 'supports_system_messages': None, 'supports_response_schema': True, 'supports_vision': True, 'supports_function_calling': True, 'supports_tool_choice': True, 'supports_assistant_prefill': False, 'supports_prompt_caching': True, 'supports_audio_input': False, 'supports_audio_output': False, 'supports_pdf_input': False, 'supports_embedding_image_input': False, 'supports_native_streaming': None, 'tpm': None, 'rpm': None}
python_service-1  | [92m11:34:37 - LiteLLM:DEBUG[0m: litellm_logging.py:861 - response_cost_failure_debug_information: {'error_str': "'CompletionUsage' object is not subscriptable", 'traceback_str': 'Traceback (most recent call last):\n  File "/usr/local/lib/python3.12/site-packages/litellm/litellm_core_utils/litellm_logging.py", line 843, in _response_cost_calculator\n    response_cost = litellm.response_cost_calculator(\n                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "/usr/local/lib/python3.12/site-packages/litellm/cost_calculator.py", line 833, in response_cost_calculator\n    raise e\n  File "/usr/local/lib/python3.12/site-packages/litellm/cost_calculator.py", line 821, in response_cost_calculator\n    response_cost = completion_cost(\n                    ^^^^^^^^^^^^^^^^\n  File "/usr/local/lib/python3.12/site-packages/litellm/cost_calculator.py", line 771, in completion_cost\n    raise e\n  File "/usr/local/lib/python3.12/site-packages/litellm/cost_calculator.py", line 750, in completion_cost\n    ) = cost_per_token(\n        ^^^^^^^^^^^^^^^\n  File "/usr/local/lib/python3.12/site-packages/litellm/cost_calculator.py", line 279, in cost_per_token\n    return azure_openai_cost_per_token(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "/usr/local/lib/python3.12/site-packages/litellm/llms/azure/cost_calculation.py", line 38, in cost_per_token\n    usage["completion_tokens"] * model_info["output_cost_per_token"]\n    ~~~~~^^^^^^^^^^^^^^^^^^^^^\nTypeError: \'CompletionUsage\' object is not subscriptable\n', 'model': 'gpt-4o-mini', 'cache_hit': None, 'custom_llm_provider': 'azure', 'base_model': None, 'call_type': 'completion', 'custom_pricing': False}
python_service-1  | WARNING:app.llm.extractor:No base codes available, using pattern matching
python_service-1  | DEBUG:app.llm.extractor:Checking field: 50/155
python_service-1  | DEBUG:LiteLLM:response_cost_failure_debug_information: {'error_str': "'CompletionUsage' object is not subscriptable", 'traceback_str': 'Traceback (most recent call last):\n  File "/usr/local/lib/python3.12/site-packages/litellm/litellm_core_utils/litellm_logging.py", line 843, in _response_cost_calculator\n    response_cost = litellm.response_cost_calculator(\n                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "/usr/local/lib/python3.12/site-packages/litellm/cost_calculator.py", line 833, in response_cost_calculator\n    raise e\n  File "/usr/local/lib/python3.12/site-packages/litellm/cost_calculator.py", line 821, in response_cost_calculator\n    response_cost = completion_cost(\n                    ^^^^^^^^^^^^^^^^\n  File "/usr/local/lib/python3.12/site-packages/litellm/cost_calculator.py", line 771, in completion_cost\n    raise e\n  File "/usr/local/lib/python3.12/site-packages/litellm/cost_calculator.py", line 750, in completion_cost\n    ) = cost_per_token(\n        ^^^^^^^^^^^^^^^\n  File "/usr/local/lib/python3.12/site-packages/litellm/cost_calculator.py", line 279, in cost_per_token\n    return azure_openai_cost_per_token(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "/usr/local/lib/python3.12/site-packages/litellm/llms/azure/cost_calculation.py", line 38, in cost_per_token\n    usage["completion_tokens"] * model_info["output_cost_per_token"]\n    ~~~~~^^^^^^^^^^^^^^^^^^^^^\nTypeError: \'CompletionUsage\' object is not subscriptable\n', 'model': 'gpt-4o-mini', 'cache_hit': None, 'custom_llm_provider': 'azure', 'base_model': None, 'call_type': 'completion', 'custom_pricing': False}
python_service-1  | [92m11:34:37 - LiteLLM:DEBUG[0m: utils.py:4175 - checking potential_model_names in litellm.model_cost: {'split_model': 'gpt-4o-mini-2024-07-18', 'combined_model_name': 'azure/gpt-4o-mini-2024-07-18', 'stripped_model_name': 'gpt-4o-mini-2024-07-18', 'combined_stripped_model_name': 'azure/gpt-4o-mini-2024-07-18', 'custom_llm_provider': 'azure'}
python_service-1  | WARNING:app.llm.extractor:No base codes available, using pattern matching
python_service-1  | DEBUG:app.llm.extractor:Checking field: SF
python_service-1  | DEBUG:LiteLLM:checking potential_model_names in litellm.model_cost: {'split_model': 'gpt-4o-mini-2024-07-18', 'combined_model_name': 'azure/gpt-4o-mini-2024-07-18', 'stripped_model_name': 'gpt-4o-mini-2024-07-18', 'combined_stripped_model_name': 'azure/gpt-4o-mini-2024-07-18', 'custom_llm_provider': 'azure'}
python_service-1  | [92m11:34:37 - LiteLLM:DEBUG[0m: utils.py:4453 - model_info: {'key': 'azure/gpt-4o-mini-2024-07-18', 'max_tokens': 16384, 'max_input_tokens': 128000, 'max_output_tokens': 16384, 'input_cost_per_token': 1.65e-07, 'cache_creation_input_token_cost': None, 'cache_read_input_token_cost': 7.5e-08, 'input_cost_per_character': None, 'input_cost_per_token_above_128k_tokens': None, 'input_cost_per_query': None, 'input_cost_per_second': None, 'input_cost_per_audio_token': None, 'output_cost_per_token': 6.6e-07, 'output_cost_per_audio_token': None, 'output_cost_per_character': None, 'output_cost_per_token_above_128k_tokens': None, 'output_cost_per_character_above_128k_tokens': None, 'output_cost_per_second': None, 'output_cost_per_image': None, 'output_vector_size': None, 'litellm_provider': 'azure', 'mode': 'chat', 'supports_system_messages': None, 'supports_response_schema': True, 'supports_vision': True, 'supports_function_calling': True, 'supports_tool_choice': True, 'supports_assistant_prefill': False, 'supports_prompt_caching': True, 'supports_audio_input': False, 'supports_audio_output': False, 'supports_pdf_input': False, 'supports_embedding_image_input': False, 'supports_native_streaming': None, 'tpm': None, 'rpm': None}
python_service-1  | WARNING:app.llm.extractor:No base codes available, using pattern matching
python_service-1  | DEBUG:LiteLLM:model_info: {'key': 'azure/gpt-4o-mini-2024-07-18', 'max_tokens': 16384, 'max_input_tokens': 128000, 'max_output_tokens': 16384, 'input_cost_per_token': 1.65e-07, 'cache_creation_input_token_cost': None, 'cache_read_input_token_cost': 7.5e-08, 'input_cost_per_character': None, 'input_cost_per_token_above_128k_tokens': None, 'input_cost_per_query': None, 'input_cost_per_second': None, 'input_cost_per_audio_token': None, 'output_cost_per_token': 6.6e-07, 'output_cost_per_audio_token': None, 'output_cost_per_character': None, 'output_cost_per_token_above_128k_tokens': None, 'output_cost_per_character_above_128k_tokens': None, 'output_cost_per_second': None, 'output_cost_per_image': None, 'output_vector_size': None, 'litellm_provider': 'azure', 'mode': 'chat', 'supports_system_messages': None, 'supports_response_schema': True, 'supports_vision': True, 'supports_function_calling': True, 'supports_tool_choice': True, 'supports_assistant_prefill': False, 'supports_prompt_caching': True, 'supports_audio_input': False, 'supports_audio_output': False, 'supports_pdf_input': False, 'supports_embedding_image_input': False, 'supports_native_streaming': None, 'tpm': None, 'rpm': None}
python_service-1  | DEBUG:app.llm.extractor:Checking field: 50/151
python_service-1  | WARNING:app.llm.extractor:No base codes available, using pattern matching
python_service-1  | DEBUG:app.llm.extractor:Checking field: 50/101
python_service-1  | WARNING:app.llm.extractor:No base codes available, using pattern matching
python_service-1  | DEBUG:app.llm.extractor:Checking field: #02 SN√ò
python_service-1  | WARNING:app.llm.extractor:No base codes available, using pattern matching
python_service-1  | DEBUG:app.llm.extractor:Checking field: N6494250
python_service-1  | WARNING:app.llm.extractor:No base codes available, using pattern matching
python_service-1  | DEBUG:app.llm.extractor:Checking field: 42/12
python_service-1  | WARNING:app.llm.extractor:No base codes available, using pattern matching
python_service-1  | DEBUG:app.llm.extractor:Checking field: 49/87
python_service-1  | WARNING:app.llm.extractor:No base codes available, using pattern matching
python_service-1  | DEBUG:app.llm.extractor:Checking field: 49/70
python_service-1  | WARNING:app.llm.extractor:No base codes available, using pattern matching
python_service-1  | DEBUG:app.llm.extractor:Checking field: o_SPA
python_service-1  | WARNING:app.llm.extractor:No base codes available, using pattern matching
python_service-1  | DEBUG:app.llm.extractor:Added valid code: o_SPA
python_service-1  | DEBUG:app.llm.extractor:Checking field: 50/89
python_service-1  | WARNING:app.llm.extractor:No base codes available, using pattern matching
python_service-1  | DEBUG:app.llm.extractor:Checking field: BKS
python_service-1  | WARNING:app.llm.extractor:No base codes available, using pattern matching
python_service-1  | DEBUG:app.llm.extractor:Added valid code: BKS
python_service-1  | DEBUG:app.llm.extractor:Checking field: N6494400
python_service-1  | WARNING:app.llm.extractor:No base codes available, using pattern matching
python_service-1  | DEBUG:app.llm.extractor:Checking field: o_GTD1
python_service-1  | WARNING:app.llm.extractor:No base codes available, using pattern matching
python_service-1  | DEBUG:app.llm.extractor:Added valid code: o_GTD1
python_service-1  | DEBUG:app.llm.extractor:Checking field: H220
python_service-1  | WARNING:app.llm.extractor:No base codes available, using pattern matching
python_service-1  | DEBUG:app.llm.extractor:Checking field: o_SF1
python_service-1  | WARNING:app.llm.extractor:No base codes available, using pattern matching
python_service-1  | DEBUG:app.llm.extractor:Added valid code: o_SF1
python_service-1  | DEBUG:app.llm.extractor:Checking field: o_GF3
python_service-1  | WARNING:app.llm.extractor:No base codes available, using pattern matching
python_service-1  | DEBUG:app.llm.extractor:Added valid code: o_GF3
python_service-1  | DEBUG:app.llm.extractor:Checking field: 50/66
python_service-1  | WARNING:app.llm.extractor:No base codes available, using pattern matching
python_service-1  | DEBUG:app.llm.extractor:Checking field: #01 SN√ò
python_service-1  | WARNING:app.llm.extractor:No base codes available, using pattern matching
python_service-1  | DEBUG:app.llm.extractor:Checking field: H320
python_service-1  | WARNING:app.llm.extractor:No base codes available, using pattern matching
python_service-1  | DEBUG:app.llm.extractor:Checking field: SPA
python_service-1  | WARNING:app.llm.extractor:No base codes available, using pattern matching
python_service-1  | DEBUG:app.llm.extractor:Checking field: GT
python_service-1  | WARNING:app.llm.extractor:No base codes available, using pattern matching
python_service-1  | DEBUG:app.llm.extractor:Checking field: 50/71
python_service-1  | WARNING:app.llm.extractor:No base codes available, using pattern matching
python_service-1  | DEBUG:app.llm.extractor:Checking field: 50/158
python_service-1  | WARNING:app.llm.extractor:No base codes available, using pattern matching
python_service-1  | DEBUG:app.llm.extractor:Checking field: 49/82
python_service-1  | WARNING:app.llm.extractor:No base codes available, using pattern matching
python_service-1  | DEBUG:app.llm.extractor:Checking field: o_SF2
python_service-1  | WARNING:app.llm.extractor:No base codes available, using pattern matching
python_service-1  | DEBUG:app.llm.extractor:Added valid code: o_SF2
python_service-1  | DEBUG:app.llm.extractor:Checking field: SN√ò
python_service-1  | WARNING:app.llm.extractor:No base codes available, using pattern matching
python_service-1  | DEBUG:app.llm.extractor:Checking field: 50/40
python_service-1  | WARNING:app.llm.extractor:No base codes available, using pattern matching
python_service-1  | DEBUG:app.llm.extractor:Checking field: 50/637
python_service-1  | WARNING:app.llm.extractor:No base codes available, using pattern matching
python_service-1  | DEBUG:app.llm.extractor:Checking field: 49/10
python_service-1  | WARNING:app.llm.extractor:No base codes available, using pattern matching
python_service-1  | DEBUG:app.llm.extractor:Checking field: BR
python_service-1  | WARNING:app.llm.extractor:No base codes available, using pattern matching
python_service-1  | DEBUG:app.llm.extractor:Checking field: 49/77
python_service-1  | WARNING:app.llm.extractor:No base codes available, using pattern matching
python_service-1  | DEBUG:app.llm.extractor:Checking field: 49/86
python_service-1  | WARNING:app.llm.extractor:No base codes available, using pattern matching
python_service-1  | DEBUG:app.llm.extractor:Checking field: BIA
python_service-1  | WARNING:app.llm.extractor:No base codes available, using pattern matching
python_service-1  | DEBUG:app.llm.extractor:Checking field: N6494325
python_service-1  | WARNING:app.llm.extractor:No base codes available, using pattern matching
python_service-1  | DEBUG:app.llm.extractor:Checking field: 50/132
python_service-1  | WARNING:app.llm.extractor:No base codes available, using pattern matching
python_service-1  | DEBUG:app.llm.extractor:Checking field: 50/128
python_service-1  | WARNING:app.llm.extractor:No base codes available, using pattern matching
python_service-1  | DEBUG:app.llm.extractor:Checking field: 42/51
python_service-1  | WARNING:app.llm.extractor:No base codes available, using pattern matching
python_service-1  | INFO:app.llm.extractor:Extracted fields: {'BKS', 'O_SF1', 'O_GF1', 'O_GTD2', 'O_GF2', 'O_SPA', 'O_GF3', 'O_SF2', 'O_GTD1'}
python_service-1  | DEBUG:app.llm.extractor:Raw text from PDF: [{'content': '  1 \n  \n \n \nReguleringsbestemmelser  \nfor \nSt√∏peritomta \n \nPlan ID: 202102 \nPlankart dato: 11.05.2022 \nReguleringsbestemmelser dato: 11.05.2022 \nVedtatt PS 59/22: 16.06.2022 \n  \n \n¬ß1. Planform√•l \nForm√•let med planen er √• tilrettelegge for konsentrert bebyggelse med tilh√∏rende anlegg. \nPlanen omfatter ogs√• kirke/annen religionsut√∏velse, parkeringsanlegg og idrett/park.  \n \nPlanen inneholder f√∏lgende form√•l (Pbl. ¬ß 12-5): \n \n¬ß1.1 Bebyggelse og anlegg (pbl ¬ß12-5,nr 1) \nBoligbebyggelse- Konsentrert sm√•husbebyggelse (BKS) \nForsamlingslokale for religionsut√∏velse (BR) \nIdrettsanlegg (BIA) \nEnergianlegg (BE) \n \n¬ß1.2 Samferdselsanlegg og teknisk infrastruktur (pbl ¬ß12-5, nr 2) \nVeg (o_SV1 og 3) \nFortau (o_SF) \nParkering(o_SPA) \n \n¬ß1.3 Gr√∏nnstruktur (pbl ¬ß12-5,2. ledd nr 3) \nFriomr√•de (o_GF1-3) \nTurdrag (o_GTD1-2) \n \n \n  \n'}, {'content': '  2 \n¬ß2. Rekkef√∏lgebestemmelser (pbl ¬ß 12-7 nr. 10) \n \n¬ß2.1 F√∏r midlertidig brukstillatelse for BKS skal o_SV3 v√¶re ferdig opparbeidet.  \n¬ß2.2 F√∏r midlertidig brukstillatelse for 1. boenhet p√• BKS skal lekeplass innenfor GF1 v√¶re ferdig \nopparbeidet. \n¬ß2.3 F√∏r midlertidig brukstillatelse p√• 5. boenhet p√• BKS skal o_GTD1-2 v√¶re ferdig opparbeidet.  \n¬ß2.4 F√∏r midlertidig brukstillatelse for BKS skal o_SF v√¶re ferdig opparbeidet. \n¬ß2.5 F√∏r ferdigattest p√• BR, skal o_SF og o_SPA v√¶re ferdig opparbeidet. \n \n \n \n \n \n¬ß3. Fellesbestemmelser \n¬ß3.1 Bygge- og anleggsst√∏y skal ikke overskride st√∏ygrensen i tabell 4 i retningslinje for behandling \nav st√∏y i arealplanlegging (T-1442/2021). St√∏yende aktivitet skal foregaÃä p√• dagtid. \n¬ß4. Bebyggelse og anlegg (pbl 12-5 nr. 1) \nBoligbebyggelse-konsentrert sm√•husbebyggelse - BKS \n \n¬ß4.1 Bebyggelse: Det tillates fire tomannsboliger p√• tomten. Totalt 8 boenheter.   \n¬ß4.2 Byggegrenser: Plassering av nye tiltak skal skje innenfor byggegrensene. For \ngarasje/carport/bod mindre enn 50 m2 BYA gjelder byggegrense p√• 1 meter fra tomtegrense. \nTerrenginngrep og grunnarbeider i forbindelse med opparbeidelse av tomtene tillattes \nutenfor byggegrense. Avkj√∏rsel og parkering tillates utenfor byggegrense. \n¬ß4.3 Garasje/Carport: Alle boenheter skal ha minst en parkering under tak til disposisjon.  \n¬ß4.4 Bestemmelsesomr√•de #01 SN√ò: Innenfor omr√•det kan det anlegges opplag for sn√∏. \n \nGrad av utnytting \n¬ß4.5 Utnyttelsesgrad: BYA for omr√•det BKS skal v√¶re maksimalt %-BYA= 40%. Overbygg til \nrenovasjon eller dunker medregnes ikke i %-BYA. \n¬ß4.6 Parkering: Det skal avsettes 2 parkeringsplasser for hver boenhet, hvor en av disse skal v√¶re i \ngarasje/carport. BYA for parkering er 3x6=18m2 per plass. \n \nH√∏yder ‚Äì Utforming av bebyggelse \n¬ß4.7 Planeringsh√∏yder: Maksimal planeringsh√∏yde er angitt i plankart. Maks planeringsh√∏yde er \nK+182. \n¬ß4.8 Takform: Bebyggelse skal ha saltak med en takvinkel mellom 30 - 40 grader.  \n¬ß4.9 Takh√∏yder: Tillate takh√∏yder er angitt i tabellen under. H√∏yder regnes fra planert terreng. \n \n Saltak \nM√∏ne 6,0 m \nGesimsh√∏yde 3,5 m \nTakvinkel 30-40 grader \n \nSt√∏yf√∏lsom bebyggelse \nF√∏r det tillates tiltak innenfor omr√•det skal det gj√∏res st√∏yskjermede tiltak.   \n¬ß4.10 Alle boenheter skal ha uteplass p√• b√•de √∏stsiden og vestsiden av bebyggelsen.  '}, {'content': '  3 \n¬ß4.11 Alle boenheter skal v√¶re gjennomg√•ende og ha minst ett soverom plassert p√• vestsiden og \n√∏stsiden. Eventuelt √∏kt lydisolasjon i fasade i minst ett soverom i hver boenhet. \n \nTeknisk plan \n¬ß4.12 Det stilles teknisk plan for VA, overvannsh√•ndtering og str√∏mforsyning f√∏r \nigangsettingstillatelse kan gis innenfor omr√•det BKS. Det b√∏r legge til rette for √•pne \nvannveier for overvannsh√•ndtering. Dersom andre l√∏sninger velges skal det begrunnes \nhvorfor naturbaserte l√∏sninger velges bort. \n¬ß4.13 V/A- anlegg samt vei skal dimensjoneres og opparbeides i samsvar med til enhver tids \ngjeldende ¬´Retningslinjer for vei, vann og avl√∏p¬ª for Evje og Hornnes kommune. Det skal \nsikres teknisk godkjenning av offentlig samferdselsanlegg. \n¬ß4.14 Det skal f√∏r utbygging avklares hvordan det nye utbyggingsomr√•det i planomr√•det skal \nforsynes med elektrisk str√∏m. Det m√• avklares i hvilken grad eksisterende ledninger/kabler \neventuelt kan benyttes og om nye ledninger/kabler m√• legges om og om det er behov for \nny(e) nettstasjon(er). \n \nUtforming av tomt \n¬ß4.15 Situasjonsplan: Ved s√∏knad om tillatelse til tiltak skal situasjonsplan vedlegges i tilpasset \nm√•lestokk som viser plassering av bebyggelse og h√∏yde. Situasjonsplan skal ogs√• vise \nplassering av parkering, avkj√∏rsel og evt. st√∏ttemurer.  \n¬ß4.16 Renovasjon: Areal for renovasjon skal vises p√• situasjonsplan. Situasjonsplanen skal vise at \nrenovasjonsbil har tilstrekkelig snuareal innenfor planomr√•det.  \n¬ß4.17 Forst√∏tningsmur: Det tillattes forst√∏tningsmurer for √• tilpasse terrenget. Forst√∏tningsmurer \ntillates oppf√∏rt utenfor byggegrense. Maks tillatt h√∏yde p√• forst√∏tningsmurer er 2,5 meter.  \n¬ß4.18 Det stilles estetisk krav til utforming av fylling / naturstein plastret skr√•ning mot bekk. \nSkr√•ning skal jord klees, tils√•es og sikres mot erosjon. \n \nForsamlingslokale for religionsut√∏velse - BR \n \n¬ß4.19 Omr√•det skal benyttes til nytt sentrumsn√¶rt bedehus i n√∏dvendig grad og utstrekning \n¬ß4.20 Bygninger kan oppf√∏res med gesimsh√∏yde 8,0 meter og m√∏neh√∏yde 10,5 meter. \n¬ß4.21 BYA for arealform√•let skal v√¶re maksimalt %-BYA= 50. Areal for parkering medregnes ikke i \n%BYA \n¬ß4.22 Det skal avsettes tilstrekkelig med parkeringsareal til gjeldende aktivitet innenfor regulert \nomr√•de. Parkeringsbehovet for bedehuset kan l√∏ses b√•de innenfor BR og SPA. \n¬ß4.23 Arealutnyttelse utover dette skal opparbeides parkmessig og v√¶re tilgjengelig for \nallmennheten. \n¬ß4.24 Oppgitt gesimsh√∏yde og m√∏neh√∏yde skal regnes ut fra gjennomsnittlig h√∏yde p√• tomta/ \nomr√•det f√∏r opparbeidelse begynner. \n¬ß4.25 Innenfor omr√•det BR tillates det internveier og parkeringsplasser. \n \nIdrettsanlegg - BIA \n¬ß4.26 Innenfor omr√•det er det tillatt med tiltak som fremmer idrettsaktiviteter.  \n \nEnergianlegg - BE \n¬ß4.27 Innenfor omr√•det er det tillatt plassering av trafo og infrastruktur i sammenheng med dette. \n \n  '}, {'content': '  4 \n¬ß5. Samferdselsanlegg og teknisk infrastruktur (pbl 12-5 nr. 2) \nVeg (o_SV1) \n¬ß5.1 Veien o_SV1 er adkomst for alle tilgrensende eiendommer. \nDet skal opparbeides et fysisk skille mellom o_SV1 og omkringliggende arealform√•l SPA, GF \nog SGS. Adkomst til SPA og BR skal ikke v√¶re rett ovenfor hverandre. \n \n \n \nVeg (o_SV3) \n¬ß5.2 Veien o_SV3-er adkomst for boligomr√•de BKS og BR samt atkomst til o_SPA. Plasseringer av \navkj√∏rsler langs o_SV3 er ikke endelige og tillates justert i samr√•d med veieier. \n \nFortau (o_SF1-2) \n¬ß5.3 o_SF1-2 er regulert til offentlig fortau med en bredde p√• 3 meter. \n \nParkering (o_SPA) \n¬ß5.4 o_SPA er offentlig parkeringsplass. \n¬ß5.5 Parkeringsbehov for bedehuset kan l√∏ses innenfor o_SPA. \n¬ß5.6 Det tillates etablert ladestasjoner innenfor omr√•det.  \n¬ß5.7 Atkomst til SPA og SGS skal ikke anlegges vertikalt rett overfor hverandre. \n \n \n¬ß6. Gr√∏nnstruktur (pbl 12-5 nr. 3) \n \nFriomr√•de (o_GF1-3) \n¬ß6.1 Omr√•de for friomr√•de/gr√∏ntstruktur GF1-GF3 er til fri ferdsel for allmenheten. \n¬ß6.2 I omr√•dene er det tillat oppf√∏rt bebyggelse og andre tekniske installasjoner som typisk \nberiker bruken av omr√•de. \n¬ß6.3 Innenfor omr√•det GF1 skal det opparbeides et felles leke- og uteoppholdsareal for hele \nplanomr√•det. Lekeplassen skal utstyres med sand, benk og min. 3 ulike lekeapparater. \n¬ß6.4 Det tillates avkj√∏rsel for BR over o_GF3 \n¬ß6.5 Bestemmelsesomr√•de #02 SN√ò: Innenfor omr√•det kan det anlegges opplag for sn√∏. \n¬ß6.6 Det tillates √• legge kabler i bakken innenfor omr√•de avsatt til friomr√•de. \n¬ß6.7 Adkomst til lekearealer skal v√¶re universelt utformet. \n \nTurdrag (GTD1-2) \n¬ß6.8 Omr√•dene skal benyttes til turveier. \n \n \n \nDato 11.05.2022 '}]...
python_service-1  | [92m11:34:37 - LiteLLM:DEBUG[0m: utils.py:298 - 
python_service-1  | 
python_service-1  | DEBUG:LiteLLM:
python_service-1  | 
python_service-1  | [92m11:34:37 - LiteLLM:DEBUG[0m: utils.py:298 - [92mRequest to litellm:[0m
python_service-1  | DEBUG:LiteLLM:[92mRequest to litellm:[0m
python_service-1  | [92m11:34:37 - LiteLLM:DEBUG[0m: utils.py:298 - [92mlitellm.completion(messages=[{'role': 'system', 'content': 'You are a server API that receives document information and returns specific fields in JSON format.\n\n\n        As a genius expert, your task is to understand the content and provide\n        the parsed objects in json that match the following json_schema:\n\n\n        {\n  "description": "Contract for field extraction from regulatory documents.\\n\\nDefines the structure and prompt for extracting regulation codes from\\nNorwegian planning documents (plankart and bestemmelser).\\n\\nAttributes:\\n    fields (Set[str]): Set of extracted regulation codes",\n  "properties": {\n    "fields": {\n      "items": {\n        "type": "string"\n      },\n      "title": "Fields",\n      "type": "array",\n      "uniqueItems": true\n    }\n  },\n  "required": [\n    "fields"\n  ],\n  "title": "FieldExtractContract",\n  "type": "object"\n}\n\n        Make sure to return an instance of the JSON, not the schema itself\n'}, {'role': 'user', 'content': '##Content\n\n{content: "  1 \\n  \\n \\n \\nReguleringsbestemmelser  \\nfor \\nSt\\xF8peritomta \\n \\n\\\n    Plan ID: 202102 \\nPlankart dato: 11.05.2022 \\nReguleringsbestemmelser dato: 11.05.2022\\\n    \\ \\nVedtatt PS 59/22: 16.06.2022 \\n  \\n \\n\\xA71. Planform\\xE5l \\nForm\\xE5let med\\\n    \\ planen er \\xE5 tilrettelegge for konsentrert bebyggelse med tilh\\xF8rende anlegg.\\\n    \\ \\nPlanen omfatter ogs\\xE5 kirke/annen religionsut\\xF8velse, parkeringsanlegg\\\n    \\ og idrett/park.  \\n \\nPlanen inneholder f\\xF8lgende form\\xE5l (Pbl. \\xA7 12-5):\\\n    \\ \\n \\n\\xA71.1 Bebyggelse og anlegg (pbl \\xA712-5,nr 1) \\nBoligbebyggelse- Konsentrert\\\n    \\ sm\\xE5husbebyggelse (BKS) \\nForsamlingslokale for religionsut\\xF8velse (BR)\\\n    \\ \\nIdrettsanlegg (BIA) \\nEnergianlegg (BE) \\n \\n\\xA71.2 Samferdselsanlegg og\\\n    \\ teknisk infrastruktur (pbl \\xA712-5, nr 2) \\nVeg (o_SV1 og 3) \\nFortau (o_SF)\\\n    \\ \\nParkering(o_SPA) \\n \\n\\xA71.3 Gr\\xF8nnstruktur (pbl \\xA712-5,2. ledd nr 3)\\\n    \\ \\nFriomr\\xE5de (o_GF1-3) \\nTurdrag (o_GTD1-2) \\n \\n \\n  \\n\\n\\n  2 \\n\\xA72. Rekkef\\xF8\\\n    lgebestemmelser (pbl \\xA7 12-7 nr. 10) \\n \\n\\xA72.1 F\\xF8r midlertidig brukstillatelse\\\n    \\ for BKS skal o_SV3 v\\xE6re ferdig opparbeidet.  \\n\\xA72.2 F\\xF8r midlertidig\\\n    \\ brukstillatelse for 1. boenhet p\\xE5 BKS skal lekeplass innenfor GF1 v\\xE6re\\\n    \\ ferdig \\nopparbeidet. \\n\\xA72.3 F\\xF8r midlertidig brukstillatelse p\\xE5 5.\\\n    \\ boenhet p\\xE5 BKS skal o_GTD1-2 v\\xE6re ferdig opparbeidet.  \\n\\xA72.4 F\\xF8\\\n    r midlertidig brukstillatelse for BKS skal o_SF v\\xE6re ferdig opparbeidet. \\n\\\n    \\xA72.5 F\\xF8r ferdigattest p\\xE5 BR, skal o_SF og o_SPA v\\xE6re ferdig opparbeidet.\\\n    \\ \\n \\n \\n \\n \\n \\n\\xA73. Fellesbestemmelser \\n\\xA73.1 Bygge- og anleggsst\\xF8\\\n    y skal ikke overskride st\\xF8ygrensen i tabell 4 i retningslinje for behandling\\\n    \\ \\nav st\\xF8y i arealplanlegging (T-1442/2021). St\\xF8yende aktivitet skal forega\\u030A\\\n    \\ p\\xE5 dagtid. \\n\\xA74. Bebyggelse og anlegg (pbl 12-5 nr. 1) \\nBoligbebyggelse-konsentrert\\\n    \\ sm\\xE5husbebyggelse - BKS \\n \\n\\xA74.1 Bebyggelse: Det tillates fire tomannsboliger\\\n    \\ p\\xE5 tomten. Totalt 8 boenheter.   \\n\\xA74.2 Byggegrenser: Plassering av nye\\\n    \\ tiltak skal skje innenfor byggegrensene. For \\ngarasje/carport/bod mindre enn\\\n    \\ 50 m2 BYA gjelder byggegrense p\\xE5 1 meter fra tomtegrense. \\nTerrenginngrep\\\n    \\ og grunnarbeider i forbindelse med opparbeidelse av tomtene tillattes \\nutenfor\\\n    \\ byggegrense. Avkj\\xF8rsel og parkering tillates utenfor byggegrense. \\n\\xA7\\\n    4.3 Garasje/Carport: Alle boenheter skal ha minst en parkering under tak til disposisjon.\\\n    \\  \\n\\xA74.4 Bestemmelsesomr\\xE5de #01 SN\\xD8: Innenfor omr\\xE5det kan det anlegges\\\n    \\ opplag for sn\\xF8. \\n \\nGrad av utnytting \\n\\xA74.5 Utnyttelsesgrad: BYA for\\\n    \\ omr\\xE5det BKS skal v\\xE6re maksimalt %-BYA= 40%. Overbygg til \\nrenovasjon\\\n    \\ eller dunker medregnes ikke i %-BYA. \\n\\xA74.6 Parkering: Det skal avsettes\\\n    \\ 2 parkeringsplasser for hver boenhet, hvor en av disse skal v\\xE6re i \\ngarasje/carport.\\\n    \\ BYA for parkering er 3x6=18m2 per plass. \\n \\nH\\xF8yder \\u2013 Utforming av\\\n    \\ bebyggelse \\n\\xA74.7 Planeringsh\\xF8yder: Maksimal planeringsh\\xF8yde er angitt\\\n    \\ i plankart. Maks planeringsh\\xF8yde er \\nK+182. \\n\\xA74.8 Takform: Bebyggelse\\\n    \\ skal ha saltak med en takvinkel mellom 30 - 40 grader.  \\n\\xA74.9 Takh\\xF8yder:\\\n    \\ Tillate takh\\xF8yder er angitt i tabellen under. H\\xF8yder regnes fra planert\\\n    \\ terreng. \\n \\n Saltak \\nM\\xF8ne 6,0 m \\nGesimsh\\xF8yde 3,5 m \\nTakvinkel 30-40\\\n    \\ grader \\n \\nSt\\xF8yf\\xF8lsom bebyggelse \\nF\\xF8r det tillates tiltak innenfor\\\n    \\ omr\\xE5det skal det gj\\xF8res st\\xF8yskjermede tiltak.   \\n\\xA74.10 Alle boenheter\\\n    \\ skal ha uteplass p\\xE5 b\\xE5de \\xF8stsiden og vestsiden av bebyggelsen.  \\n\\n\\\n    \\  3 \\n\\xA74.11 Alle boenheter skal v\\xE6re gjennomg\\xE5ende og ha minst ett soverom\\\n    \\ plassert p\\xE5 vestsiden og \\n\\xF8stsiden. Eventuelt \\xF8kt lydisolasjon i fasade\\\n    \\ i minst ett soverom i hver boenhet. \\n \\nTeknisk plan \\n\\xA74.12 Det stilles\\\n    \\ teknisk plan for VA, overvannsh\\xE5ndtering og str\\xF8mforsyning f\\xF8r \\nigangsettingstillatelse\\\n    \\ kan gis innenfor omr\\xE5det BKS. Det b\\xF8r legge til rette for \\xE5pne \\nvannveier\\\n    \\ for overvannsh\\xE5ndtering. Dersom andre l\\xF8sninger velges skal det begrunnes\\\n    \\ \\nhvorfor naturbaserte l\\xF8sninger velges bort. \\n\\xA74.13 V/A- anlegg samt\\\n    \\ vei skal dimensjoneres og opparbeides i samsvar med til enhver tids \\ngjeldende\\\n    \\ \\xABRetningslinjer for vei, vann og avl\\xF8p\\xBB for Evje og Hornnes kommune.\\\n    \\ Det skal \\nsikres teknisk godkjenning av offentlig samferdselsanlegg. \\n\\xA7\\\n    4.14 Det skal f\\xF8r utbygging avklares hvordan det nye utbyggingsomr\\xE5det i\\\n    \\ planomr\\xE5det skal \\nforsynes med elektrisk str\\xF8m. Det m\\xE5 avklares i\\\n    \\ hvilken grad eksisterende ledninger/kabler \\neventuelt kan benyttes og om nye\\\n    \\ ledninger/kabler m\\xE5 legges om og om det er behov for \\nny(e) nettstasjon(er).\\\n    \\ \\n \\nUtforming av tomt \\n\\xA74.15 Situasjonsplan: Ved s\\xF8knad om tillatelse\\\n    \\ til tiltak skal situasjonsplan vedlegges i tilpasset \\nm\\xE5lestokk som viser\\\n    \\ plassering av bebyggelse og h\\xF8yde. Situasjonsplan skal ogs\\xE5 vise \\nplassering\\\n    \\ av parkering, avkj\\xF8rsel og evt. st\\xF8ttemurer.  \\n\\xA74.16 Renovasjon: Areal\\\n    \\ for renovasjon skal vises p\\xE5 situasjonsplan. Situasjonsplanen skal vise at\\\n    \\ \\nrenovasjonsbil har tilstrekkelig snuareal innenfor planomr\\xE5det.  \\n\\xA7\\\n    4.17 Forst\\xF8tningsmur: Det tillattes forst\\xF8tningsmurer for \\xE5 tilpasse\\\n    \\ terrenget. Forst\\xF8tningsmurer \\ntillates oppf\\xF8rt utenfor byggegrense. Maks\\\n    \\ tillatt h\\xF8yde p\\xE5 forst\\xF8tningsmurer er 2,5 meter.  \\n\\xA74.18 Det stilles\\\n    \\ estetisk krav til utforming av fylling / naturstein plastret skr\\xE5ning mot\\\n    \\ bekk. \\nSkr\\xE5ning skal jord klees, tils\\xE5es og sikres mot erosjon. \\n \\n\\\n    Forsamlingslokale for religionsut\\xF8velse - BR \\n \\n\\xA74.19 Omr\\xE5det skal\\\n    \\ benyttes til nytt sentrumsn\\xE6rt bedehus i n\\xF8dvendig grad og utstrekning\\\n    \\ \\n\\xA74.20 Bygninger kan oppf\\xF8res med gesimsh\\xF8yde 8,0 meter og m\\xF8neh\\xF8\\\n    yde 10,5 meter. \\n\\xA74.21 BYA for arealform\\xE5let skal v\\xE6re maksimalt %-BYA=\\\n    \\ 50. Areal for parkering medregnes ikke i \\n%BYA \\n\\xA74.22 Det skal avsettes\\\n    \\ tilstrekkelig med parkeringsareal til gjeldende aktivitet innenfor regulert\\\n    \\ \\nomr\\xE5de. Parkeringsbehovet for bedehuset kan l\\xF8ses b\\xE5de innenfor BR\\\n    \\ og SPA. \\n\\xA74.23 Arealutnyttelse utover dette skal opparbeides parkmessig\\\n    \\ og v\\xE6re tilgjengelig for \\nallmennheten. \\n\\xA74.24 Oppgitt gesimsh\\xF8yde\\\n    \\ og m\\xF8neh\\xF8yde skal regnes ut fra gjennomsnittlig h\\xF8yde p\\xE5 tomta/\\\n    \\ \\nomr\\xE5det f\\xF8r opparbeidelse begynner. \\n\\xA74.25 Innenfor omr\\xE5det BR\\\n    \\ tillates det internveier og parkeringsplasser. \\n \\nIdrettsanlegg - BIA \\n\\xA7\\\n    4.26 Innenfor omr\\xE5det er det tillatt med tiltak som fremmer idrettsaktiviteter.\\\n    \\  \\n \\nEnergianlegg - BE \\n\\xA74.27 Innenfor omr\\xE5det er det tillatt plassering\\\n    \\ av trafo og infrastruktur i sammenheng med dette. \\n \\n  \\n\\n  4 \\n\\xA75. Samferdselsanlegg\\\n    \\ og teknisk infrastruktur (pbl 12-5 nr. 2) \\nVeg (o_SV1) \\n\\xA75.1 Veien o_SV1\\\n    \\ er adkomst for alle tilgrensende eiendommer. \\nDet skal opparbeides et fysisk\\\n    \\ skille mellom o_SV1 og omkringliggende arealform\\xE5l SPA, GF \\nog SGS. Adkomst\\\n    \\ til SPA og BR skal ikke v\\xE6re rett ovenfor hverandre. \\n \\n \\n \\nVeg (o_SV3)\\\n    \\ \\n\\xA75.2 Veien o_SV3-er adkomst for boligomr\\xE5de BKS og BR samt atkomst til\\\n    \\ o_SPA. Plasseringer av \\navkj\\xF8rsler langs o_SV3 er ikke endelige og tillates\\\n    \\ justert i samr\\xE5d med veieier. \\n \\nFortau (o_SF1-2) \\n\\xA75.3 o_SF1-2 er\\\n    \\ regulert til offentlig fortau med en bredde p\\xE5 3 meter. \\n \\nParkering (o_SPA)\\\n    \\ \\n\\xA75.4 o_SPA er offentlig parkeringsplass. \\n\\xA75.5 Parkeringsbehov for\\\n    \\ bedehuset kan l\\xF8ses innenfor o_SPA. \\n\\xA75.6 Det tillates etablert ladestasjoner\\\n    \\ innenfor omr\\xE5det.  \\n\\xA75.7 Atkomst til SPA og SGS skal ikke anlegges vertikalt\\\n    \\ rett overfor hverandre. \\n \\n \\n\\xA76. Gr\\xF8nnstruktur (pbl 12-5 nr. 3) \\n\\\n    \\ \\nFriomr\\xE5de (o_GF1-3) \\n\\xA76.1 Omr\\xE5de for friomr\\xE5de/gr\\xF8ntstruktur\\\n    \\ GF1-GF3 er til fri ferdsel for allmenheten. \\n\\xA76.2 I omr\\xE5dene er det tillat\\\n    \\ oppf\\xF8rt bebyggelse og andre tekniske installasjoner som typisk \\nberiker\\\n    \\ bruken av omr\\xE5de. \\n\\xA76.3 Innenfor omr\\xE5det GF1 skal det opparbeides\\\n    \\ et felles leke- og uteoppholdsareal for hele \\nplanomr\\xE5det. Lekeplassen skal\\\n    \\ utstyres med sand, benk og min. 3 ulike lekeapparater. \\n\\xA76.4 Det tillates\\\n    \\ avkj\\xF8rsel for BR over o_GF3 \\n\\xA76.5 Bestemmelsesomr\\xE5de #02 SN\\xD8: Innenfor\\\n    \\ omr\\xE5det kan det anlegges opplag for sn\\xF8. \\n\\xA76.6 Det tillates \\xE5 legge\\\n    \\ kabler i bakken innenfor omr\\xE5de avsatt til friomr\\xE5de. \\n\\xA76.7 Adkomst\\\n    \\ til lekearealer skal v\\xE6re universelt utformet. \\n \\nTurdrag (GTD1-2) \\n\\xA7\\\n    6.8 Omr\\xE5dene skal benyttes til turveier. \\n \\n \\n \\nDato 11.05.2022 ", images: [],\n  metadata: {num_pages: 4}}\n\n\nReturn the correct JSON response within a ```json codeblock. not the JSON_SCHEMA'}], model='azure/gpt-4o-mini', temperature=0, max_tokens=4000, timeout=3000)[0m
python_service-1  | DEBUG:LiteLLM:[92mlitellm.completion(messages=[{'role': 'system', 'content': 'You are a server API that receives document information and returns specific fields in JSON format.\n\n\n        As a genius expert, your task is to understand the content and provide\n        the parsed objects in json that match the following json_schema:\n\n\n        {\n  "description": "Contract for field extraction from regulatory documents.\\n\\nDefines the structure and prompt for extracting regulation codes from\\nNorwegian planning documents (plankart and bestemmelser).\\n\\nAttributes:\\n    fields (Set[str]): Set of extracted regulation codes",\n  "properties": {\n    "fields": {\n      "items": {\n        "type": "string"\n      },\n      "title": "Fields",\n      "type": "array",\n      "uniqueItems": true\n    }\n  },\n  "required": [\n    "fields"\n  ],\n  "title": "FieldExtractContract",\n  "type": "object"\n}\n\n        Make sure to return an instance of the JSON, not the schema itself\n'}, {'role': 'user', 'content': '##Content\n\n{content: "  1 \\n  \\n \\n \\nReguleringsbestemmelser  \\nfor \\nSt\\xF8peritomta \\n \\n\\\n    Plan ID: 202102 \\nPlankart dato: 11.05.2022 \\nReguleringsbestemmelser dato: 11.05.2022\\\n    \\ \\nVedtatt PS 59/22: 16.06.2022 \\n  \\n \\n\\xA71. Planform\\xE5l \\nForm\\xE5let med\\\n    \\ planen er \\xE5 tilrettelegge for konsentrert bebyggelse med tilh\\xF8rende anlegg.\\\n    \\ \\nPlanen omfatter ogs\\xE5 kirke/annen religionsut\\xF8velse, parkeringsanlegg\\\n    \\ og idrett/park.  \\n \\nPlanen inneholder f\\xF8lgende form\\xE5l (Pbl. \\xA7 12-5):\\\n    \\ \\n \\n\\xA71.1 Bebyggelse og anlegg (pbl \\xA712-5,nr 1) \\nBoligbebyggelse- Konsentrert\\\n    \\ sm\\xE5husbebyggelse (BKS) \\nForsamlingslokale for religionsut\\xF8velse (BR)\\\n    \\ \\nIdrettsanlegg (BIA) \\nEnergianlegg (BE) \\n \\n\\xA71.2 Samferdselsanlegg og\\\n    \\ teknisk infrastruktur (pbl \\xA712-5, nr 2) \\nVeg (o_SV1 og 3) \\nFortau (o_SF)\\\n    \\ \\nParkering(o_SPA) \\n \\n\\xA71.3 Gr\\xF8nnstruktur (pbl \\xA712-5,2. ledd nr 3)\\\n    \\ \\nFriomr\\xE5de (o_GF1-3) \\nTurdrag (o_GTD1-2) \\n \\n \\n  \\n\\n\\n  2 \\n\\xA72. Rekkef\\xF8\\\n    lgebestemmelser (pbl \\xA7 12-7 nr. 10) \\n \\n\\xA72.1 F\\xF8r midlertidig brukstillatelse\\\n    \\ for BKS skal o_SV3 v\\xE6re ferdig opparbeidet.  \\n\\xA72.2 F\\xF8r midlertidig\\\n    \\ brukstillatelse for 1. boenhet p\\xE5 BKS skal lekeplass innenfor GF1 v\\xE6re\\\n    \\ ferdig \\nopparbeidet. \\n\\xA72.3 F\\xF8r midlertidig brukstillatelse p\\xE5 5.\\\n    \\ boenhet p\\xE5 BKS skal o_GTD1-2 v\\xE6re ferdig opparbeidet.  \\n\\xA72.4 F\\xF8\\\n    r midlertidig brukstillatelse for BKS skal o_SF v\\xE6re ferdig opparbeidet. \\n\\\n    \\xA72.5 F\\xF8r ferdigattest p\\xE5 BR, skal o_SF og o_SPA v\\xE6re ferdig opparbeidet.\\\n    \\ \\n \\n \\n \\n \\n \\n\\xA73. Fellesbestemmelser \\n\\xA73.1 Bygge- og anleggsst\\xF8\\\n    y skal ikke overskride st\\xF8ygrensen i tabell 4 i retningslinje for behandling\\\n    \\ \\nav st\\xF8y i arealplanlegging (T-1442/2021). St\\xF8yende aktivitet skal forega\\u030A\\\n    \\ p\\xE5 dagtid. \\n\\xA74. Bebyggelse og anlegg (pbl 12-5 nr. 1) \\nBoligbebyggelse-konsentrert\\\n    \\ sm\\xE5husbebyggelse - BKS \\n \\n\\xA74.1 Bebyggelse: Det tillates fire tomannsboliger\\\n    \\ p\\xE5 tomten. Totalt 8 boenheter.   \\n\\xA74.2 Byggegrenser: Plassering av nye\\\n    \\ tiltak skal skje innenfor byggegrensene. For \\ngarasje/carport/bod mindre enn\\\n    \\ 50 m2 BYA gjelder byggegrense p\\xE5 1 meter fra tomtegrense. \\nTerrenginngrep\\\n    \\ og grunnarbeider i forbindelse med opparbeidelse av tomtene tillattes \\nutenfor\\\n    \\ byggegrense. Avkj\\xF8rsel og parkering tillates utenfor byggegrense. \\n\\xA7\\\n    4.3 Garasje/Carport: Alle boenheter skal ha minst en parkering under tak til disposisjon.\\\n    \\  \\n\\xA74.4 Bestemmelsesomr\\xE5de #01 SN\\xD8: Innenfor omr\\xE5det kan det anlegges\\\n    \\ opplag for sn\\xF8. \\n \\nGrad av utnytting \\n\\xA74.5 Utnyttelsesgrad: BYA for\\\n    \\ omr\\xE5det BKS skal v\\xE6re maksimalt %-BYA= 40%. Overbygg til \\nrenovasjon\\\n    \\ eller dunker medregnes ikke i %-BYA. \\n\\xA74.6 Parkering: Det skal avsettes\\\n    \\ 2 parkeringsplasser for hver boenhet, hvor en av disse skal v\\xE6re i \\ngarasje/carport.\\\n    \\ BYA for parkering er 3x6=18m2 per plass. \\n \\nH\\xF8yder \\u2013 Utforming av\\\n    \\ bebyggelse \\n\\xA74.7 Planeringsh\\xF8yder: Maksimal planeringsh\\xF8yde er angitt\\\n    \\ i plankart. Maks planeringsh\\xF8yde er \\nK+182. \\n\\xA74.8 Takform: Bebyggelse\\\n    \\ skal ha saltak med en takvinkel mellom 30 - 40 grader.  \\n\\xA74.9 Takh\\xF8yder:\\\n    \\ Tillate takh\\xF8yder er angitt i tabellen under. H\\xF8yder regnes fra planert\\\n    \\ terreng. \\n \\n Saltak \\nM\\xF8ne 6,0 m \\nGesimsh\\xF8yde 3,5 m \\nTakvinkel 30-40\\\n    \\ grader \\n \\nSt\\xF8yf\\xF8lsom bebyggelse \\nF\\xF8r det tillates tiltak innenfor\\\n    \\ omr\\xE5det skal det gj\\xF8res st\\xF8yskjermede tiltak.   \\n\\xA74.10 Alle boenheter\\\n    \\ skal ha uteplass p\\xE5 b\\xE5de \\xF8stsiden og vestsiden av bebyggelsen.  \\n\\n\\\n    \\  3 \\n\\xA74.11 Alle boenheter skal v\\xE6re gjennomg\\xE5ende og ha minst ett soverom\\\n    \\ plassert p\\xE5 vestsiden og \\n\\xF8stsiden. Eventuelt \\xF8kt lydisolasjon i fasade\\\n    \\ i minst ett soverom i hver boenhet. \\n \\nTeknisk plan \\n\\xA74.12 Det stilles\\\n    \\ teknisk plan for VA, overvannsh\\xE5ndtering og str\\xF8mforsyning f\\xF8r \\nigangsettingstillatelse\\\n    \\ kan gis innenfor omr\\xE5det BKS. Det b\\xF8r legge til rette for \\xE5pne \\nvannveier\\\n    \\ for overvannsh\\xE5ndtering. Dersom andre l\\xF8sninger velges skal det begrunnes\\\n    \\ \\nhvorfor naturbaserte l\\xF8sninger velges bort. \\n\\xA74.13 V/A- anlegg samt\\\n    \\ vei skal dimensjoneres og opparbeides i samsvar med til enhver tids \\ngjeldende\\\n    \\ \\xABRetningslinjer for vei, vann og avl\\xF8p\\xBB for Evje og Hornnes kommune.\\\n    \\ Det skal \\nsikres teknisk godkjenning av offentlig samferdselsanlegg. \\n\\xA7\\\n    4.14 Det skal f\\xF8r utbygging avklares hvordan det nye utbyggingsomr\\xE5det i\\\n    \\ planomr\\xE5det skal \\nforsynes med elektrisk str\\xF8m. Det m\\xE5 avklares i\\\n    \\ hvilken grad eksisterende ledninger/kabler \\neventuelt kan benyttes og om nye\\\n    \\ ledninger/kabler m\\xE5 legges om og om det er behov for \\nny(e) nettstasjon(er).\\\n    \\ \\n \\nUtforming av tomt \\n\\xA74.15 Situasjonsplan: Ved s\\xF8knad om tillatelse\\\n    \\ til tiltak skal situasjonsplan vedlegges i tilpasset \\nm\\xE5lestokk som viser\\\n    \\ plassering av bebyggelse og h\\xF8yde. Situasjonsplan skal ogs\\xE5 vise \\nplassering\\\n    \\ av parkering, avkj\\xF8rsel og evt. st\\xF8ttemurer.  \\n\\xA74.16 Renovasjon: Areal\\\n    \\ for renovasjon skal vises p\\xE5 situasjonsplan. Situasjonsplanen skal vise at\\\n    \\ \\nrenovasjonsbil har tilstrekkelig snuareal innenfor planomr\\xE5det.  \\n\\xA7\\\n    4.17 Forst\\xF8tningsmur: Det tillattes forst\\xF8tningsmurer for \\xE5 tilpasse\\\n    \\ terrenget. Forst\\xF8tningsmurer \\ntillates oppf\\xF8rt utenfor byggegrense. Maks\\\n    \\ tillatt h\\xF8yde p\\xE5 forst\\xF8tningsmurer er 2,5 meter.  \\n\\xA74.18 Det stilles\\\n    \\ estetisk krav til utforming av fylling / naturstein plastret skr\\xE5ning mot\\\n    \\ bekk. \\nSkr\\xE5ning skal jord klees, tils\\xE5es og sikres mot erosjon. \\n \\n\\\n    Forsamlingslokale for religionsut\\xF8velse - BR \\n \\n\\xA74.19 Omr\\xE5det skal\\\n    \\ benyttes til nytt sentrumsn\\xE6rt bedehus i n\\xF8dvendig grad og utstrekning\\\n    \\ \\n\\xA74.20 Bygninger kan oppf\\xF8res med gesimsh\\xF8yde 8,0 meter og m\\xF8neh\\xF8\\\n    yde 10,5 meter. \\n\\xA74.21 BYA for arealform\\xE5let skal v\\xE6re maksimalt %-BYA=\\\n    \\ 50. Areal for parkering medregnes ikke i \\n%BYA \\n\\xA74.22 Det skal avsettes\\\n    \\ tilstrekkelig med parkeringsareal til gjeldende aktivitet innenfor regulert\\\n    \\ \\nomr\\xE5de. Parkeringsbehovet for bedehuset kan l\\xF8ses b\\xE5de innenfor BR\\\n    \\ og SPA. \\n\\xA74.23 Arealutnyttelse utover dette skal opparbeides parkmessig\\\n    \\ og v\\xE6re tilgjengelig for \\nallmennheten. \\n\\xA74.24 Oppgitt gesimsh\\xF8yde\\\n    \\ og m\\xF8neh\\xF8yde skal regnes ut fra gjennomsnittlig h\\xF8yde p\\xE5 tomta/\\\n    \\ \\nomr\\xE5det f\\xF8r opparbeidelse begynner. \\n\\xA74.25 Innenfor omr\\xE5det BR\\\n    \\ tillates det internveier og parkeringsplasser. \\n \\nIdrettsanlegg - BIA \\n\\xA7\\\n    4.26 Innenfor omr\\xE5det er det tillatt med tiltak som fremmer idrettsaktiviteter.\\\n    \\  \\n \\nEnergianlegg - BE \\n\\xA74.27 Innenfor omr\\xE5det er det tillatt plassering\\\n    \\ av trafo og infrastruktur i sammenheng med dette. \\n \\n  \\n\\n  4 \\n\\xA75. Samferdselsanlegg\\\n    \\ og teknisk infrastruktur (pbl 12-5 nr. 2) \\nVeg (o_SV1) \\n\\xA75.1 Veien o_SV1\\\n    \\ er adkomst for alle tilgrensende eiendommer. \\nDet skal opparbeides et fysisk\\\n    \\ skille mellom o_SV1 og omkringliggende arealform\\xE5l SPA, GF \\nog SGS. Adkomst\\\n    \\ til SPA og BR skal ikke v\\xE6re rett ovenfor hverandre. \\n \\n \\n \\nVeg (o_SV3)\\\n    \\ \\n\\xA75.2 Veien o_SV3-er adkomst for boligomr\\xE5de BKS og BR samt atkomst til\\\n    \\ o_SPA. Plasseringer av \\navkj\\xF8rsler langs o_SV3 er ikke endelige og tillates\\\n    \\ justert i samr\\xE5d med veieier. \\n \\nFortau (o_SF1-2) \\n\\xA75.3 o_SF1-2 er\\\n    \\ regulert til offentlig fortau med en bredde p\\xE5 3 meter. \\n \\nParkering (o_SPA)\\\n    \\ \\n\\xA75.4 o_SPA er offentlig parkeringsplass. \\n\\xA75.5 Parkeringsbehov for\\\n    \\ bedehuset kan l\\xF8ses innenfor o_SPA. \\n\\xA75.6 Det tillates etablert ladestasjoner\\\n    \\ innenfor omr\\xE5det.  \\n\\xA75.7 Atkomst til SPA og SGS skal ikke anlegges vertikalt\\\n    \\ rett overfor hverandre. \\n \\n \\n\\xA76. Gr\\xF8nnstruktur (pbl 12-5 nr. 3) \\n\\\n    \\ \\nFriomr\\xE5de (o_GF1-3) \\n\\xA76.1 Omr\\xE5de for friomr\\xE5de/gr\\xF8ntstruktur\\\n    \\ GF1-GF3 er til fri ferdsel for allmenheten. \\n\\xA76.2 I omr\\xE5dene er det tillat\\\n    \\ oppf\\xF8rt bebyggelse og andre tekniske installasjoner som typisk \\nberiker\\\n    \\ bruken av omr\\xE5de. \\n\\xA76.3 Innenfor omr\\xE5det GF1 skal det opparbeides\\\n    \\ et felles leke- og uteoppholdsareal for hele \\nplanomr\\xE5det. Lekeplassen skal\\\n    \\ utstyres med sand, benk og min. 3 ulike lekeapparater. \\n\\xA76.4 Det tillates\\\n    \\ avkj\\xF8rsel for BR over o_GF3 \\n\\xA76.5 Bestemmelsesomr\\xE5de #02 SN\\xD8: Innenfor\\\n    \\ omr\\xE5det kan det anlegges opplag for sn\\xF8. \\n\\xA76.6 Det tillates \\xE5 legge\\\n    \\ kabler i bakken innenfor omr\\xE5de avsatt til friomr\\xE5de. \\n\\xA76.7 Adkomst\\\n    \\ til lekearealer skal v\\xE6re universelt utformet. \\n \\nTurdrag (GTD1-2) \\n\\xA7\\\n    6.8 Omr\\xE5dene skal benyttes til turveier. \\n \\n \\n \\nDato 11.05.2022 ", images: [],\n  metadata: {num_pages: 4}}\n\n\nReturn the correct JSON response within a ```json codeblock. not the JSON_SCHEMA'}], model='azure/gpt-4o-mini', temperature=0, max_tokens=4000, timeout=3000)[0m
python_service-1  | [92m11:34:37 - LiteLLM:DEBUG[0m: utils.py:298 - 
python_service-1  | 
python_service-1  | DEBUG:LiteLLM:
python_service-1  | 
python_service-1  | [92m11:34:37 - LiteLLM:DEBUG[0m: litellm_logging.py:377 - self.optional_params: {}
python_service-1  | DEBUG:LiteLLM:self.optional_params: {}
python_service-1  | [92m11:34:37 - LiteLLM:DEBUG[0m: utils.py:298 - SYNC kwargs[caching]: False; litellm.cache: None; kwargs.get('cache')['no-cache']: False
python_service-1  | DEBUG:LiteLLM:SYNC kwargs[caching]: False; litellm.cache: None; kwargs.get('cache')['no-cache']: False
python_service-1  | [92m11:34:37 - LiteLLM:DEBUG[0m: transformation.py:126 - Translating developer role to system role for non-OpenAI providers.
python_service-1  | DEBUG:LiteLLM:Translating developer role to system role for non-OpenAI providers.
python_service-1  | [92m11:34:37 - LiteLLM:INFO[0m: utils.py:2905 - 
python_service-1  | LiteLLM completion() model= gpt-4o-mini; provider = azure
python_service-1  | INFO:LiteLLM:
python_service-1  | LiteLLM completion() model= gpt-4o-mini; provider = azure
python_service-1  | [92m11:34:37 - LiteLLM:DEBUG[0m: utils.py:2908 - 
python_service-1  | LiteLLM: Params passed to completion() {'model': 'gpt-4o-mini', 'functions': None, 'function_call': None, 'temperature': 0, 'top_p': None, 'n': None, 'stream': None, 'stream_options': None, 'stop': None, 'max_tokens': 4000, 'max_completion_tokens': None, 'modalities': None, 'prediction': None, 'audio': None, 'presence_penalty': None, 'frequency_penalty': None, 'logit_bias': None, 'user': None, 'custom_llm_provider': 'azure', 'response_format': None, 'seed': None, 'tools': None, 'tool_choice': None, 'max_retries': None, 'logprobs': None, 'top_logprobs': None, 'extra_headers': None, 'api_version': None, 'parallel_tool_calls': None, 'drop_params': None, 'reasoning_effort': None, 'additional_drop_params': None, 'messages': [{'role': 'system', 'content': 'You are a server API that receives document information and returns specific fields in JSON format.\n\n\n        As a genius expert, your task is to understand the content and provide\n        the parsed objects in json that match the following json_schema:\n\n\n        {\n  "description": "Contract for field extraction from regulatory documents.\\n\\nDefines the structure and prompt for extracting regulation codes from\\nNorwegian planning documents (plankart and bestemmelser).\\n\\nAttributes:\\n    fields (Set[str]): Set of extracted regulation codes",\n  "properties": {\n    "fields": {\n      "items": {\n        "type": "string"\n      },\n      "title": "Fields",\n      "type": "array",\n      "uniqueItems": true\n    }\n  },\n  "required": [\n    "fields"\n  ],\n  "title": "FieldExtractContract",\n  "type": "object"\n}\n\n        Make sure to return an instance of the JSON, not the schema itself\n'}, {'role': 'user', 'content': '##Content\n\n{content: "  1 \\n  \\n \\n \\nReguleringsbestemmelser  \\nfor \\nSt\\xF8peritomta \\n \\n\\\n    Plan ID: 202102 \\nPlankart dato: 11.05.2022 \\nReguleringsbestemmelser dato: 11.05.2022\\\n    \\ \\nVedtatt PS 59/22: 16.06.2022 \\n  \\n \\n\\xA71. Planform\\xE5l \\nForm\\xE5let med\\\n    \\ planen er \\xE5 tilrettelegge for konsentrert bebyggelse med tilh\\xF8rende anlegg.\\\n    \\ \\nPlanen omfatter ogs\\xE5 kirke/annen religionsut\\xF8velse, parkeringsanlegg\\\n    \\ og idrett/park.  \\n \\nPlanen inneholder f\\xF8lgende form\\xE5l (Pbl. \\xA7 12-5):\\\n    \\ \\n \\n\\xA71.1 Bebyggelse og anlegg (pbl \\xA712-5,nr 1) \\nBoligbebyggelse- Konsentrert\\\n    \\ sm\\xE5husbebyggelse (BKS) \\nForsamlingslokale for religionsut\\xF8velse (BR)\\\n    \\ \\nIdrettsanlegg (BIA) \\nEnergianlegg (BE) \\n \\n\\xA71.2 Samferdselsanlegg og\\\n    \\ teknisk infrastruktur (pbl \\xA712-5, nr 2) \\nVeg (o_SV1 og 3) \\nFortau (o_SF)\\\n    \\ \\nParkering(o_SPA) \\n \\n\\xA71.3 Gr\\xF8nnstruktur (pbl \\xA712-5,2. ledd nr 3)\\\n    \\ \\nFriomr\\xE5de (o_GF1-3) \\nTurdrag (o_GTD1-2) \\n \\n \\n  \\n\\n\\n  2 \\n\\xA72. Rekkef\\xF8\\\n    lgebestemmelser (pbl \\xA7 12-7 nr. 10) \\n \\n\\xA72.1 F\\xF8r midlertidig brukstillatelse\\\n    \\ for BKS skal o_SV3 v\\xE6re ferdig opparbeidet.  \\n\\xA72.2 F\\xF8r midlertidig\\\n    \\ brukstillatelse for 1. boenhet p\\xE5 BKS skal lekeplass innenfor GF1 v\\xE6re\\\n    \\ ferdig \\nopparbeidet. \\n\\xA72.3 F\\xF8r midlertidig brukstillatelse p\\xE5 5.\\\n    \\ boenhet p\\xE5 BKS skal o_GTD1-2 v\\xE6re ferdig opparbeidet.  \\n\\xA72.4 F\\xF8\\\n    r midlertidig brukstillatelse for BKS skal o_SF v\\xE6re ferdig opparbeidet. \\n\\\n    \\xA72.5 F\\xF8r ferdigattest p\\xE5 BR, skal o_SF og o_SPA v\\xE6re ferdig opparbeidet.\\\n    \\ \\n \\n \\n \\n \\n \\n\\xA73. Fellesbestemmelser \\n\\xA73.1 Bygge- og anleggsst\\xF8\\\n    y skal ikke overskride st\\xF8ygrensen i tabell 4 i retningslinje for behandling\\\n    \\ \\nav st\\xF8y i arealplanlegging (T-1442/2021). St\\xF8yende aktivitet skal forega\\u030A\\\n    \\ p\\xE5 dagtid. \\n\\xA74. Bebyggelse og anlegg (pbl 12-5 nr. 1) \\nBoligbebyggelse-konsentrert\\\n    \\ sm\\xE5husbebyggelse - BKS \\n \\n\\xA74.1 Bebyggelse: Det tillates fire tomannsboliger\\\n    \\ p\\xE5 tomten. Totalt 8 boenheter.   \\n\\xA74.2 Byggegrenser: Plassering av nye\\\n    \\ tiltak skal skje innenfor byggegrensene. For \\ngarasje/carport/bod mindre enn\\\n    \\ 50 m2 BYA gjelder byggegrense p\\xE5 1 meter fra tomtegrense. \\nTerrenginngrep\\\n    \\ og grunnarbeider i forbindelse med opparbeidelse av tomtene tillattes \\nutenfor\\\n    \\ byggegrense. Avkj\\xF8rsel og parkering tillates utenfor byggegrense. \\n\\xA7\\\n    4.3 Garasje/Carport: Alle boenheter skal ha minst en parkering under tak til disposisjon.\\\n    \\  \\n\\xA74.4 Bestemmelsesomr\\xE5de #01 SN\\xD8: Innenfor omr\\xE5det kan det anlegges\\\n    \\ opplag for sn\\xF8. \\n \\nGrad av utnytting \\n\\xA74.5 Utnyttelsesgrad: BYA for\\\n    \\ omr\\xE5det BKS skal v\\xE6re maksimalt %-BYA= 40%. Overbygg til \\nrenovasjon\\\n    \\ eller dunker medregnes ikke i %-BYA. \\n\\xA74.6 Parkering: Det skal avsettes\\\n    \\ 2 parkeringsplasser for hver boenhet, hvor en av disse skal v\\xE6re i \\ngarasje/carport.\\\n    \\ BYA for parkering er 3x6=18m2 per plass. \\n \\nH\\xF8yder \\u2013 Utforming av\\\n    \\ bebyggelse \\n\\xA74.7 Planeringsh\\xF8yder: Maksimal planeringsh\\xF8yde er angitt\\\n    \\ i plankart. Maks planeringsh\\xF8yde er \\nK+182. \\n\\xA74.8 Takform: Bebyggelse\\\n    \\ skal ha saltak med en takvinkel mellom 30 - 40 grader.  \\n\\xA74.9 Takh\\xF8yder:\\\n    \\ Tillate takh\\xF8yder er angitt i tabellen under. H\\xF8yder regnes fra planert\\\n    \\ terreng. \\n \\n Saltak \\nM\\xF8ne 6,0 m \\nGesimsh\\xF8yde 3,5 m \\nTakvinkel 30-40\\\n    \\ grader \\n \\nSt\\xF8yf\\xF8lsom bebyggelse \\nF\\xF8r det tillates tiltak innenfor\\\n    \\ omr\\xE5det skal det gj\\xF8res st\\xF8yskjermede tiltak.   \\n\\xA74.10 Alle boenheter\\\n    \\ skal ha uteplass p\\xE5 b\\xE5de \\xF8stsiden og vestsiden av bebyggelsen.  \\n\\n\\\n    \\  3 \\n\\xA74.11 Alle boenheter skal v\\xE6re gjennomg\\xE5ende og ha minst ett soverom\\\n    \\ plassert p\\xE5 vestsiden og \\n\\xF8stsiden. Eventuelt \\xF8kt lydisolasjon i fasade\\\n    \\ i minst ett soverom i hver boenhet. \\n \\nTeknisk plan \\n\\xA74.12 Det stilles\\\n    \\ teknisk plan for VA, overvannsh\\xE5ndtering og str\\xF8mforsyning f\\xF8r \\nigangsettingstillatelse\\\n    \\ kan gis innenfor omr\\xE5det BKS. Det b\\xF8r legge til rette for \\xE5pne \\nvannveier\\\n    \\ for overvannsh\\xE5ndtering. Dersom andre l\\xF8sninger velges skal det begrunnes\\\n    \\ \\nhvorfor naturbaserte l\\xF8sninger velges bort. \\n\\xA74.13 V/A- anlegg samt\\\n    \\ vei skal dimensjoneres og opparbeides i samsvar med til enhver tids \\ngjeldende\\\n    \\ \\xABRetningslinjer for vei, vann og avl\\xF8p\\xBB for Evje og Hornnes kommune.\\\n    \\ Det skal \\nsikres teknisk godkjenning av offentlig samferdselsanlegg. \\n\\xA7\\\n    4.14 Det skal f\\xF8r utbygging avklares hvordan det nye utbyggingsomr\\xE5det i\\\n    \\ planomr\\xE5det skal \\nforsynes med elektrisk str\\xF8m. Det m\\xE5 avklares i\\\n    \\ hvilken grad eksisterende ledninger/kabler \\neventuelt kan benyttes og om nye\\\n    \\ ledninger/kabler m\\xE5 legges om og om det er behov for \\nny(e) nettstasjon(er).\\\n    \\ \\n \\nUtforming av tomt \\n\\xA74.15 Situasjonsplan: Ved s\\xF8knad om tillatelse\\\n    \\ til tiltak skal situasjonsplan vedlegges i tilpasset \\nm\\xE5lestokk som viser\\\n    \\ plassering av bebyggelse og h\\xF8yde. Situasjonsplan skal ogs\\xE5 vise \\nplassering\\\n    \\ av parkering, avkj\\xF8rsel og evt. st\\xF8ttemurer.  \\n\\xA74.16 Renovasjon: Areal\\\n    \\ for renovasjon skal vises p\\xE5 situasjonsplan. Situasjonsplanen skal vise at\\\n    \\ \\nrenovasjonsbil har tilstrekkelig snuareal innenfor planomr\\xE5det.  \\n\\xA7\\\n    4.17 Forst\\xF8tningsmur: Det tillattes forst\\xF8tningsmurer for \\xE5 tilpasse\\\n    \\ terrenget. Forst\\xF8tningsmurer \\ntillates oppf\\xF8rt utenfor byggegrense. Maks\\\n    \\ tillatt h\\xF8yde p\\xE5 forst\\xF8tningsmurer er 2,5 meter.  \\n\\xA74.18 Det stilles\\\n    \\ estetisk krav til utforming av fylling / naturstein plastret skr\\xE5ning mot\\\n    \\ bekk. \\nSkr\\xE5ning skal jord klees, tils\\xE5es og sikres mot erosjon. \\n \\n\\\n    Forsamlingslokale for religionsut\\xF8velse - BR \\n \\n\\xA74.19 Omr\\xE5det skal\\\n    \\ benyttes til nytt sentrumsn\\xE6rt bedehus i n\\xF8dvendig grad og utstrekning\\\n    \\ \\n\\xA74.20 Bygninger kan oppf\\xF8res med gesimsh\\xF8yde 8,0 meter og m\\xF8neh\\xF8\\\n    yde 10,5 meter. \\n\\xA74.21 BYA for arealform\\xE5let skal v\\xE6re maksimalt %-BYA=\\\n    \\ 50. Areal for parkering medregnes ikke i \\n%BYA \\n\\xA74.22 Det skal avsettes\\\n    \\ tilstrekkelig med parkeringsareal til gjeldende aktivitet innenfor regulert\\\n    \\ \\nomr\\xE5de. Parkeringsbehovet for bedehuset kan l\\xF8ses b\\xE5de innenfor BR\\\n    \\ og SPA. \\n\\xA74.23 Arealutnyttelse utover dette skal opparbeides parkmessig\\\n    \\ og v\\xE6re tilgjengelig for \\nallmennheten. \\n\\xA74.24 Oppgitt gesimsh\\xF8yde\\\n    \\ og m\\xF8neh\\xF8yde skal regnes ut fra gjennomsnittlig h\\xF8yde p\\xE5 tomta/\\\n    \\ \\nomr\\xE5det f\\xF8r opparbeidelse begynner. \\n\\xA74.25 Innenfor omr\\xE5det BR\\\n    \\ tillates det internveier og parkeringsplasser. \\n \\nIdrettsanlegg - BIA \\n\\xA7\\\n    4.26 Innenfor omr\\xE5det er det tillatt med tiltak som fremmer idrettsaktiviteter.\\\n    \\  \\n \\nEnergianlegg - BE \\n\\xA74.27 Innenfor omr\\xE5det er det tillatt plassering\\\n    \\ av trafo og infrastruktur i sammenheng med dette. \\n \\n  \\n\\n  4 \\n\\xA75. Samferdselsanlegg\\\n    \\ og teknisk infrastruktur (pbl 12-5 nr. 2) \\nVeg (o_SV1) \\n\\xA75.1 Veien o_SV1\\\n    \\ er adkomst for alle tilgrensende eiendommer. \\nDet skal opparbeides et fysisk\\\n    \\ skille mellom o_SV1 og omkringliggende arealform\\xE5l SPA, GF \\nog SGS. Adkomst\\\n    \\ til SPA og BR skal ikke v\\xE6re rett ovenfor hverandre. \\n \\n \\n \\nVeg (o_SV3)\\\n    \\ \\n\\xA75.2 Veien o_SV3-er adkomst for boligomr\\xE5de BKS og BR samt atkomst til\\\n    \\ o_SPA. Plasseringer av \\navkj\\xF8rsler langs o_SV3 er ikke endelige og tillates\\\n    \\ justert i samr\\xE5d med veieier. \\n \\nFortau (o_SF1-2) \\n\\xA75.3 o_SF1-2 er\\\n    \\ regulert til offentlig fortau med en bredde p\\xE5 3 meter. \\n \\nParkering (o_SPA)\\\n    \\ \\n\\xA75.4 o_SPA er offentlig parkeringsplass. \\n\\xA75.5 Parkeringsbehov for\\\n    \\ bedehuset kan l\\xF8ses innenfor o_SPA. \\n\\xA75.6 Det tillates etablert ladestasjoner\\\n    \\ innenfor omr\\xE5det.  \\n\\xA75.7 Atkomst til SPA og SGS skal ikke anlegges vertikalt\\\n    \\ rett overfor hverandre. \\n \\n \\n\\xA76. Gr\\xF8nnstruktur (pbl 12-5 nr. 3) \\n\\\n    \\ \\nFriomr\\xE5de (o_GF1-3) \\n\\xA76.1 Omr\\xE5de for friomr\\xE5de/gr\\xF8ntstruktur\\\n    \\ GF1-GF3 er til fri ferdsel for allmenheten. \\n\\xA76.2 I omr\\xE5dene er det tillat\\\n    \\ oppf\\xF8rt bebyggelse og andre tekniske installasjoner som typisk \\nberiker\\\n    \\ bruken av omr\\xE5de. \\n\\xA76.3 Innenfor omr\\xE5det GF1 skal det opparbeides\\\n    \\ et felles leke- og uteoppholdsareal for hele \\nplanomr\\xE5det. Lekeplassen skal\\\n    \\ utstyres med sand, benk og min. 3 ulike lekeapparater. \\n\\xA76.4 Det tillates\\\n    \\ avkj\\xF8rsel for BR over o_GF3 \\n\\xA76.5 Bestemmelsesomr\\xE5de #02 SN\\xD8: Innenfor\\\n    \\ omr\\xE5det kan det anlegges opplag for sn\\xF8. \\n\\xA76.6 Det tillates \\xE5 legge\\\n    \\ kabler i bakken innenfor omr\\xE5de avsatt til friomr\\xE5de. \\n\\xA76.7 Adkomst\\\n    \\ til lekearealer skal v\\xE6re universelt utformet. \\n \\nTurdrag (GTD1-2) \\n\\xA7\\\n    6.8 Omr\\xE5dene skal benyttes til turveier. \\n \\n \\n \\nDato 11.05.2022 ", images: [],\n  metadata: {num_pages: 4}}\n\n\nReturn the correct JSON response within a ```json codeblock. not the JSON_SCHEMA'}]}
python_service-1  | DEBUG:LiteLLM:
python_service-1  | LiteLLM: Params passed to completion() {'model': 'gpt-4o-mini', 'functions': None, 'function_call': None, 'temperature': 0, 'top_p': None, 'n': None, 'stream': None, 'stream_options': None, 'stop': None, 'max_tokens': 4000, 'max_completion_tokens': None, 'modalities': None, 'prediction': None, 'audio': None, 'presence_penalty': None, 'frequency_penalty': None, 'logit_bias': None, 'user': None, 'custom_llm_provider': 'azure', 'response_format': None, 'seed': None, 'tools': None, 'tool_choice': None, 'max_retries': None, 'logprobs': None, 'top_logprobs': None, 'extra_headers': None, 'api_version': None, 'parallel_tool_calls': None, 'drop_params': None, 'reasoning_effort': None, 'additional_drop_params': None, 'messages': [{'role': 'system', 'content': 'You are a server API that receives document information and returns specific fields in JSON format.\n\n\n        As a genius expert, your task is to understand the content and provide\n        the parsed objects in json that match the following json_schema:\n\n\n        {\n  "description": "Contract for field extraction from regulatory documents.\\n\\nDefines the structure and prompt for extracting regulation codes from\\nNorwegian planning documents (plankart and bestemmelser).\\n\\nAttributes:\\n    fields (Set[str]): Set of extracted regulation codes",\n  "properties": {\n    "fields": {\n      "items": {\n        "type": "string"\n      },\n      "title": "Fields",\n      "type": "array",\n      "uniqueItems": true\n    }\n  },\n  "required": [\n    "fields"\n  ],\n  "title": "FieldExtractContract",\n  "type": "object"\n}\n\n        Make sure to return an instance of the JSON, not the schema itself\n'}, {'role': 'user', 'content': '##Content\n\n{content: "  1 \\n  \\n \\n \\nReguleringsbestemmelser  \\nfor \\nSt\\xF8peritomta \\n \\n\\\n    Plan ID: 202102 \\nPlankart dato: 11.05.2022 \\nReguleringsbestemmelser dato: 11.05.2022\\\n    \\ \\nVedtatt PS 59/22: 16.06.2022 \\n  \\n \\n\\xA71. Planform\\xE5l \\nForm\\xE5let med\\\n    \\ planen er \\xE5 tilrettelegge for konsentrert bebyggelse med tilh\\xF8rende anlegg.\\\n    \\ \\nPlanen omfatter ogs\\xE5 kirke/annen religionsut\\xF8velse, parkeringsanlegg\\\n    \\ og idrett/park.  \\n \\nPlanen inneholder f\\xF8lgende form\\xE5l (Pbl. \\xA7 12-5):\\\n    \\ \\n \\n\\xA71.1 Bebyggelse og anlegg (pbl \\xA712-5,nr 1) \\nBoligbebyggelse- Konsentrert\\\n    \\ sm\\xE5husbebyggelse (BKS) \\nForsamlingslokale for religionsut\\xF8velse (BR)\\\n    \\ \\nIdrettsanlegg (BIA) \\nEnergianlegg (BE) \\n \\n\\xA71.2 Samferdselsanlegg og\\\n    \\ teknisk infrastruktur (pbl \\xA712-5, nr 2) \\nVeg (o_SV1 og 3) \\nFortau (o_SF)\\\n    \\ \\nParkering(o_SPA) \\n \\n\\xA71.3 Gr\\xF8nnstruktur (pbl \\xA712-5,2. ledd nr 3)\\\n    \\ \\nFriomr\\xE5de (o_GF1-3) \\nTurdrag (o_GTD1-2) \\n \\n \\n  \\n\\n\\n  2 \\n\\xA72. Rekkef\\xF8\\\n    lgebestemmelser (pbl \\xA7 12-7 nr. 10) \\n \\n\\xA72.1 F\\xF8r midlertidig brukstillatelse\\\n    \\ for BKS skal o_SV3 v\\xE6re ferdig opparbeidet.  \\n\\xA72.2 F\\xF8r midlertidig\\\n    \\ brukstillatelse for 1. boenhet p\\xE5 BKS skal lekeplass innenfor GF1 v\\xE6re\\\n    \\ ferdig \\nopparbeidet. \\n\\xA72.3 F\\xF8r midlertidig brukstillatelse p\\xE5 5.\\\n    \\ boenhet p\\xE5 BKS skal o_GTD1-2 v\\xE6re ferdig opparbeidet.  \\n\\xA72.4 F\\xF8\\\n    r midlertidig brukstillatelse for BKS skal o_SF v\\xE6re ferdig opparbeidet. \\n\\\n    \\xA72.5 F\\xF8r ferdigattest p\\xE5 BR, skal o_SF og o_SPA v\\xE6re ferdig opparbeidet.\\\n    \\ \\n \\n \\n \\n \\n \\n\\xA73. Fellesbestemmelser \\n\\xA73.1 Bygge- og anleggsst\\xF8\\\n    y skal ikke overskride st\\xF8ygrensen i tabell 4 i retningslinje for behandling\\\n    \\ \\nav st\\xF8y i arealplanlegging (T-1442/2021). St\\xF8yende aktivitet skal forega\\u030A\\\n    \\ p\\xE5 dagtid. \\n\\xA74. Bebyggelse og anlegg (pbl 12-5 nr. 1) \\nBoligbebyggelse-konsentrert\\\n    \\ sm\\xE5husbebyggelse - BKS \\n \\n\\xA74.1 Bebyggelse: Det tillates fire tomannsboliger\\\n    \\ p\\xE5 tomten. Totalt 8 boenheter.   \\n\\xA74.2 Byggegrenser: Plassering av nye\\\n    \\ tiltak skal skje innenfor byggegrensene. For \\ngarasje/carport/bod mindre enn\\\n    \\ 50 m2 BYA gjelder byggegrense p\\xE5 1 meter fra tomtegrense. \\nTerrenginngrep\\\n    \\ og grunnarbeider i forbindelse med opparbeidelse av tomtene tillattes \\nutenfor\\\n    \\ byggegrense. Avkj\\xF8rsel og parkering tillates utenfor byggegrense. \\n\\xA7\\\n    4.3 Garasje/Carport: Alle boenheter skal ha minst en parkering under tak til disposisjon.\\\n    \\  \\n\\xA74.4 Bestemmelsesomr\\xE5de #01 SN\\xD8: Innenfor omr\\xE5det kan det anlegges\\\n    \\ opplag for sn\\xF8. \\n \\nGrad av utnytting \\n\\xA74.5 Utnyttelsesgrad: BYA for\\\n    \\ omr\\xE5det BKS skal v\\xE6re maksimalt %-BYA= 40%. Overbygg til \\nrenovasjon\\\n    \\ eller dunker medregnes ikke i %-BYA. \\n\\xA74.6 Parkering: Det skal avsettes\\\n    \\ 2 parkeringsplasser for hver boenhet, hvor en av disse skal v\\xE6re i \\ngarasje/carport.\\\n    \\ BYA for parkering er 3x6=18m2 per plass. \\n \\nH\\xF8yder \\u2013 Utforming av\\\n    \\ bebyggelse \\n\\xA74.7 Planeringsh\\xF8yder: Maksimal planeringsh\\xF8yde er angitt\\\n    \\ i plankart. Maks planeringsh\\xF8yde er \\nK+182. \\n\\xA74.8 Takform: Bebyggelse\\\n    \\ skal ha saltak med en takvinkel mellom 30 - 40 grader.  \\n\\xA74.9 Takh\\xF8yder:\\\n    \\ Tillate takh\\xF8yder er angitt i tabellen under. H\\xF8yder regnes fra planert\\\n    \\ terreng. \\n \\n Saltak \\nM\\xF8ne 6,0 m \\nGesimsh\\xF8yde 3,5 m \\nTakvinkel 30-40\\\n    \\ grader \\n \\nSt\\xF8yf\\xF8lsom bebyggelse \\nF\\xF8r det tillates tiltak innenfor\\\n    \\ omr\\xE5det skal det gj\\xF8res st\\xF8yskjermede tiltak.   \\n\\xA74.10 Alle boenheter\\\n    \\ skal ha uteplass p\\xE5 b\\xE5de \\xF8stsiden og vestsiden av bebyggelsen.  \\n\\n\\\n    \\  3 \\n\\xA74.11 Alle boenheter skal v\\xE6re gjennomg\\xE5ende og ha minst ett soverom\\\n    \\ plassert p\\xE5 vestsiden og \\n\\xF8stsiden. Eventuelt \\xF8kt lydisolasjon i fasade\\\n    \\ i minst ett soverom i hver boenhet. \\n \\nTeknisk plan \\n\\xA74.12 Det stilles\\\n    \\ teknisk plan for VA, overvannsh\\xE5ndtering og str\\xF8mforsyning f\\xF8r \\nigangsettingstillatelse\\\n    \\ kan gis innenfor omr\\xE5det BKS. Det b\\xF8r legge til rette for \\xE5pne \\nvannveier\\\n    \\ for overvannsh\\xE5ndtering. Dersom andre l\\xF8sninger velges skal det begrunnes\\\n    \\ \\nhvorfor naturbaserte l\\xF8sninger velges bort. \\n\\xA74.13 V/A- anlegg samt\\\n    \\ vei skal dimensjoneres og opparbeides i samsvar med til enhver tids \\ngjeldende\\\n    \\ \\xABRetningslinjer for vei, vann og avl\\xF8p\\xBB for Evje og Hornnes kommune.\\\n    \\ Det skal \\nsikres teknisk godkjenning av offentlig samferdselsanlegg. \\n\\xA7\\\n    4.14 Det skal f\\xF8r utbygging avklares hvordan det nye utbyggingsomr\\xE5det i\\\n    \\ planomr\\xE5det skal \\nforsynes med elektrisk str\\xF8m. Det m\\xE5 avklares i\\\n    \\ hvilken grad eksisterende ledninger/kabler \\neventuelt kan benyttes og om nye\\\n    \\ ledninger/kabler m\\xE5 legges om og om det er behov for \\nny(e) nettstasjon(er).\\\n    \\ \\n \\nUtforming av tomt \\n\\xA74.15 Situasjonsplan: Ved s\\xF8knad om tillatelse\\\n    \\ til tiltak skal situasjonsplan vedlegges i tilpasset \\nm\\xE5lestokk som viser\\\n    \\ plassering av bebyggelse og h\\xF8yde. Situasjonsplan skal ogs\\xE5 vise \\nplassering\\\n    \\ av parkering, avkj\\xF8rsel og evt. st\\xF8ttemurer.  \\n\\xA74.16 Renovasjon: Areal\\\n    \\ for renovasjon skal vises p\\xE5 situasjonsplan. Situasjonsplanen skal vise at\\\n    \\ \\nrenovasjonsbil har tilstrekkelig snuareal innenfor planomr\\xE5det.  \\n\\xA7\\\n    4.17 Forst\\xF8tningsmur: Det tillattes forst\\xF8tningsmurer for \\xE5 tilpasse\\\n    \\ terrenget. Forst\\xF8tningsmurer \\ntillates oppf\\xF8rt utenfor byggegrense. Maks\\\n    \\ tillatt h\\xF8yde p\\xE5 forst\\xF8tningsmurer er 2,5 meter.  \\n\\xA74.18 Det stilles\\\n    \\ estetisk krav til utforming av fylling / naturstein plastret skr\\xE5ning mot\\\n    \\ bekk. \\nSkr\\xE5ning skal jord klees, tils\\xE5es og sikres mot erosjon. \\n \\n\\\n    Forsamlingslokale for religionsut\\xF8velse - BR \\n \\n\\xA74.19 Omr\\xE5det skal\\\n    \\ benyttes til nytt sentrumsn\\xE6rt bedehus i n\\xF8dvendig grad og utstrekning\\\n    \\ \\n\\xA74.20 Bygninger kan oppf\\xF8res med gesimsh\\xF8yde 8,0 meter og m\\xF8neh\\xF8\\\n    yde 10,5 meter. \\n\\xA74.21 BYA for arealform\\xE5let skal v\\xE6re maksimalt %-BYA=\\\n    \\ 50. Areal for parkering medregnes ikke i \\n%BYA \\n\\xA74.22 Det skal avsettes\\\n    \\ tilstrekkelig med parkeringsareal til gjeldende aktivitet innenfor regulert\\\n    \\ \\nomr\\xE5de. Parkeringsbehovet for bedehuset kan l\\xF8ses b\\xE5de innenfor BR\\\n    \\ og SPA. \\n\\xA74.23 Arealutnyttelse utover dette skal opparbeides parkmessig\\\n    \\ og v\\xE6re tilgjengelig for \\nallmennheten. \\n\\xA74.24 Oppgitt gesimsh\\xF8yde\\\n    \\ og m\\xF8neh\\xF8yde skal regnes ut fra gjennomsnittlig h\\xF8yde p\\xE5 tomta/\\\n    \\ \\nomr\\xE5det f\\xF8r opparbeidelse begynner. \\n\\xA74.25 Innenfor omr\\xE5det BR\\\n    \\ tillates det internveier og parkeringsplasser. \\n \\nIdrettsanlegg - BIA \\n\\xA7\\\n    4.26 Innenfor omr\\xE5det er det tillatt med tiltak som fremmer idrettsaktiviteter.\\\n    \\  \\n \\nEnergianlegg - BE \\n\\xA74.27 Innenfor omr\\xE5det er det tillatt plassering\\\n    \\ av trafo og infrastruktur i sammenheng med dette. \\n \\n  \\n\\n  4 \\n\\xA75. Samferdselsanlegg\\\n    \\ og teknisk infrastruktur (pbl 12-5 nr. 2) \\nVeg (o_SV1) \\n\\xA75.1 Veien o_SV1\\\n    \\ er adkomst for alle tilgrensende eiendommer. \\nDet skal opparbeides et fysisk\\\n    \\ skille mellom o_SV1 og omkringliggende arealform\\xE5l SPA, GF \\nog SGS. Adkomst\\\n    \\ til SPA og BR skal ikke v\\xE6re rett ovenfor hverandre. \\n \\n \\n \\nVeg (o_SV3)\\\n    \\ \\n\\xA75.2 Veien o_SV3-er adkomst for boligomr\\xE5de BKS og BR samt atkomst til\\\n    \\ o_SPA. Plasseringer av \\navkj\\xF8rsler langs o_SV3 er ikke endelige og tillates\\\n    \\ justert i samr\\xE5d med veieier. \\n \\nFortau (o_SF1-2) \\n\\xA75.3 o_SF1-2 er\\\n    \\ regulert til offentlig fortau med en bredde p\\xE5 3 meter. \\n \\nParkering (o_SPA)\\\n    \\ \\n\\xA75.4 o_SPA er offentlig parkeringsplass. \\n\\xA75.5 Parkeringsbehov for\\\n    \\ bedehuset kan l\\xF8ses innenfor o_SPA. \\n\\xA75.6 Det tillates etablert ladestasjoner\\\n    \\ innenfor omr\\xE5det.  \\n\\xA75.7 Atkomst til SPA og SGS skal ikke anlegges vertikalt\\\n    \\ rett overfor hverandre. \\n \\n \\n\\xA76. Gr\\xF8nnstruktur (pbl 12-5 nr. 3) \\n\\\n    \\ \\nFriomr\\xE5de (o_GF1-3) \\n\\xA76.1 Omr\\xE5de for friomr\\xE5de/gr\\xF8ntstruktur\\\n    \\ GF1-GF3 er til fri ferdsel for allmenheten. \\n\\xA76.2 I omr\\xE5dene er det tillat\\\n    \\ oppf\\xF8rt bebyggelse og andre tekniske installasjoner som typisk \\nberiker\\\n    \\ bruken av omr\\xE5de. \\n\\xA76.3 Innenfor omr\\xE5det GF1 skal det opparbeides\\\n    \\ et felles leke- og uteoppholdsareal for hele \\nplanomr\\xE5det. Lekeplassen skal\\\n    \\ utstyres med sand, benk og min. 3 ulike lekeapparater. \\n\\xA76.4 Det tillates\\\n    \\ avkj\\xF8rsel for BR over o_GF3 \\n\\xA76.5 Bestemmelsesomr\\xE5de #02 SN\\xD8: Innenfor\\\n    \\ omr\\xE5det kan det anlegges opplag for sn\\xF8. \\n\\xA76.6 Det tillates \\xE5 legge\\\n    \\ kabler i bakken innenfor omr\\xE5de avsatt til friomr\\xE5de. \\n\\xA76.7 Adkomst\\\n    \\ til lekearealer skal v\\xE6re universelt utformet. \\n \\nTurdrag (GTD1-2) \\n\\xA7\\\n    6.8 Omr\\xE5dene skal benyttes til turveier. \\n \\n \\n \\nDato 11.05.2022 ", images: [],\n  metadata: {num_pages: 4}}\n\n\nReturn the correct JSON response within a ```json codeblock. not the JSON_SCHEMA'}]}
python_service-1  | [92m11:34:37 - LiteLLM:DEBUG[0m: utils.py:2911 - 
python_service-1  | LiteLLM: Non-Default params passed to completion() {'temperature': 0, 'max_tokens': 4000}
python_service-1  | DEBUG:LiteLLM:
python_service-1  | LiteLLM: Non-Default params passed to completion() {'temperature': 0, 'max_tokens': 4000}
python_service-1  | [92m11:34:37 - LiteLLM:DEBUG[0m: utils.py:3511 - Azure optional params - api_version: api_version=None, litellm.api_version=2024-08-01-preview, os.environ['AZURE_API_VERSION']=None
python_service-1  | DEBUG:LiteLLM:Azure optional params - api_version: api_version=None, litellm.api_version=2024-08-01-preview, os.environ['AZURE_API_VERSION']=None
python_service-1  | [92m11:34:37 - LiteLLM:DEBUG[0m: utils.py:298 - Final returned optional params: {'temperature': 0, 'max_tokens': 4000, 'extra_body': {}}
python_service-1  | DEBUG:LiteLLM:Final returned optional params: {'temperature': 0, 'max_tokens': 4000, 'extra_body': {}}
python_service-1  | [92m11:34:37 - LiteLLM:DEBUG[0m: litellm_logging.py:377 - self.optional_params: {'temperature': 0, 'max_tokens': 4000, 'extra_body': {}}
python_service-1  | DEBUG:LiteLLM:self.optional_params: {'temperature': 0, 'max_tokens': 4000, 'extra_body': {}}
python_service-1  | [92m11:34:37 - LiteLLM:DEBUG[0m: litellm_logging.py:634 - [92m
python_service-1  | 
python_service-1  | POST Request Sent from LiteLLM:
python_service-1  | curl -X POST \
python_service-1  | https://kartai-openai.openai.azure.com \
python_service-1  | -H 'api_key: Dm20Qg2RomLirlz8icux5Y3XavqI2BfAwmuOdjuI********************************************' -H 'azure_ad_token: *****' \
python_service-1  | -d '{'model': 'gpt-4o-mini', 'messages': [{'role': 'system', 'content': 'You are a server API that receives document information and returns specific fields in JSON format.\n\n\n        As a genius expert, your task is to understand the content and provide\n        the parsed objects in json that match the following json_schema:\n\n\n        {\n  "description": "Contract for field extraction from regulatory documents.\\n\\nDefines the structure and prompt for extracting regulation codes from\\nNorwegian planning documents (plankart and bestemmelser).\\n\\nAttributes:\\n    fields (Set[str]): Set of extracted regulation codes",\n  "properties": {\n    "fields": {\n      "items": {\n        "type": "string"\n      },\n      "title": "Fields",\n      "type": "array",\n      "uniqueItems": true\n    }\n  },\n  "required": [\n    "fields"\n  ],\n  "title": "FieldExtractContract",\n  "type": "object"\n}\n\n        Make sure to return an instance of the JSON, not the schema itself\n'}, {'role': 'user', 'content': '##Content\n\n{content: "  1 \\n  \\n \\n \\nReguleringsbestemmelser  \\nfor \\nSt\\xF8peritomta \\n \\n\\\n    Plan ID: 202102 \\nPlankart dato: 11.05.2022 \\nReguleringsbestemmelser dato: 11.05.2022\\\n    \\ \\nVedtatt PS 59/22: 16.06.2022 \\n  \\n \\n\\xA71. Planform\\xE5l \\nForm\\xE5let med\\\n    \\ planen er \\xE5 tilrettelegge for konsentrert bebyggelse med tilh\\xF8rende anlegg.\\\n    \\ \\nPlanen omfatter ogs\\xE5 kirke/annen religionsut\\xF8velse, parkeringsanlegg\\\n    \\ og idrett/park.  \\n \\nPlanen inneholder f\\xF8lgende form\\xE5l (Pbl. \\xA7 12-5):\\\n    \\ \\n \\n\\xA71.1 Bebyggelse og anlegg (pbl \\xA712-5,nr 1) \\nBoligbebyggelse- Konsentrert\\\n    \\ sm\\xE5husbebyggelse (BKS) \\nForsamlingslokale for religionsut\\xF8velse (BR)\\\n    \\ \\nIdrettsanlegg (BIA) \\nEnergianlegg (BE) \\n \\n\\xA71.2 Samferdselsanlegg og\\\n    \\ teknisk infrastruktur (pbl \\xA712-5, nr 2) \\nVeg (o_SV1 og 3) \\nFortau (o_SF)\\\n    \\ \\nParkering(o_SPA) \\n \\n\\xA71.3 Gr\\xF8nnstruktur (pbl \\xA712-5,2. ledd nr 3)\\\n    \\ \\nFriomr\\xE5de (o_GF1-3) \\nTurdrag (o_GTD1-2) \\n \\n \\n  \\n\\n\\n  2 \\n\\xA72. Rekkef\\xF8\\\n    lgebestemmelser (pbl \\xA7 12-7 nr. 10) \\n \\n\\xA72.1 F\\xF8r midlertidig brukstillatelse\\\n    \\ for BKS skal o_SV3 v\\xE6re ferdig opparbeidet.  \\n\\xA72.2 F\\xF8r midlertidig\\\n    \\ brukstillatelse for 1. boenhet p\\xE5 BKS skal lekeplass innenfor GF1 v\\xE6re\\\n    \\ ferdig \\nopparbeidet. \\n\\xA72.3 F\\xF8r midlertidig brukstillatelse p\\xE5 5.\\\n    \\ boenhet p\\xE5 BKS skal o_GTD1-2 v\\xE6re ferdig opparbeidet.  \\n\\xA72.4 F\\xF8\\\n    r midlertidig brukstillatelse for BKS skal o_SF v\\xE6re ferdig opparbeidet. \\n\\\n    \\xA72.5 F\\xF8r ferdigattest p\\xE5 BR, skal o_SF og o_SPA v\\xE6re ferdig opparbeidet.\\\n    \\ \\n \\n \\n \\n \\n \\n\\xA73. Fellesbestemmelser \\n\\xA73.1 Bygge- og anleggsst\\xF8\\\n    y skal ikke overskride st\\xF8ygrensen i tabell 4 i retningslinje for behandling\\\n    \\ \\nav st\\xF8y i arealplanlegging (T-1442/2021). St\\xF8yende aktivitet skal forega\\u030A\\\n    \\ p\\xE5 dagtid. \\n\\xA74. Bebyggelse og anlegg (pbl 12-5 nr. 1) \\nBoligbebyggelse-konsentrert\\\n    \\ sm\\xE5husbebyggelse - BKS \\n \\n\\xA74.1 Bebyggelse: Det tillates fire tomannsboliger\\\n    \\ p\\xE5 tomten. Totalt 8 boenheter.   \\n\\xA74.2 Byggegrenser: Plassering av nye\\\n    \\ tiltak skal skje innenfor byggegrensene. For \\ngarasje/carport/bod mindre enn\\\n    \\ 50 m2 BYA gjelder byggegrense p\\xE5 1 meter fra tomtegrense. \\nTerrenginngrep\\\n    \\ og grunnarbeider i forbindelse med opparbeidelse av tomtene tillattes \\nutenfor\\\n    \\ byggegrense. Avkj\\xF8rsel og parkering tillates utenfor byggegrense. \\n\\xA7\\\n    4.3 Garasje/Carport: Alle boenheter skal ha minst en parkering under tak til disposisjon.\\\n    \\  \\n\\xA74.4 Bestemmelsesomr\\xE5de #01 SN\\xD8: Innenfor omr\\xE5det kan det anlegges\\\n    \\ opplag for sn\\xF8. \\n \\nGrad av utnytting \\n\\xA74.5 Utnyttelsesgrad: BYA for\\\n    \\ omr\\xE5det BKS skal v\\xE6re maksimalt %-BYA= 40%. Overbygg til \\nrenovasjon\\\n    \\ eller dunker medregnes ikke i %-BYA. \\n\\xA74.6 Parkering: Det skal avsettes\\\n    \\ 2 parkeringsplasser for hver boenhet, hvor en av disse skal v\\xE6re i \\ngarasje/carport.\\\n    \\ BYA for parkering er 3x6=18m2 per plass. \\n \\nH\\xF8yder \\u2013 Utforming av\\\n    \\ bebyggelse \\n\\xA74.7 Planeringsh\\xF8yder: Maksimal planeringsh\\xF8yde er angitt\\\n    \\ i plankart. Maks planeringsh\\xF8yde er \\nK+182. \\n\\xA74.8 Takform: Bebyggelse\\\n    \\ skal ha saltak med en takvinkel mellom 30 - 40 grader.  \\n\\xA74.9 Takh\\xF8yder:\\\n    \\ Tillate takh\\xF8yder er angitt i tabellen under. H\\xF8yder regnes fra planert\\\n    \\ terreng. \\n \\n Saltak \\nM\\xF8ne 6,0 m \\nGesimsh\\xF8yde 3,5 m \\nTakvinkel 30-40\\\n    \\ grader \\n \\nSt\\xF8yf\\xF8lsom bebyggelse \\nF\\xF8r det tillates tiltak innenfor\\\n    \\ omr\\xE5det skal det gj\\xF8res st\\xF8yskjermede tiltak.   \\n\\xA74.10 Alle boenheter\\\n    \\ skal ha uteplass p\\xE5 b\\xE5de \\xF8stsiden og vestsiden av bebyggelsen.  \\n\\n\\\n    \\  3 \\n\\xA74.11 Alle boenheter skal v\\xE6re gjennomg\\xE5ende og ha minst ett soverom\\\n    \\ plassert p\\xE5 vestsiden og \\n\\xF8stsiden. Eventuelt \\xF8kt lydisolasjon i fasade\\\n    \\ i minst ett soverom i hver boenhet. \\n \\nTeknisk plan \\n\\xA74.12 Det stilles\\\n    \\ teknisk plan for VA, overvannsh\\xE5ndtering og str\\xF8mforsyning f\\xF8r \\nigangsettingstillatelse\\\n    \\ kan gis innenfor omr\\xE5det BKS. Det b\\xF8r legge til rette for \\xE5pne \\nvannveier\\\n    \\ for overvannsh\\xE5ndtering. Dersom andre l\\xF8sninger velges skal det begrunnes\\\n    \\ \\nhvorfor naturbaserte l\\xF8sninger velges bort. \\n\\xA74.13 V/A- anlegg samt\\\n    \\ vei skal dimensjoneres og opparbeides i samsvar med til enhver tids \\ngjeldende\\\n    \\ \\xABRetningslinjer for vei, vann og avl\\xF8p\\xBB for Evje og Hornnes kommune.\\\n    \\ Det skal \\nsikres teknisk godkjenning av offentlig samferdselsanlegg. \\n\\xA7\\\n    4.14 Det skal f\\xF8r utbygging avklares hvordan det nye utbyggingsomr\\xE5det i\\\n    \\ planomr\\xE5det skal \\nforsynes med elektrisk str\\xF8m. Det m\\xE5 avklares i\\\n    \\ hvilken grad eksisterende ledninger/kabler \\neventuelt kan benyttes og om nye\\\n    \\ ledninger/kabler m\\xE5 legges om og om det er behov for \\nny(e) nettstasjon(er).\\\n    \\ \\n \\nUtforming av tomt \\n\\xA74.15 Situasjonsplan: Ved s\\xF8knad om tillatelse\\\n    \\ til tiltak skal situasjonsplan vedlegges i tilpasset \\nm\\xE5lestokk som viser\\\n    \\ plassering av bebyggelse og h\\xF8yde. Situasjonsplan skal ogs\\xE5 vise \\nplassering\\\n    \\ av parkering, avkj\\xF8rsel og evt. st\\xF8ttemurer.  \\n\\xA74.16 Renovasjon: Areal\\\n    \\ for renovasjon skal vises p\\xE5 situasjonsplan. Situasjonsplanen skal vise at\\\n    \\ \\nrenovasjonsbil har tilstrekkelig snuareal innenfor planomr\\xE5det.  \\n\\xA7\\\n    4.17 Forst\\xF8tningsmur: Det tillattes forst\\xF8tningsmurer for \\xE5 tilpasse\\\n    \\ terrenget. Forst\\xF8tningsmurer \\ntillates oppf\\xF8rt utenfor byggegrense. Maks\\\n    \\ tillatt h\\xF8yde p\\xE5 forst\\xF8tningsmurer er 2,5 meter.  \\n\\xA74.18 Det stilles\\\n    \\ estetisk krav til utforming av fylling / naturstein plastret skr\\xE5ning mot\\\n    \\ bekk. \\nSkr\\xE5ning skal jord klees, tils\\xE5es og sikres mot erosjon. \\n \\n\\\n    Forsamlingslokale for religionsut\\xF8velse - BR \\n \\n\\xA74.19 Omr\\xE5det skal\\\n    \\ benyttes til nytt sentrumsn\\xE6rt bedehus i n\\xF8dvendig grad og utstrekning\\\n    \\ \\n\\xA74.20 Bygninger kan oppf\\xF8res med gesimsh\\xF8yde 8,0 meter og m\\xF8neh\\xF8\\\n    yde 10,5 meter. \\n\\xA74.21 BYA for arealform\\xE5let skal v\\xE6re maksimalt %-BYA=\\\n    \\ 50. Areal for parkering medregnes ikke i \\n%BYA \\n\\xA74.22 Det skal avsettes\\\n    \\ tilstrekkelig med parkeringsareal til gjeldende aktivitet innenfor regulert\\\n    \\ \\nomr\\xE5de. Parkeringsbehovet for bedehuset kan l\\xF8ses b\\xE5de innenfor BR\\\n    \\ og SPA. \\n\\xA74.23 Arealutnyttelse utover dette skal opparbeides parkmessig\\\n    \\ og v\\xE6re tilgjengelig for \\nallmennheten. \\n\\xA74.24 Oppgitt gesimsh\\xF8yde\\\n    \\ og m\\xF8neh\\xF8yde skal regnes ut fra gjennomsnittlig h\\xF8yde p\\xE5 tomta/\\\n    \\ \\nomr\\xE5det f\\xF8r opparbeidelse begynner. \\n\\xA74.25 Innenfor omr\\xE5det BR\\\n    \\ tillates det internveier og parkeringsplasser. \\n \\nIdrettsanlegg - BIA \\n\\xA7\\\n    4.26 Innenfor omr\\xE5det er det tillatt med tiltak som fremmer idrettsaktiviteter.\\\n    \\  \\n \\nEnergianlegg - BE \\n\\xA74.27 Innenfor omr\\xE5det er det tillatt plassering\\\n    \\ av trafo og infrastruktur i sammenheng med dette. \\n \\n  \\n\\n  4 \\n\\xA75. Samferdselsanlegg\\\n    \\ og teknisk infrastruktur (pbl 12-5 nr. 2) \\nVeg (o_SV1) \\n\\xA75.1 Veien o_SV1\\\n    \\ er adkomst for alle tilgrensende eiendommer. \\nDet skal opparbeides et fysisk\\\n    \\ skille mellom o_SV1 og omkringliggende arealform\\xE5l SPA, GF \\nog SGS. Adkomst\\\n    \\ til SPA og BR skal ikke v\\xE6re rett ovenfor hverandre. \\n \\n \\n \\nVeg (o_SV3)\\\n    \\ \\n\\xA75.2 Veien o_SV3-er adkomst for boligomr\\xE5de BKS og BR samt atkomst til\\\n    \\ o_SPA. Plasseringer av \\navkj\\xF8rsler langs o_SV3 er ikke endelige og tillates\\\n    \\ justert i samr\\xE5d med veieier. \\n \\nFortau (o_SF1-2) \\n\\xA75.3 o_SF1-2 er\\\n    \\ regulert til offentlig fortau med en bredde p\\xE5 3 meter. \\n \\nParkering (o_SPA)\\\n    \\ \\n\\xA75.4 o_SPA er offentlig parkeringsplass. \\n\\xA75.5 Parkeringsbehov for\\\n    \\ bedehuset kan l\\xF8ses innenfor o_SPA. \\n\\xA75.6 Det tillates etablert ladestasjoner\\\n    \\ innenfor omr\\xE5det.  \\n\\xA75.7 Atkomst til SPA og SGS skal ikke anlegges vertikalt\\\n    \\ rett overfor hverandre. \\n \\n \\n\\xA76. Gr\\xF8nnstruktur (pbl 12-5 nr. 3) \\n\\\n    \\ \\nFriomr\\xE5de (o_GF1-3) \\n\\xA76.1 Omr\\xE5de for friomr\\xE5de/gr\\xF8ntstruktur\\\n    \\ GF1-GF3 er til fri ferdsel for allmenheten. \\n\\xA76.2 I omr\\xE5dene er det tillat\\\n    \\ oppf\\xF8rt bebyggelse og andre tekniske installasjoner som typisk \\nberiker\\\n    \\ bruken av omr\\xE5de. \\n\\xA76.3 Innenfor omr\\xE5det GF1 skal det opparbeides\\\n    \\ et felles leke- og uteoppholdsareal for hele \\nplanomr\\xE5det. Lekeplassen skal\\\n    \\ utstyres med sand, benk og min. 3 ulike lekeapparater. \\n\\xA76.4 Det tillates\\\n    \\ avkj\\xF8rsel for BR over o_GF3 \\n\\xA76.5 Bestemmelsesomr\\xE5de #02 SN\\xD8: Innenfor\\\n    \\ omr\\xE5det kan det anlegges opplag for sn\\xF8. \\n\\xA76.6 Det tillates \\xE5 legge\\\n    \\ kabler i bakken innenfor omr\\xE5de avsatt til friomr\\xE5de. \\n\\xA76.7 Adkomst\\\n    \\ til lekearealer skal v\\xE6re universelt utformet. \\n \\nTurdrag (GTD1-2) \\n\\xA7\\\n    6.8 Omr\\xE5dene skal benyttes til turveier. \\n \\n \\n \\nDato 11.05.2022 ", images: [],\n  metadata: {num_pages: 4}}\n\n\nReturn the correct JSON response within a ```json codeblock. not the JSON_SCHEMA'}], 'temperature': 0, 'max_tokens': 4000, 'extra_body': {}}'
python_service-1  | [0m
python_service-1  | 
python_service-1  | DEBUG:LiteLLM:[92m
python_service-1  | 
python_service-1  | POST Request Sent from LiteLLM:
python_service-1  | curl -X POST \
python_service-1  | https://kartai-openai.openai.azure.com \
python_service-1  | -H 'api_key: Dm20Qg2RomLirlz8icux5Y3XavqI2BfAwmuOdjuI********************************************' -H 'azure_ad_token: *****' \
python_service-1  | -d '{'model': 'gpt-4o-mini', 'messages': [{'role': 'system', 'content': 'You are a server API that receives document information and returns specific fields in JSON format.\n\n\n        As a genius expert, your task is to understand the content and provide\n        the parsed objects in json that match the following json_schema:\n\n\n        {\n  "description": "Contract for field extraction from regulatory documents.\\n\\nDefines the structure and prompt for extracting regulation codes from\\nNorwegian planning documents (plankart and bestemmelser).\\n\\nAttributes:\\n    fields (Set[str]): Set of extracted regulation codes",\n  "properties": {\n    "fields": {\n      "items": {\n        "type": "string"\n      },\n      "title": "Fields",\n      "type": "array",\n      "uniqueItems": true\n    }\n  },\n  "required": [\n    "fields"\n  ],\n  "title": "FieldExtractContract",\n  "type": "object"\n}\n\n        Make sure to return an instance of the JSON, not the schema itself\n'}, {'role': 'user', 'content': '##Content\n\n{content: "  1 \\n  \\n \\n \\nReguleringsbestemmelser  \\nfor \\nSt\\xF8peritomta \\n \\n\\\n    Plan ID: 202102 \\nPlankart dato: 11.05.2022 \\nReguleringsbestemmelser dato: 11.05.2022\\\n    \\ \\nVedtatt PS 59/22: 16.06.2022 \\n  \\n \\n\\xA71. Planform\\xE5l \\nForm\\xE5let med\\\n    \\ planen er \\xE5 tilrettelegge for konsentrert bebyggelse med tilh\\xF8rende anlegg.\\\n    \\ \\nPlanen omfatter ogs\\xE5 kirke/annen religionsut\\xF8velse, parkeringsanlegg\\\n    \\ og idrett/park.  \\n \\nPlanen inneholder f\\xF8lgende form\\xE5l (Pbl. \\xA7 12-5):\\\n    \\ \\n \\n\\xA71.1 Bebyggelse og anlegg (pbl \\xA712-5,nr 1) \\nBoligbebyggelse- Konsentrert\\\n    \\ sm\\xE5husbebyggelse (BKS) \\nForsamlingslokale for religionsut\\xF8velse (BR)\\\n    \\ \\nIdrettsanlegg (BIA) \\nEnergianlegg (BE) \\n \\n\\xA71.2 Samferdselsanlegg og\\\n    \\ teknisk infrastruktur (pbl \\xA712-5, nr 2) \\nVeg (o_SV1 og 3) \\nFortau (o_SF)\\\n    \\ \\nParkering(o_SPA) \\n \\n\\xA71.3 Gr\\xF8nnstruktur (pbl \\xA712-5,2. ledd nr 3)\\\n    \\ \\nFriomr\\xE5de (o_GF1-3) \\nTurdrag (o_GTD1-2) \\n \\n \\n  \\n\\n\\n  2 \\n\\xA72. Rekkef\\xF8\\\n    lgebestemmelser (pbl \\xA7 12-7 nr. 10) \\n \\n\\xA72.1 F\\xF8r midlertidig brukstillatelse\\\n    \\ for BKS skal o_SV3 v\\xE6re ferdig opparbeidet.  \\n\\xA72.2 F\\xF8r midlertidig\\\n    \\ brukstillatelse for 1. boenhet p\\xE5 BKS skal lekeplass innenfor GF1 v\\xE6re\\\n    \\ ferdig \\nopparbeidet. \\n\\xA72.3 F\\xF8r midlertidig brukstillatelse p\\xE5 5.\\\n    \\ boenhet p\\xE5 BKS skal o_GTD1-2 v\\xE6re ferdig opparbeidet.  \\n\\xA72.4 F\\xF8\\\n    r midlertidig brukstillatelse for BKS skal o_SF v\\xE6re ferdig opparbeidet. \\n\\\n    \\xA72.5 F\\xF8r ferdigattest p\\xE5 BR, skal o_SF og o_SPA v\\xE6re ferdig opparbeidet.\\\n    \\ \\n \\n \\n \\n \\n \\n\\xA73. Fellesbestemmelser \\n\\xA73.1 Bygge- og anleggsst\\xF8\\\n    y skal ikke overskride st\\xF8ygrensen i tabell 4 i retningslinje for behandling\\\n    \\ \\nav st\\xF8y i arealplanlegging (T-1442/2021). St\\xF8yende aktivitet skal forega\\u030A\\\n    \\ p\\xE5 dagtid. \\n\\xA74. Bebyggelse og anlegg (pbl 12-5 nr. 1) \\nBoligbebyggelse-konsentrert\\\n    \\ sm\\xE5husbebyggelse - BKS \\n \\n\\xA74.1 Bebyggelse: Det tillates fire tomannsboliger\\\n    \\ p\\xE5 tomten. Totalt 8 boenheter.   \\n\\xA74.2 Byggegrenser: Plassering av nye\\\n    \\ tiltak skal skje innenfor byggegrensene. For \\ngarasje/carport/bod mindre enn\\\n    \\ 50 m2 BYA gjelder byggegrense p\\xE5 1 meter fra tomtegrense. \\nTerrenginngrep\\\n    \\ og grunnarbeider i forbindelse med opparbeidelse av tomtene tillattes \\nutenfor\\\n    \\ byggegrense. Avkj\\xF8rsel og parkering tillates utenfor byggegrense. \\n\\xA7\\\n    4.3 Garasje/Carport: Alle boenheter skal ha minst en parkering under tak til disposisjon.\\\n    \\  \\n\\xA74.4 Bestemmelsesomr\\xE5de #01 SN\\xD8: Innenfor omr\\xE5det kan det anlegges\\\n    \\ opplag for sn\\xF8. \\n \\nGrad av utnytting \\n\\xA74.5 Utnyttelsesgrad: BYA for\\\n    \\ omr\\xE5det BKS skal v\\xE6re maksimalt %-BYA= 40%. Overbygg til \\nrenovasjon\\\n    \\ eller dunker medregnes ikke i %-BYA. \\n\\xA74.6 Parkering: Det skal avsettes\\\n    \\ 2 parkeringsplasser for hver boenhet, hvor en av disse skal v\\xE6re i \\ngarasje/carport.\\\n    \\ BYA for parkering er 3x6=18m2 per plass. \\n \\nH\\xF8yder \\u2013 Utforming av\\\n    \\ bebyggelse \\n\\xA74.7 Planeringsh\\xF8yder: Maksimal planeringsh\\xF8yde er angitt\\\n    \\ i plankart. Maks planeringsh\\xF8yde er \\nK+182. \\n\\xA74.8 Takform: Bebyggelse\\\n    \\ skal ha saltak med en takvinkel mellom 30 - 40 grader.  \\n\\xA74.9 Takh\\xF8yder:\\\n    \\ Tillate takh\\xF8yder er angitt i tabellen under. H\\xF8yder regnes fra planert\\\n    \\ terreng. \\n \\n Saltak \\nM\\xF8ne 6,0 m \\nGesimsh\\xF8yde 3,5 m \\nTakvinkel 30-40\\\n    \\ grader \\n \\nSt\\xF8yf\\xF8lsom bebyggelse \\nF\\xF8r det tillates tiltak innenfor\\\n    \\ omr\\xE5det skal det gj\\xF8res st\\xF8yskjermede tiltak.   \\n\\xA74.10 Alle boenheter\\\n    \\ skal ha uteplass p\\xE5 b\\xE5de \\xF8stsiden og vestsiden av bebyggelsen.  \\n\\n\\\n    \\  3 \\n\\xA74.11 Alle boenheter skal v\\xE6re gjennomg\\xE5ende og ha minst ett soverom\\\n    \\ plassert p\\xE5 vestsiden og \\n\\xF8stsiden. Eventuelt \\xF8kt lydisolasjon i fasade\\\n    \\ i minst ett soverom i hver boenhet. \\n \\nTeknisk plan \\n\\xA74.12 Det stilles\\\n    \\ teknisk plan for VA, overvannsh\\xE5ndtering og str\\xF8mforsyning f\\xF8r \\nigangsettingstillatelse\\\n    \\ kan gis innenfor omr\\xE5det BKS. Det b\\xF8r legge til rette for \\xE5pne \\nvannveier\\\n    \\ for overvannsh\\xE5ndtering. Dersom andre l\\xF8sninger velges skal det begrunnes\\\n    \\ \\nhvorfor naturbaserte l\\xF8sninger velges bort. \\n\\xA74.13 V/A- anlegg samt\\\n    \\ vei skal dimensjoneres og opparbeides i samsvar med til enhver tids \\ngjeldende\\\n    \\ \\xABRetningslinjer for vei, vann og avl\\xF8p\\xBB for Evje og Hornnes kommune.\\\n    \\ Det skal \\nsikres teknisk godkjenning av offentlig samferdselsanlegg. \\n\\xA7\\\n    4.14 Det skal f\\xF8r utbygging avklares hvordan det nye utbyggingsomr\\xE5det i\\\n    \\ planomr\\xE5det skal \\nforsynes med elektrisk str\\xF8m. Det m\\xE5 avklares i\\\n    \\ hvilken grad eksisterende ledninger/kabler \\neventuelt kan benyttes og om nye\\\n    \\ ledninger/kabler m\\xE5 legges om og om det er behov for \\nny(e) nettstasjon(er).\\\n    \\ \\n \\nUtforming av tomt \\n\\xA74.15 Situasjonsplan: Ved s\\xF8knad om tillatelse\\\n    \\ til tiltak skal situasjonsplan vedlegges i tilpasset \\nm\\xE5lestokk som viser\\\n    \\ plassering av bebyggelse og h\\xF8yde. Situasjonsplan skal ogs\\xE5 vise \\nplassering\\\n    \\ av parkering, avkj\\xF8rsel og evt. st\\xF8ttemurer.  \\n\\xA74.16 Renovasjon: Areal\\\n    \\ for renovasjon skal vises p\\xE5 situasjonsplan. Situasjonsplanen skal vise at\\\n    \\ \\nrenovasjonsbil har tilstrekkelig snuareal innenfor planomr\\xE5det.  \\n\\xA7\\\n    4.17 Forst\\xF8tningsmur: Det tillattes forst\\xF8tningsmurer for \\xE5 tilpasse\\\n    \\ terrenget. Forst\\xF8tningsmurer \\ntillates oppf\\xF8rt utenfor byggegrense. Maks\\\n    \\ tillatt h\\xF8yde p\\xE5 forst\\xF8tningsmurer er 2,5 meter.  \\n\\xA74.18 Det stilles\\\n    \\ estetisk krav til utforming av fylling / naturstein plastret skr\\xE5ning mot\\\n    \\ bekk. \\nSkr\\xE5ning skal jord klees, tils\\xE5es og sikres mot erosjon. \\n \\n\\\n    Forsamlingslokale for religionsut\\xF8velse - BR \\n \\n\\xA74.19 Omr\\xE5det skal\\\n    \\ benyttes til nytt sentrumsn\\xE6rt bedehus i n\\xF8dvendig grad og utstrekning\\\n    \\ \\n\\xA74.20 Bygninger kan oppf\\xF8res med gesimsh\\xF8yde 8,0 meter og m\\xF8neh\\xF8\\\n    yde 10,5 meter. \\n\\xA74.21 BYA for arealform\\xE5let skal v\\xE6re maksimalt %-BYA=\\\n    \\ 50. Areal for parkering medregnes ikke i \\n%BYA \\n\\xA74.22 Det skal avsettes\\\n    \\ tilstrekkelig med parkeringsareal til gjeldende aktivitet innenfor regulert\\\n    \\ \\nomr\\xE5de. Parkeringsbehovet for bedehuset kan l\\xF8ses b\\xE5de innenfor BR\\\n    \\ og SPA. \\n\\xA74.23 Arealutnyttelse utover dette skal opparbeides parkmessig\\\n    \\ og v\\xE6re tilgjengelig for \\nallmennheten. \\n\\xA74.24 Oppgitt gesimsh\\xF8yde\\\n    \\ og m\\xF8neh\\xF8yde skal regnes ut fra gjennomsnittlig h\\xF8yde p\\xE5 tomta/\\\n    \\ \\nomr\\xE5det f\\xF8r opparbeidelse begynner. \\n\\xA74.25 Innenfor omr\\xE5det BR\\\n    \\ tillates det internveier og parkeringsplasser. \\n \\nIdrettsanlegg - BIA \\n\\xA7\\\n    4.26 Innenfor omr\\xE5det er det tillatt med tiltak som fremmer idrettsaktiviteter.\\\n    \\  \\n \\nEnergianlegg - BE \\n\\xA74.27 Innenfor omr\\xE5det er det tillatt plassering\\\n    \\ av trafo og infrastruktur i sammenheng med dette. \\n \\n  \\n\\n  4 \\n\\xA75. Samferdselsanlegg\\\n    \\ og teknisk infrastruktur (pbl 12-5 nr. 2) \\nVeg (o_SV1) \\n\\xA75.1 Veien o_SV1\\\n    \\ er adkomst for alle tilgrensende eiendommer. \\nDet skal opparbeides et fysisk\\\n    \\ skille mellom o_SV1 og omkringliggende arealform\\xE5l SPA, GF \\nog SGS. Adkomst\\\n    \\ til SPA og BR skal ikke v\\xE6re rett ovenfor hverandre. \\n \\n \\n \\nVeg (o_SV3)\\\n    \\ \\n\\xA75.2 Veien o_SV3-er adkomst for boligomr\\xE5de BKS og BR samt atkomst til\\\n    \\ o_SPA. Plasseringer av \\navkj\\xF8rsler langs o_SV3 er ikke endelige og tillates\\\n    \\ justert i samr\\xE5d med veieier. \\n \\nFortau (o_SF1-2) \\n\\xA75.3 o_SF1-2 er\\\n    \\ regulert til offentlig fortau med en bredde p\\xE5 3 meter. \\n \\nParkering (o_SPA)\\\n    \\ \\n\\xA75.4 o_SPA er offentlig parkeringsplass. \\n\\xA75.5 Parkeringsbehov for\\\n    \\ bedehuset kan l\\xF8ses innenfor o_SPA. \\n\\xA75.6 Det tillates etablert ladestasjoner\\\n    \\ innenfor omr\\xE5det.  \\n\\xA75.7 Atkomst til SPA og SGS skal ikke anlegges vertikalt\\\n    \\ rett overfor hverandre. \\n \\n \\n\\xA76. Gr\\xF8nnstruktur (pbl 12-5 nr. 3) \\n\\\n    \\ \\nFriomr\\xE5de (o_GF1-3) \\n\\xA76.1 Omr\\xE5de for friomr\\xE5de/gr\\xF8ntstruktur\\\n    \\ GF1-GF3 er til fri ferdsel for allmenheten. \\n\\xA76.2 I omr\\xE5dene er det tillat\\\n    \\ oppf\\xF8rt bebyggelse og andre tekniske installasjoner som typisk \\nberiker\\\n    \\ bruken av omr\\xE5de. \\n\\xA76.3 Innenfor omr\\xE5det GF1 skal det opparbeides\\\n    \\ et felles leke- og uteoppholdsareal for hele \\nplanomr\\xE5det. Lekeplassen skal\\\n    \\ utstyres med sand, benk og min. 3 ulike lekeapparater. \\n\\xA76.4 Det tillates\\\n    \\ avkj\\xF8rsel for BR over o_GF3 \\n\\xA76.5 Bestemmelsesomr\\xE5de #02 SN\\xD8: Innenfor\\\n    \\ omr\\xE5det kan det anlegges opplag for sn\\xF8. \\n\\xA76.6 Det tillates \\xE5 legge\\\n    \\ kabler i bakken innenfor omr\\xE5de avsatt til friomr\\xE5de. \\n\\xA76.7 Adkomst\\\n    \\ til lekearealer skal v\\xE6re universelt utformet. \\n \\nTurdrag (GTD1-2) \\n\\xA7\\\n    6.8 Omr\\xE5dene skal benyttes til turveier. \\n \\n \\n \\nDato 11.05.2022 ", images: [],\n  metadata: {num_pages: 4}}\n\n\nReturn the correct JSON response within a ```json codeblock. not the JSON_SCHEMA'}], 'temperature': 0, 'max_tokens': 4000, 'extra_body': {}}'
python_service-1  | [0m
python_service-1  | 
python_service-1  | [92m11:35:35 - LiteLLM:DEBUG[0m: utils.py:298 - RAW RESPONSE:
python_service-1  | {"id": "chatcmpl-Aziq6zifRJkOAfN4sw2lGAqyBVWkP", "choices": [{"finish_reason": "stop", "index": 0, "logprobs": null, "message": {"content": "```json\n{\n  \"fields\": [\n    \"Pbl. \u00a7 12-5, nr 1\",\n    \"BKS\",\n    \"BR\",\n    \"BIA\",\n    \"BE\",\n    \"Pbl. \u00a7 12-5, nr 2\",\n    \"o_SV1\",\n    \"o_SV3\",\n    \"o_SF\",\n    \"o_SPA\",\n    \"Pbl. \u00a7 12-5, 2. ledd nr 3\",\n    \"o_GF1-3\",\n    \"o_GTD1-2\",\n    \"Pbl. \u00a7 12-7 nr. 10\"\n  ]\n}\n```", "refusal": null, "role": "assistant", "audio": null, "function_call": null, "tool_calls": null}, "content_filter_results": {"hate": {"filtered": false, "severity": "safe"}, "protected_material_code": {"filtered": false, "detected": false}, "protected_material_text": {"filtered": false, "detected": false}, "self_harm": {"filtered": false, "severity": "safe"}, "sexual": {"filtered": false, "severity": "safe"}, "violence": {"filtered": false, "severity": "safe"}}}], "created": 1739273734, "model": "gpt-4o-mini-2024-07-18", "object": "chat.completion", "service_tier": null, "system_fingerprint": "fp_f3927aa00d", "usage": {"completion_tokens": 139, "prompt_tokens": 3976, "total_tokens": 4115, "completion_tokens_details": {"accepted_prediction_tokens": 0, "audio_tokens": 0, "reasoning_tokens": 0, "rejected_prediction_tokens": 0}, "prompt_tokens_details": {"audio_tokens": 0, "cached_tokens": 0}}, "prompt_filter_results": [{"prompt_index": 0, "content_filter_results": {"hate": {"filtered": false, "severity": "safe"}, "jailbreak": {"filtered": false, "detected": false}, "self_harm": {"filtered": false, "severity": "safe"}, "sexual": {"filtered": false, "severity": "safe"}, "violence": {"filtered": false, "severity": "safe"}}}]}
python_service-1  | 
python_service-1  | 
python_service-1  | DEBUG:LiteLLM:RAW RESPONSE:
python_service-1  | {"id": "chatcmpl-Aziq6zifRJkOAfN4sw2lGAqyBVWkP", "choices": [{"finish_reason": "stop", "index": 0, "logprobs": null, "message": {"content": "```json\n{\n  \"fields\": [\n    \"Pbl. \u00a7 12-5, nr 1\",\n    \"BKS\",\n    \"BR\",\n    \"BIA\",\n    \"BE\",\n    \"Pbl. \u00a7 12-5, nr 2\",\n    \"o_SV1\",\n    \"o_SV3\",\n    \"o_SF\",\n    \"o_SPA\",\n    \"Pbl. \u00a7 12-5, 2. ledd nr 3\",\n    \"o_GF1-3\",\n    \"o_GTD1-2\",\n    \"Pbl. \u00a7 12-7 nr. 10\"\n  ]\n}\n```", "refusal": null, "role": "assistant", "audio": null, "function_call": null, "tool_calls": null}, "content_filter_results": {"hate": {"filtered": false, "severity": "safe"}, "protected_material_code": {"filtered": false, "detected": false}, "protected_material_text": {"filtered": false, "detected": false}, "self_harm": {"filtered": false, "severity": "safe"}, "sexual": {"filtered": false, "severity": "safe"}, "violence": {"filtered": false, "severity": "safe"}}}], "created": 1739273734, "model": "gpt-4o-mini-2024-07-18", "object": "chat.completion", "service_tier": null, "system_fingerprint": "fp_f3927aa00d", "usage": {"completion_tokens": 139, "prompt_tokens": 3976, "total_tokens": 4115, "completion_tokens_details": {"accepted_prediction_tokens": 0, "audio_tokens": 0, "reasoning_tokens": 0, "rejected_prediction_tokens": 0}, "prompt_tokens_details": {"audio_tokens": 0, "cached_tokens": 0}}, "prompt_filter_results": [{"prompt_index": 0, "content_filter_results": {"hate": {"filtered": false, "severity": "safe"}, "jailbreak": {"filtered": false, "detected": false}, "self_harm": {"filtered": false, "severity": "safe"}, "sexual": {"filtered": false, "severity": "safe"}, "violence": {"filtered": false, "severity": "safe"}}}]}
python_service-1  | 
python_service-1  | 
python_service-1  | [92m11:35:35 - LiteLLM:INFO[0m: utils.py:1084 - Wrapper: Completed Call, calling success_handler
python_service-1  | INFO:LiteLLM:Wrapper: Completed Call, calling success_handler
python_service-1  | [92m11:35:35 - LiteLLM:DEBUG[0m: cost_calculator.py:563 - completion_response _select_model_name_for_cost_calc: azure/gpt-4o-mini-2024-07-18
python_service-1  | DEBUG:LiteLLM:completion_response _select_model_name_for_cost_calc: azure/gpt-4o-mini-2024-07-18
python_service-1  | [92m11:35:35 - LiteLLM:DEBUG[0m: litellm_logging.py:1014 - Logging Details LiteLLM-Success Call: Cache_hit=None
python_service-1  | DEBUG:LiteLLM:Logging Details LiteLLM-Success Call: Cache_hit=None
python_service-1  | [92m11:35:35 - LiteLLM:DEBUG[0m: utils.py:4175 - checking potential_model_names in litellm.model_cost: {'split_model': 'gpt-4o-mini-2024-07-18', 'combined_model_name': 'azure/gpt-4o-mini-2024-07-18', 'stripped_model_name': 'gpt-4o-mini-2024-07-18', 'combined_stripped_model_name': 'azure/gpt-4o-mini-2024-07-18', 'custom_llm_provider': 'azure'}
python_service-1  | DEBUG:LiteLLM:checking potential_model_names in litellm.model_cost: {'split_model': 'gpt-4o-mini-2024-07-18', 'combined_model_name': 'azure/gpt-4o-mini-2024-07-18', 'stripped_model_name': 'gpt-4o-mini-2024-07-18', 'combined_stripped_model_name': 'azure/gpt-4o-mini-2024-07-18', 'custom_llm_provider': 'azure'}
python_service-1  | [92m11:35:35 - LiteLLM:DEBUG[0m: cost_calculator.py:563 - completion_response _select_model_name_for_cost_calc: azure/gpt-4o-mini-2024-07-18
python_service-1  | DEBUG:LiteLLM:completion_response _select_model_name_for_cost_calc: azure/gpt-4o-mini-2024-07-18
python_service-1  | [92m11:35:35 - LiteLLM:DEBUG[0m: utils.py:4453 - model_info: {'key': 'azure/gpt-4o-mini-2024-07-18', 'max_tokens': 16384, 'max_input_tokens': 128000, 'max_output_tokens': 16384, 'input_cost_per_token': 1.65e-07, 'cache_creation_input_token_cost': None, 'cache_read_input_token_cost': 7.5e-08, 'input_cost_per_character': None, 'input_cost_per_token_above_128k_tokens': None, 'input_cost_per_query': None, 'input_cost_per_second': None, 'input_cost_per_audio_token': None, 'output_cost_per_token': 6.6e-07, 'output_cost_per_audio_token': None, 'output_cost_per_character': None, 'output_cost_per_token_above_128k_tokens': None, 'output_cost_per_character_above_128k_tokens': None, 'output_cost_per_second': None, 'output_cost_per_image': None, 'output_vector_size': None, 'litellm_provider': 'azure', 'mode': 'chat', 'supports_system_messages': None, 'supports_response_schema': True, 'supports_vision': True, 'supports_function_calling': True, 'supports_tool_choice': True, 'supports_assistant_prefill': False, 'supports_prompt_caching': True, 'supports_audio_input': False, 'supports_audio_output': False, 'supports_pdf_input': False, 'supports_embedding_image_input': False, 'supports_native_streaming': None, 'tpm': None, 'rpm': None}
python_service-1  | DEBUG:LiteLLM:model_info: {'key': 'azure/gpt-4o-mini-2024-07-18', 'max_tokens': 16384, 'max_input_tokens': 128000, 'max_output_tokens': 16384, 'input_cost_per_token': 1.65e-07, 'cache_creation_input_token_cost': None, 'cache_read_input_token_cost': 7.5e-08, 'input_cost_per_character': None, 'input_cost_per_token_above_128k_tokens': None, 'input_cost_per_query': None, 'input_cost_per_second': None, 'input_cost_per_audio_token': None, 'output_cost_per_token': 6.6e-07, 'output_cost_per_audio_token': None, 'output_cost_per_character': None, 'output_cost_per_token_above_128k_tokens': None, 'output_cost_per_character_above_128k_tokens': None, 'output_cost_per_second': None, 'output_cost_per_image': None, 'output_vector_size': None, 'litellm_provider': 'azure', 'mode': 'chat', 'supports_system_messages': None, 'supports_response_schema': True, 'supports_vision': True, 'supports_function_calling': True, 'supports_tool_choice': True, 'supports_assistant_prefill': False, 'supports_prompt_caching': True, 'supports_audio_input': False, 'supports_audio_output': False, 'supports_pdf_input': False, 'supports_embedding_image_input': False, 'supports_native_streaming': None, 'tpm': None, 'rpm': None}
python_service-1  | [92m11:35:35 - LiteLLM:DEBUG[0m: utils.py:4175 - checking potential_model_names in litellm.model_cost: {'split_model': 'gpt-4o-mini-2024-07-18', 'combined_model_name': 'azure/gpt-4o-mini-2024-07-18', 'stripped_model_name': 'gpt-4o-mini-2024-07-18', 'combined_stripped_model_name': 'azure/gpt-4o-mini-2024-07-18', 'custom_llm_provider': 'azure'}
python_service-1  | DEBUG:LiteLLM:checking potential_model_names in litellm.model_cost: {'split_model': 'gpt-4o-mini-2024-07-18', 'combined_model_name': 'azure/gpt-4o-mini-2024-07-18', 'stripped_model_name': 'gpt-4o-mini-2024-07-18', 'combined_stripped_model_name': 'azure/gpt-4o-mini-2024-07-18', 'custom_llm_provider': 'azure'}
python_service-1  | [92m11:35:35 - LiteLLM:DEBUG[0m: litellm_logging.py:846 - response_cost: 0.00074778
python_service-1  | DEBUG:LiteLLM:response_cost: 0.00074778
python_service-1  | DEBUG:app.llm.extractor:Available base codes: set()
python_service-1  | DEBUG:app.llm.extractor:Checking field: o_SV1
python_service-1  | WARNING:app.llm.extractor:No base codes available, using pattern matching
python_service-1  | DEBUG:app.llm.extractor:Added valid code: o_SV1
python_service-1  | DEBUG:app.llm.extractor:Checking field: o_SV3
python_service-1  | WARNING:app.llm.extractor:No base codes available, using pattern matching
python_service-1  | DEBUG:app.llm.extractor:Added valid code: o_SV3
python_service-1  | DEBUG:app.llm.extractor:Checking field: BKS
python_service-1  | WARNING:app.llm.extractor:No base codes available, using pattern matching
python_service-1  | DEBUG:app.llm.extractor:Added valid code: BKS
python_service-1  | [92m11:35:35 - LiteLLM:DEBUG[0m: utils.py:4453 - model_info: {'key': 'azure/gpt-4o-mini-2024-07-18', 'max_tokens': 16384, 'max_input_tokens': 128000, 'max_output_tokens': 16384, 'input_cost_per_token': 1.65e-07, 'cache_creation_input_token_cost': None, 'cache_read_input_token_cost': 7.5e-08, 'input_cost_per_character': None, 'input_cost_per_token_above_128k_tokens': None, 'input_cost_per_query': None, 'input_cost_per_second': None, 'input_cost_per_audio_token': None, 'output_cost_per_token': 6.6e-07, 'output_cost_per_audio_token': None, 'output_cost_per_character': None, 'output_cost_per_token_above_128k_tokens': None, 'output_cost_per_character_above_128k_tokens': None, 'output_cost_per_second': None, 'output_cost_per_image': None, 'output_vector_size': None, 'litellm_provider': 'azure', 'mode': 'chat', 'supports_system_messages': None, 'supports_response_schema': True, 'supports_vision': True, 'supports_function_calling': True, 'supports_tool_choice': True, 'supports_assistant_prefill': False, 'supports_prompt_caching': True, 'supports_audio_input': False, 'supports_audio_output': False, 'supports_pdf_input': False, 'supports_embedding_image_input': False, 'supports_native_streaming': None, 'tpm': None, 'rpm': None}
python_service-1  | DEBUG:LiteLLM:model_info: {'key': 'azure/gpt-4o-mini-2024-07-18', 'max_tokens': 16384, 'max_input_tokens': 128000, 'max_output_tokens': 16384, 'input_cost_per_token': 1.65e-07, 'cache_creation_input_token_cost': None, 'cache_read_input_token_cost': 7.5e-08, 'input_cost_per_character': None, 'input_cost_per_token_above_128k_tokens': None, 'input_cost_per_query': None, 'input_cost_per_second': None, 'input_cost_per_audio_token': None, 'output_cost_per_token': 6.6e-07, 'output_cost_per_audio_token': None, 'output_cost_per_character': None, 'output_cost_per_token_above_128k_tokens': None, 'output_cost_per_character_above_128k_tokens': None, 'output_cost_per_second': None, 'output_cost_per_image': None, 'output_vector_size': None, 'litellm_provider': 'azure', 'mode': 'chat', 'supports_system_messages': None, 'supports_response_schema': True, 'supports_vision': True, 'supports_function_calling': True, 'supports_tool_choice': True, 'supports_assistant_prefill': False, 'supports_prompt_caching': True, 'supports_audio_input': False, 'supports_audio_output': False, 'supports_pdf_input': False, 'supports_embedding_image_input': False, 'supports_native_streaming': None, 'tpm': None, 'rpm': None}
python_service-1  | [92m11:35:35 - LiteLLM:DEBUG[0m: litellm_logging.py:846 - response_cost: 0.00074778
python_service-1  | DEBUG:app.llm.extractor:Checking field: o_SF
python_service-1  | DEBUG:LiteLLM:response_cost: 0.00074778
python_service-1  | [92m11:35:35 - LiteLLM:DEBUG[0m: utils.py:4175 - checking potential_model_names in litellm.model_cost: {'split_model': 'gpt-4o-mini-2024-07-18', 'combined_model_name': 'azure/gpt-4o-mini-2024-07-18', 'stripped_model_name': 'gpt-4o-mini-2024-07-18', 'combined_stripped_model_name': 'azure/gpt-4o-mini-2024-07-18', 'custom_llm_provider': 'azure'}
python_service-1  | WARNING:app.llm.extractor:No base codes available, using pattern matching
python_service-1  | DEBUG:app.llm.extractor:Added valid code: o_SF
python_service-1  | DEBUG:app.llm.extractor:Checking field: o_GF1-3
python_service-1  | WARNING:app.llm.extractor:No base codes available, using pattern matching
python_service-1  | DEBUG:app.llm.extractor:Added valid code: o_GF1-3
python_service-1  | DEBUG:app.llm.extractor:Checking field: BR
python_service-1  | WARNING:app.llm.extractor:No base codes available, using pattern matching
python_service-1  | DEBUG:app.llm.extractor:Checking field: Pbl. ¬ß 12-5, nr 2
python_service-1  | WARNING:app.llm.extractor:No base codes available, using pattern matching
python_service-1  | DEBUG:app.llm.extractor:Checking field: BIA
python_service-1  | WARNING:app.llm.extractor:No base codes available, using pattern matching
python_service-1  | DEBUG:app.llm.extractor:Checking field: Pbl. ¬ß 12-5, 2. ledd nr 3
python_service-1  | WARNING:app.llm.extractor:No base codes available, using pattern matching
python_service-1  | DEBUG:LiteLLM:checking potential_model_names in litellm.model_cost: {'split_model': 'gpt-4o-mini-2024-07-18', 'combined_model_name': 'azure/gpt-4o-mini-2024-07-18', 'stripped_model_name': 'gpt-4o-mini-2024-07-18', 'combined_stripped_model_name': 'azure/gpt-4o-mini-2024-07-18', 'custom_llm_provider': 'azure'}
python_service-1  | [92m11:35:35 - LiteLLM:DEBUG[0m: utils.py:4453 - model_info: {'key': 'azure/gpt-4o-mini-2024-07-18', 'max_tokens': 16384, 'max_input_tokens': 128000, 'max_output_tokens': 16384, 'input_cost_per_token': 1.65e-07, 'cache_creation_input_token_cost': None, 'cache_read_input_token_cost': 7.5e-08, 'input_cost_per_character': None, 'input_cost_per_token_above_128k_tokens': None, 'input_cost_per_query': None, 'input_cost_per_second': None, 'input_cost_per_audio_token': None, 'output_cost_per_token': 6.6e-07, 'output_cost_per_audio_token': None, 'output_cost_per_character': None, 'output_cost_per_token_above_128k_tokens': None, 'output_cost_per_character_above_128k_tokens': None, 'output_cost_per_second': None, 'output_cost_per_image': None, 'output_vector_size': None, 'litellm_provider': 'azure', 'mode': 'chat', 'supports_system_messages': None, 'supports_response_schema': True, 'supports_vision': True, 'supports_function_calling': True, 'supports_tool_choice': True, 'supports_assistant_prefill': False, 'supports_prompt_caching': True, 'supports_audio_input': False, 'supports_audio_output': False, 'supports_pdf_input': False, 'supports_embedding_image_input': False, 'supports_native_streaming': None, 'tpm': None, 'rpm': None}
python_service-1  | DEBUG:app.llm.extractor:Checking field: o_GTD1-2
python_service-1  | WARNING:app.llm.extractor:No base codes available, using pattern matching
python_service-1  | DEBUG:app.llm.extractor:Added valid code: o_GTD1-2
python_service-1  | DEBUG:LiteLLM:model_info: {'key': 'azure/gpt-4o-mini-2024-07-18', 'max_tokens': 16384, 'max_input_tokens': 128000, 'max_output_tokens': 16384, 'input_cost_per_token': 1.65e-07, 'cache_creation_input_token_cost': None, 'cache_read_input_token_cost': 7.5e-08, 'input_cost_per_character': None, 'input_cost_per_token_above_128k_tokens': None, 'input_cost_per_query': None, 'input_cost_per_second': None, 'input_cost_per_audio_token': None, 'output_cost_per_token': 6.6e-07, 'output_cost_per_audio_token': None, 'output_cost_per_character': None, 'output_cost_per_token_above_128k_tokens': None, 'output_cost_per_character_above_128k_tokens': None, 'output_cost_per_second': None, 'output_cost_per_image': None, 'output_vector_size': None, 'litellm_provider': 'azure', 'mode': 'chat', 'supports_system_messages': None, 'supports_response_schema': True, 'supports_vision': True, 'supports_function_calling': True, 'supports_tool_choice': True, 'supports_assistant_prefill': False, 'supports_prompt_caching': True, 'supports_audio_input': False, 'supports_audio_output': False, 'supports_pdf_input': False, 'supports_embedding_image_input': False, 'supports_native_streaming': None, 'tpm': None, 'rpm': None}
python_service-1  | [92m11:35:35 - LiteLLM:DEBUG[0m: litellm_logging.py:1040 - Logging Details LiteLLM-Success Call streaming complete
python_service-1  | DEBUG:app.llm.extractor:Checking field: Pbl. ¬ß 12-7 nr. 10
python_service-1  | WARNING:app.llm.extractor:No base codes available, using pattern matching
python_service-1  | DEBUG:app.llm.extractor:Checking field: o_SPA
python_service-1  | WARNING:app.llm.extractor:No base codes available, using pattern matching
python_service-1  | DEBUG:app.llm.extractor:Added valid code: o_SPA
python_service-1  | DEBUG:app.llm.extractor:Checking field: BE
python_service-1  | DEBUG:LiteLLM:Logging Details LiteLLM-Success Call streaming complete
python_service-1  | [92m11:35:35 - LiteLLM:DEBUG[0m: cost_calculator.py:563 - completion_response _select_model_name_for_cost_calc: azure/gpt-4o-mini-2024-07-18
python_service-1  | WARNING:app.llm.extractor:No base codes available, using pattern matching
python_service-1  | DEBUG:app.llm.extractor:Checking field: Pbl. ¬ß 12-5, nr 1
python_service-1  | WARNING:app.llm.extractor:No base codes available, using pattern matching
python_service-1  | INFO:app.llm.extractor:Extracted fields: {'BKS', 'O_SV3', 'O_GTD1-2', 'O_SF', 'O_GF1-3', 'O_SPA', 'O_SV1'}
python_service-1  | DEBUG:LiteLLM:completion_response _select_model_name_for_cost_calc: azure/gpt-4o-mini-2024-07-18
python_service-1  | [92m11:35:35 - LiteLLM:DEBUG[0m: utils.py:4175 - checking potential_model_names in litellm.model_cost: {'split_model': 'gpt-4o-mini-2024-07-18', 'combined_model_name': 'azure/gpt-4o-mini-2024-07-18', 'stripped_model_name': 'gpt-4o-mini-2024-07-18', 'combined_stripped_model_name': 'azure/gpt-4o-mini-2024-07-18', 'custom_llm_provider': 'azure'}
python_service-1  | INFO:app.main:Field consistency check completed successfully
python_service-1  | DEBUG:LiteLLM:checking potential_model_names in litellm.model_cost: {'split_model': 'gpt-4o-mini-2024-07-18', 'combined_model_name': 'azure/gpt-4o-mini-2024-07-18', 'stripped_model_name': 'gpt-4o-mini-2024-07-18', 'combined_stripped_model_name': 'azure/gpt-4o-mini-2024-07-18', 'custom_llm_provider': 'azure'}
python_service-1  | [92m11:35:35 - LiteLLM:DEBUG[0m: utils.py:4453 - model_info: {'key': 'azure/gpt-4o-mini-2024-07-18', 'max_tokens': 16384, 'max_input_tokens': 128000, 'max_output_tokens': 16384, 'input_cost_per_token': 1.65e-07, 'cache_creation_input_token_cost': None, 'cache_read_input_token_cost': 7.5e-08, 'input_cost_per_character': None, 'input_cost_per_token_above_128k_tokens': None, 'input_cost_per_query': None, 'input_cost_per_second': None, 'input_cost_per_audio_token': None, 'output_cost_per_token': 6.6e-07, 'output_cost_per_audio_token': None, 'output_cost_per_character': None, 'output_cost_per_token_above_128k_tokens': None, 'output_cost_per_character_above_128k_tokens': None, 'output_cost_per_second': None, 'output_cost_per_image': None, 'output_vector_size': None, 'litellm_provider': 'azure', 'mode': 'chat', 'supports_system_messages': None, 'supports_response_schema': True, 'supports_vision': True, 'supports_function_calling': True, 'supports_tool_choice': True, 'supports_assistant_prefill': False, 'supports_prompt_caching': True, 'supports_audio_input': False, 'supports_audio_output': False, 'supports_pdf_input': False, 'supports_embedding_image_input': False, 'supports_native_streaming': None, 'tpm': None, 'rpm': None}
python_service-1  | INFO:     172.19.0.4:44390 - "POST /api/check-field-consistency HTTP/1.1" 200 OK
python_service-1  | DEBUG:LiteLLM:model_info: {'key': 'azure/gpt-4o-mini-2024-07-18', 'max_tokens': 16384, 'max_input_tokens': 128000, 'max_output_tokens': 16384, 'input_cost_per_token': 1.65e-07, 'cache_creation_input_token_cost': None, 'cache_read_input_token_cost': 7.5e-08, 'input_cost_per_character': None, 'input_cost_per_token_above_128k_tokens': None, 'input_cost_per_query': None, 'input_cost_per_second': None, 'input_cost_per_audio_token': None, 'output_cost_per_token': 6.6e-07, 'output_cost_per_audio_token': None, 'output_cost_per_character': None, 'output_cost_per_token_above_128k_tokens': None, 'output_cost_per_character_above_128k_tokens': None, 'output_cost_per_second': None, 'output_cost_per_image': None, 'output_vector_size': None, 'litellm_provider': 'azure', 'mode': 'chat', 'supports_system_messages': None, 'supports_response_schema': True, 'supports_vision': True, 'supports_function_calling': True, 'supports_tool_choice': True, 'supports_assistant_prefill': False, 'supports_prompt_caching': True, 'supports_audio_input': False, 'supports_audio_output': False, 'supports_pdf_input': False, 'supports_embedding_image_input': False, 'supports_native_streaming': None, 'tpm': None, 'rpm': None}
python_service-1  | [92m11:35:35 - LiteLLM:DEBUG[0m: litellm_logging.py:861 - response_cost_failure_debug_information: {'error_str': "'CompletionUsage' object is not subscriptable", 'traceback_str': 'Traceback (most recent call last):\n  File "/usr/local/lib/python3.12/site-packages/litellm/litellm_core_utils/litellm_logging.py", line 843, in _response_cost_calculator\n    response_cost = litellm.response_cost_calculator(\n                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "/usr/local/lib/python3.12/site-packages/litellm/cost_calculator.py", line 833, in response_cost_calculator\n    raise e\n  File "/usr/local/lib/python3.12/site-packages/litellm/cost_calculator.py", line 821, in response_cost_calculator\n    response_cost = completion_cost(\n                    ^^^^^^^^^^^^^^^^\n  File "/usr/local/lib/python3.12/site-packages/litellm/cost_calculator.py", line 771, in completion_cost\n    raise e\n  File "/usr/local/lib/python3.12/site-packages/litellm/cost_calculator.py", line 750, in completion_cost\n    ) = cost_per_token(\n        ^^^^^^^^^^^^^^^\n  File "/usr/local/lib/python3.12/site-packages/litellm/cost_calculator.py", line 279, in cost_per_token\n    return azure_openai_cost_per_token(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "/usr/local/lib/python3.12/site-packages/litellm/llms/azure/cost_calculation.py", line 38, in cost_per_token\n    usage["completion_tokens"] * model_info["output_cost_per_token"]\n    ~~~~~^^^^^^^^^^^^^^^^^^^^^\nTypeError: \'CompletionUsage\' object is not subscriptable\n', 'model': 'gpt-4o-mini', 'cache_hit': None, 'custom_llm_provider': 'azure', 'base_model': None, 'call_type': 'completion', 'custom_pricing': False}
python_service-1  | DEBUG:LiteLLM:response_cost_failure_debug_information: {'error_str': "'CompletionUsage' object is not subscriptable", 'traceback_str': 'Traceback (most recent call last):\n  File "/usr/local/lib/python3.12/site-packages/litellm/litellm_core_utils/litellm_logging.py", line 843, in _response_cost_calculator\n    response_cost = litellm.response_cost_calculator(\n                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "/usr/local/lib/python3.12/site-packages/litellm/cost_calculator.py", line 833, in response_cost_calculator\n    raise e\n  File "/usr/local/lib/python3.12/site-packages/litellm/cost_calculator.py", line 821, in response_cost_calculator\n    response_cost = completion_cost(\n                    ^^^^^^^^^^^^^^^^\n  File "/usr/local/lib/python3.12/site-packages/litellm/cost_calculator.py", line 771, in completion_cost\n    raise e\n  File "/usr/local/lib/python3.12/site-packages/litellm/cost_calculator.py", line 750, in completion_cost\n    ) = cost_per_token(\n        ^^^^^^^^^^^^^^^\n  File "/usr/local/lib/python3.12/site-packages/litellm/cost_calculator.py", line 279, in cost_per_token\n    return azure_openai_cost_per_token(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "/usr/local/lib/python3.12/site-packages/litellm/llms/azure/cost_calculation.py", line 38, in cost_per_token\n    usage["completion_tokens"] * model_info["output_cost_per_token"]\n    ~~~~~^^^^^^^^^^^^^^^^^^^^^\nTypeError: \'CompletionUsage\' object is not subscriptable\n', 'model': 'gpt-4o-mini', 'cache_hit': None, 'custom_llm_provider': 'azure', 'base_model': None, 'call_type': 'completion', 'custom_pricing': False}
python_service-1  | [92m11:35:35 - LiteLLM:DEBUG[0m: utils.py:4175 - checking potential_model_names in litellm.model_cost: {'split_model': 'gpt-4o-mini-2024-07-18', 'combined_model_name': 'azure/gpt-4o-mini-2024-07-18', 'stripped_model_name': 'gpt-4o-mini-2024-07-18', 'combined_stripped_model_name': 'azure/gpt-4o-mini-2024-07-18', 'custom_llm_provider': 'azure'}
python_service-1  | DEBUG:LiteLLM:checking potential_model_names in litellm.model_cost: {'split_model': 'gpt-4o-mini-2024-07-18', 'combined_model_name': 'azure/gpt-4o-mini-2024-07-18', 'stripped_model_name': 'gpt-4o-mini-2024-07-18', 'combined_stripped_model_name': 'azure/gpt-4o-mini-2024-07-18', 'custom_llm_provider': 'azure'}
python_service-1  | [92m11:35:35 - LiteLLM:DEBUG[0m: utils.py:4453 - model_info: {'key': 'azure/gpt-4o-mini-2024-07-18', 'max_tokens': 16384, 'max_input_tokens': 128000, 'max_output_tokens': 16384, 'input_cost_per_token': 1.65e-07, 'cache_creation_input_token_cost': None, 'cache_read_input_token_cost': 7.5e-08, 'input_cost_per_character': None, 'input_cost_per_token_above_128k_tokens': None, 'input_cost_per_query': None, 'input_cost_per_second': None, 'input_cost_per_audio_token': None, 'output_cost_per_token': 6.6e-07, 'output_cost_per_audio_token': None, 'output_cost_per_character': None, 'output_cost_per_token_above_128k_tokens': None, 'output_cost_per_character_above_128k_tokens': None, 'output_cost_per_second': None, 'output_cost_per_image': None, 'output_vector_size': None, 'litellm_provider': 'azure', 'mode': 'chat', 'supports_system_messages': None, 'supports_response_schema': True, 'supports_vision': True, 'supports_function_calling': True, 'supports_tool_choice': True, 'supports_assistant_prefill': False, 'supports_prompt_caching': True, 'supports_audio_input': False, 'supports_audio_output': False, 'supports_pdf_input': False, 'supports_embedding_image_input': False, 'supports_native_streaming': None, 'tpm': None, 'rpm': None}
python_service-1  | DEBUG:LiteLLM:model_info: {'key': 'azure/gpt-4o-mini-2024-07-18', 'max_tokens': 16384, 'max_input_tokens': 128000, 'max_output_tokens': 16384, 'input_cost_per_token': 1.65e-07, 'cache_creation_input_token_cost': None, 'cache_read_input_token_cost': 7.5e-08, 'input_cost_per_character': None, 'input_cost_per_token_above_128k_tokens': None, 'input_cost_per_query': None, 'input_cost_per_second': None, 'input_cost_per_audio_token': None, 'output_cost_per_token': 6.6e-07, 'output_cost_per_audio_token': None, 'output_cost_per_character': None, 'output_cost_per_token_above_128k_tokens': None, 'output_cost_per_character_above_128k_tokens': None, 'output_cost_per_second': None, 'output_cost_per_image': None, 'output_vector_size': None, 'litellm_provider': 'azure', 'mode': 'chat', 'supports_system_messages': None, 'supports_response_schema': True, 'supports_vision': True, 'supports_function_calling': True, 'supports_tool_choice': True, 'supports_assistant_prefill': False, 'supports_prompt_caching': True, 'supports_audio_input': False, 'supports_audio_output': False, 'supports_pdf_input': False, 'supports_embedding_image_input': False, 'supports_native_streaming': None, 'tpm': None, 'rpm': None}
